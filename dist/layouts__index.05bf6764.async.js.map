{"version":3,"file":"layouts__index.05bf6764.async.js","mappings":"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","sources":["webpack:///./src/constants/chat.ts","webpack:///./src/constants/knowledge.ts","webpack:///./src/hooks/common-hooks.tsx","webpack:///./src/hooks/logic-hooks.ts","webpack:///./src/hooks/route-hook.ts","webpack:///./src/assets/svg/file-management.svg","webpack:///./src/assets/svg/knowledge-base.svg","webpack:///./src/layouts/index.less?90c5","webpack:///./src/layouts/components/user/index.tsx","webpack:///./src/layouts/components/right-toolbar/index.less?2923","webpack:///./src/layouts/components/right-toolbar/index.tsx","webpack:///./src/layouts/components/header/index.less?a412","webpack:///./src/layouts/components/header/index.tsx","webpack:///./src/layouts/index.tsx","webpack:///./src/utils/chat.ts","webpack:///./src/hooks/ lazy namespace object"],"sourcesContent":["export enum MessageType {\n  Assistant = 'assistant',\n  User = 'user',\n}\n\nexport const variableEnabledFieldMap = {\n  temperatureEnabled: 'temperature',\n  topPEnabled: 'top_p',\n  presencePenaltyEnabled: 'presence_penalty',\n  frequencyPenaltyEnabled: 'frequency_penalty',\n  maxTokensEnabled: 'max_tokens',\n};\n\nexport enum SharedFrom {\n  Agent = 'agent',\n  Chat = 'chat',\n}\n\nexport enum ChatSearchParams {\n  DialogId = 'dialogId',\n  ConversationId = 'conversationId',\n  isNew = 'isNew',\n}\n\nexport const EmptyConversationId = 'empty';\n","export enum KnowledgeRouteKey {\n  Dataset = 'dataset',\n  Testing = 'testing',\n  Configuration = 'configuration',\n  KnowledgeGraph = 'knowledgeGraph',\n}\n\nexport const DatasetBaseKey = 'dataset';\n\nexport enum RunningStatus {\n  UNSTART = '0', // need to run\n  RUNNING = '1', // need to cancel\n  CANCEL = '2', // need to refresh\n  DONE = '3', // need to refresh\n  FAIL = '4', // need to refresh\n}\n\nexport enum ModelVariableType {\n  Improvise = 'Improvise',\n  Precise = 'Precise',\n  Balance = 'Balance',\n}\n\nexport const settledModelVariableMap = {\n  [ModelVariableType.Improvise]: {\n    temperature: 0.9,\n    top_p: 0.9,\n    frequency_penalty: 0.2,\n    presence_penalty: 0.4,\n    max_tokens: 512,\n  },\n  [ModelVariableType.Precise]: {\n    temperature: 0.1,\n    top_p: 0.3,\n    frequency_penalty: 0.7,\n    presence_penalty: 0.4,\n    max_tokens: 512,\n  },\n  [ModelVariableType.Balance]: {\n    temperature: 0.5,\n    top_p: 0.5,\n    frequency_penalty: 0.7,\n    presence_penalty: 0.4,\n    max_tokens: 512,\n  },\n};\n\nexport enum LlmModelType {\n  Embedding = 'embedding',\n  Chat = 'chat',\n  Image2text = 'image2text',\n  Speech2text = 'speech2text',\n  Rerank = 'rerank',\n  TTS = 'tts',\n}\n\nexport enum KnowledgeSearchParams {\n  DocumentId = 'doc_id',\n  KnowledgeId = 'id',\n}\n\nexport enum DocumentType {\n  Virtual = 'virtual',\n  Visual = 'visual',\n}\n\nexport enum DocumentParserType {\n  Naive = 'naive',\n  Qa = 'qa',\n  Resume = 'resume',\n  Manual = 'manual',\n  Table = 'table',\n  Paper = 'paper',\n  Book = 'book',\n  Laws = 'laws',\n  Presentation = 'presentation',\n  Picture = 'picture',\n  One = 'one',\n  Audio = 'audio',\n  Email = 'email',\n  Tag = 'tag',\n}\n","import { ExclamationCircleFilled } from '@ant-design/icons';\nimport { App } from 'antd';\nimport isEqual from 'lodash/isEqual';\nimport { ReactNode, useCallback, useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nexport const useSetModalState = () => {\n  const [visible, setVisible] = useState(false);\n\n  const showModal = useCallback(() => {\n    setVisible(true);\n  }, []);\n  const hideModal = useCallback(() => {\n    setVisible(false);\n  }, []);\n\n  const switchVisible = useCallback(() => {\n    setVisible(!visible);\n  }, [visible]);\n\n  return { visible, showModal, hideModal, switchVisible };\n};\n\nexport const useDeepCompareEffect = (\n  effect: React.EffectCallback,\n  deps: React.DependencyList,\n) => {\n  const ref = useRef<React.DependencyList>();\n  let callback: ReturnType<React.EffectCallback> = () => {};\n  if (!isEqual(deps, ref.current)) {\n    callback = effect();\n    ref.current = deps;\n  }\n  useEffect(() => {\n    return () => {\n      if (callback) {\n        callback();\n      }\n    };\n  }, []);\n};\n\nexport interface UseDynamicSVGImportOptions {\n  onCompleted?: (\n    name: string,\n    SvgIcon: React.FC<React.SVGProps<SVGSVGElement>> | undefined,\n  ) => void;\n  onError?: (err: Error) => void;\n}\n\nexport function useDynamicSVGImport(\n  name: string,\n  options: UseDynamicSVGImportOptions = {},\n) {\n  const ImportedIconRef = useRef<React.FC<React.SVGProps<SVGSVGElement>>>();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<Error>();\n\n  const { onCompleted, onError } = options;\n  useEffect(() => {\n    setLoading(true);\n    const importIcon = async (): Promise<void> => {\n      try {\n        ImportedIconRef.current = (await import(name)).ReactComponent;\n        onCompleted?.(name, ImportedIconRef.current);\n      } catch (err: any) {\n        onError?.(err);\n        setError(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    importIcon();\n  }, [name, onCompleted, onError]);\n\n  return { error, loading, SvgIcon: ImportedIconRef.current };\n}\n\ninterface IProps {\n  title?: string;\n  content?: ReactNode;\n  onOk?: (...args: any[]) => any;\n  onCancel?: (...args: any[]) => any;\n}\n\nexport const useShowDeleteConfirm = () => {\n  const { modal } = App.useApp();\n  const { t } = useTranslation();\n\n  const showDeleteConfirm = useCallback(\n    ({ title, content, onOk, onCancel }: IProps): Promise<number> => {\n      return new Promise((resolve, reject) => {\n        modal.confirm({\n          title: title ?? t('common.deleteModalTitle'),\n          icon: <ExclamationCircleFilled />,\n          content,\n          okText: t('common.ok'),\n          okType: 'danger',\n          cancelText: t('common.cancel'),\n          async onOk() {\n            try {\n              const ret = await onOk?.();\n              resolve(ret);\n              console.info(ret);\n            } catch (error) {\n              reject(error);\n            }\n          },\n          onCancel() {\n            onCancel?.();\n          },\n        });\n      });\n    },\n    [t, modal],\n  );\n\n  return showDeleteConfirm;\n};\n\nexport const useTranslate = (keyPrefix: string) => {\n  return useTranslation('translation', { keyPrefix });\n};\n\nexport const useCommonTranslation = () => {\n  return useTranslation('translation', { keyPrefix: 'common' });\n};\n","import { Authorization } from '@/constants/authorization';\nimport { MessageType } from '@/constants/chat';\nimport { LanguageTranslationMap } from '@/constants/common';\nimport { ResponseType } from '@/interfaces/database/base';\nimport { IAnswer, Message } from '@/interfaces/database/chat';\nimport { IKnowledgeFile } from '@/interfaces/database/knowledge';\nimport { IClientConversation, IMessage } from '@/pages/chat/interface';\nimport api from '@/utils/api';\nimport { getAuthorization } from '@/utils/authorization-util';\nimport { buildMessageUuid } from '@/utils/chat';\nimport { PaginationProps, message } from 'antd';\nimport { FormInstance } from 'antd/lib';\nimport axios from 'axios';\nimport { EventSourceParserStream } from 'eventsource-parser/stream';\nimport { omit } from 'lodash';\nimport {\n  ChangeEventHandler,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { v4 as uuid } from 'uuid';\nimport { useTranslate } from './common-hooks';\nimport { useSetPaginationParams } from './route-hook';\nimport { useFetchTenantInfo, useSaveSetting } from './user-setting-hooks';\n\nexport const useSetSelectedRecord = <T = IKnowledgeFile>() => {\n  const [currentRecord, setCurrentRecord] = useState<T>({} as T);\n\n  const setRecord = (record: T) => {\n    setCurrentRecord(record);\n  };\n\n  return { currentRecord, setRecord };\n};\n\nexport const useHandleSearchChange = () => {\n  const [searchString, setSearchString] = useState('');\n\n  const handleInputChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n      const value = e.target.value;\n      setSearchString(value);\n    },\n    [],\n  );\n\n  return { handleInputChange, searchString };\n};\n\nexport const useChangeLanguage = () => {\n  const { i18n } = useTranslation();\n  const { saveSetting } = useSaveSetting();\n\n  const changeLanguage = (lng: string) => {\n    i18n.changeLanguage(\n      LanguageTranslationMap[lng as keyof typeof LanguageTranslationMap],\n    );\n    saveSetting({ language: lng });\n  };\n\n  return changeLanguage;\n};\n\nexport const useGetPaginationWithRouter = () => {\n  const { t } = useTranslate('common');\n  const {\n    setPaginationParams,\n    page,\n    size: pageSize,\n  } = useSetPaginationParams();\n\n  const onPageChange: PaginationProps['onChange'] = useCallback(\n    (pageNumber: number, pageSize: number) => {\n      setPaginationParams(pageNumber, pageSize);\n    },\n    [setPaginationParams],\n  );\n\n  const setCurrentPagination = useCallback(\n    (pagination: { page: number; pageSize?: number }) => {\n      setPaginationParams(pagination.page, pagination.pageSize);\n    },\n    [setPaginationParams],\n  );\n\n  const pagination: PaginationProps = useMemo(() => {\n    return {\n      showQuickJumper: true,\n      total: 0,\n      showSizeChanger: true,\n      current: page,\n      pageSize: pageSize,\n      pageSizeOptions: [1, 2, 10, 20, 50, 100],\n      onChange: onPageChange,\n      showTotal: (total) => `${t('total')} ${total}`,\n    };\n  }, [t, onPageChange, page, pageSize]);\n\n  return {\n    pagination,\n    setPagination: setCurrentPagination,\n  };\n};\n\nexport const useGetPagination = () => {\n  const [pagination, setPagination] = useState({ page: 1, pageSize: 10 });\n  const { t } = useTranslate('common');\n\n  const onPageChange: PaginationProps['onChange'] = useCallback(\n    (pageNumber: number, pageSize: number) => {\n      setPagination({ page: pageNumber, pageSize });\n    },\n    [],\n  );\n\n  const currentPagination: PaginationProps = useMemo(() => {\n    return {\n      showQuickJumper: true,\n      total: 0,\n      showSizeChanger: true,\n      current: pagination.page,\n      pageSize: pagination.pageSize,\n      pageSizeOptions: [1, 2, 10, 20, 50, 100],\n      onChange: onPageChange,\n      showTotal: (total) => `${t('total')} ${total}`,\n    };\n  }, [t, onPageChange, pagination]);\n\n  return {\n    pagination: currentPagination,\n  };\n};\n\nexport interface AppConf {\n  appName: string;\n}\n\nexport const useFetchAppConf = () => {\n  const [appConf, setAppConf] = useState<AppConf>({} as AppConf);\n  const fetchAppConf = useCallback(async () => {\n    const ret = await axios.get('/conf.json');\n\n    setAppConf(ret.data);\n  }, []);\n\n  useEffect(() => {\n    fetchAppConf();\n  }, [fetchAppConf]);\n\n  return appConf;\n};\n\nexport const useSendMessageWithSse = (\n  url: string = api.completeConversation,\n) => {\n  const [answer, setAnswer] = useState<IAnswer>({} as IAnswer);\n  const [done, setDone] = useState(true);\n  const timer = useRef<any>();\n\n  const resetAnswer = useCallback(() => {\n    if (timer.current) {\n      clearTimeout(timer.current);\n    }\n    timer.current = setTimeout(() => {\n      setAnswer({} as IAnswer);\n      clearTimeout(timer.current);\n    }, 1000);\n  }, []);\n\n  const send = useCallback(\n    async (\n      body: any,\n      controller?: AbortController,\n    ): Promise<{ response: Response; data: ResponseType } | undefined> => {\n      try {\n        setDone(false);\n        const response = await fetch(url, {\n          method: 'POST',\n          headers: {\n            [Authorization]: getAuthorization(),\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify(body),\n          signal: controller?.signal,\n        });\n\n        const res = response.clone().json();\n\n        const reader = response?.body\n          ?.pipeThrough(new TextDecoderStream())\n          .pipeThrough(new EventSourceParserStream())\n          .getReader();\n\n        while (true) {\n          const x = await reader?.read();\n          if (x) {\n            const { done, value } = x;\n            if (done) {\n              console.info('done');\n              resetAnswer();\n              break;\n            }\n            try {\n              const val = JSON.parse(value?.data || '');\n              const d = val?.data;\n              if (typeof d !== 'boolean') {\n                console.info('data:', d);\n                setAnswer({\n                  ...d,\n                  conversationId: body?.conversation_id,\n                });\n              }\n            } catch (e) {\n              console.warn(e);\n            }\n          }\n        }\n        console.info('done?');\n        setDone(true);\n        resetAnswer();\n        return { data: await res, response };\n      } catch (e) {\n        setDone(true);\n        resetAnswer();\n\n        console.warn(e);\n      }\n    },\n    [url, resetAnswer],\n  );\n\n  return { send, answer, done, setDone, resetAnswer };\n};\n\nexport const useSpeechWithSse = (url: string = api.tts) => {\n  const read = useCallback(\n    async (body: any) => {\n      const response = await fetch(url, {\n        method: 'POST',\n        headers: {\n          [Authorization]: getAuthorization(),\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(body),\n      });\n      try {\n        const res = await response.clone().json();\n        if (res?.code !== 0) {\n          message.error(res?.message);\n        }\n      } catch (error) {\n        console.warn('ðŸš€ ~ error:', error);\n      }\n      return response;\n    },\n    [url],\n  );\n\n  return { read };\n};\n\n//#region chat hooks\n\nexport const useScrollToBottom = (messages?: unknown) => {\n  const ref = useRef<HTMLDivElement>(null);\n\n  const scrollToBottom = useCallback(() => {\n    if (messages) {\n      ref.current?.scrollIntoView({ behavior: 'instant' });\n    }\n  }, [messages]); // If the message changes, scroll to the bottom\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [scrollToBottom]);\n\n  return ref;\n};\n\nexport const useHandleMessageInputChange = () => {\n  const [value, setValue] = useState('');\n\n  const handleInputChange: ChangeEventHandler<HTMLInputElement> = (e) => {\n    const value = e.target.value;\n    const nextValue = value.replaceAll('\\\\n', '\\n').replaceAll('\\\\t', '\\t');\n    setValue(nextValue);\n  };\n\n  return {\n    handleInputChange,\n    value,\n    setValue,\n  };\n};\n\nexport const useSelectDerivedMessages = () => {\n  const [derivedMessages, setDerivedMessages] = useState<IMessage[]>([]);\n\n  const ref = useScrollToBottom(derivedMessages);\n\n  const addNewestQuestion = useCallback(\n    (message: Message, answer: string = '') => {\n      setDerivedMessages((pre) => {\n        return [\n          ...pre,\n          {\n            ...message,\n            id: buildMessageUuid(message), // The message id is generated on the front end,\n            // and the message id returned by the back end is the same as the question id,\n            //  so that the pair of messages can be deleted together when deleting the message\n          },\n          {\n            role: MessageType.Assistant,\n            content: answer,\n            id: buildMessageUuid({ ...message, role: MessageType.Assistant }),\n          },\n        ];\n      });\n    },\n    [],\n  );\n\n  // Add the streaming message to the last item in the message list\n  const addNewestAnswer = useCallback((answer: IAnswer) => {\n    setDerivedMessages((pre) => {\n      return [\n        ...(pre?.slice(0, -1) ?? []),\n        {\n          role: MessageType.Assistant,\n          content: answer.answer,\n          reference: answer.reference,\n          id: buildMessageUuid({\n            id: answer.id,\n            role: MessageType.Assistant,\n          }),\n          prompt: answer.prompt,\n          audio_binary: answer.audio_binary,\n          ...omit(answer, 'reference'),\n        },\n      ];\n    });\n  }, []);\n\n  const removeLatestMessage = useCallback(() => {\n    setDerivedMessages((pre) => {\n      const nextMessages = pre?.slice(0, -2) ?? [];\n      return nextMessages;\n    });\n  }, []);\n\n  const removeMessageById = useCallback(\n    (messageId: string) => {\n      setDerivedMessages((pre) => {\n        const nextMessages = pre?.filter((x) => x.id !== messageId) ?? [];\n        return nextMessages;\n      });\n    },\n    [setDerivedMessages],\n  );\n\n  const removeMessagesAfterCurrentMessage = useCallback(\n    (messageId: string) => {\n      setDerivedMessages((pre) => {\n        const index = pre.findIndex((x) => x.id === messageId);\n        if (index !== -1) {\n          let nextMessages = pre.slice(0, index + 2) ?? [];\n          const latestMessage = nextMessages.at(-1);\n          nextMessages = latestMessage\n            ? [\n                ...nextMessages.slice(0, -1),\n                {\n                  ...latestMessage,\n                  content: '',\n                  reference: undefined,\n                  prompt: undefined,\n                },\n              ]\n            : nextMessages;\n          return nextMessages;\n        }\n        return pre;\n      });\n    },\n    [setDerivedMessages],\n  );\n\n  return {\n    ref,\n    derivedMessages,\n    setDerivedMessages,\n    addNewestQuestion,\n    addNewestAnswer,\n    removeLatestMessage,\n    removeMessageById,\n    removeMessagesAfterCurrentMessage,\n  };\n};\n\nexport interface IRemoveMessageById {\n  removeMessageById(messageId: string): void;\n}\n\nexport const useRemoveMessagesAfterCurrentMessage = (\n  setCurrentConversation: (\n    callback: (state: IClientConversation) => IClientConversation,\n  ) => void,\n) => {\n  const removeMessagesAfterCurrentMessage = useCallback(\n    (messageId: string) => {\n      setCurrentConversation((pre) => {\n        const index = pre.message?.findIndex((x) => x.id === messageId);\n        if (index !== -1) {\n          let nextMessages = pre.message?.slice(0, index + 2) ?? [];\n          const latestMessage = nextMessages.at(-1);\n          nextMessages = latestMessage\n            ? [\n                ...nextMessages.slice(0, -1),\n                {\n                  ...latestMessage,\n                  content: '',\n                  reference: undefined,\n                  prompt: undefined,\n                },\n              ]\n            : nextMessages;\n          return {\n            ...pre,\n            message: nextMessages,\n          };\n        }\n        return pre;\n      });\n    },\n    [setCurrentConversation],\n  );\n\n  return { removeMessagesAfterCurrentMessage };\n};\n\nexport interface IRegenerateMessage {\n  regenerateMessage?: (message: Message) => void;\n}\n\nexport const useRegenerateMessage = ({\n  removeMessagesAfterCurrentMessage,\n  sendMessage,\n  messages,\n}: {\n  removeMessagesAfterCurrentMessage(messageId: string): void;\n  sendMessage({\n    message,\n  }: {\n    message: Message;\n    messages?: Message[];\n  }): void | Promise<any>;\n  messages: Message[];\n}) => {\n  const regenerateMessage = useCallback(\n    async (message: Message) => {\n      if (message.id) {\n        removeMessagesAfterCurrentMessage(message.id);\n        const index = messages.findIndex((x) => x.id === message.id);\n        let nextMessages;\n        if (index !== -1) {\n          nextMessages = messages.slice(0, index);\n        }\n        sendMessage({\n          message: { ...message, id: uuid() },\n          messages: nextMessages,\n        });\n      }\n    },\n    [removeMessagesAfterCurrentMessage, sendMessage, messages],\n  );\n\n  return { regenerateMessage };\n};\n\n// #endregion\n\n/**\n *\n * @param defaultId\n * used to switch between different items, similar to radio\n * @returns\n */\nexport const useSelectItem = (defaultId?: string) => {\n  const [selectedId, setSelectedId] = useState('');\n\n  const handleItemClick = useCallback(\n    (id: string) => () => {\n      setSelectedId(id);\n    },\n    [],\n  );\n\n  useEffect(() => {\n    if (defaultId) {\n      setSelectedId(defaultId);\n    }\n  }, [defaultId]);\n\n  return { selectedId, handleItemClick };\n};\n\nexport const useFetchModelId = () => {\n  const { data: tenantInfo } = useFetchTenantInfo(true);\n\n  return tenantInfo?.llm_id ?? '';\n};\n\nconst ChunkTokenNumMap = {\n  naive: 128,\n  knowledge_graph: 8192,\n};\n\nexport const useHandleChunkMethodSelectChange = (form: FormInstance) => {\n  // const form = Form.useFormInstance();\n  const handleChange = useCallback(\n    (value: string) => {\n      if (value in ChunkTokenNumMap) {\n        form.setFieldValue(\n          ['parser_config', 'chunk_token_num'],\n          ChunkTokenNumMap[value as keyof typeof ChunkTokenNumMap],\n        );\n      }\n    },\n    [form],\n  );\n\n  return handleChange;\n};\n\n// reset form fields when modal is form, closed\nexport const useResetFormOnCloseModal = ({\n  form,\n  visible,\n}: {\n  form: FormInstance;\n  visible?: boolean;\n}) => {\n  const prevOpenRef = useRef<boolean>();\n  useEffect(() => {\n    prevOpenRef.current = visible;\n  }, [visible]);\n  const prevOpen = prevOpenRef.current;\n\n  useEffect(() => {\n    if (!visible && prevOpen) {\n      form.resetFields();\n    }\n  }, [form, prevOpen, visible]);\n};\n","import {\n  KnowledgeRouteKey,\n  KnowledgeSearchParams,\n} from '@/constants/knowledge';\nimport { useCallback } from 'react';\nimport { useLocation, useNavigate, useSearchParams } from 'umi';\n\nexport enum SegmentIndex {\n  Second = '2',\n  Third = '3',\n}\n\nexport const useSegmentedPathName = (index: SegmentIndex) => {\n  const { pathname } = useLocation();\n\n  const pathArray = pathname.split('/');\n  return pathArray[index] || '';\n};\n\nexport const useSecondPathName = () => {\n  return useSegmentedPathName(SegmentIndex.Second);\n};\n\nexport const useThirdPathName = () => {\n  return useSegmentedPathName(SegmentIndex.Third);\n};\n\nexport const useGetKnowledgeSearchParams = () => {\n  const [currentQueryParameters] = useSearchParams();\n\n  return {\n    documentId:\n      currentQueryParameters.get(KnowledgeSearchParams.DocumentId) || '',\n    knowledgeId:\n      currentQueryParameters.get(KnowledgeSearchParams.KnowledgeId) || '',\n  };\n};\n\nexport const useNavigateWithFromState = () => {\n  const navigate = useNavigate();\n  return useCallback(\n    (path: string) => {\n      navigate(path, { state: { from: path } });\n    },\n    [navigate],\n  );\n};\n\nexport const useNavigateToDataset = () => {\n  const navigate = useNavigate();\n  const { knowledgeId } = useGetKnowledgeSearchParams();\n\n  return useCallback(() => {\n    navigate(`/knowledge/${KnowledgeRouteKey.Dataset}?id=${knowledgeId}`);\n  }, [knowledgeId, navigate]);\n};\n\nexport const useGetPaginationParams = () => {\n  const [currentQueryParameters] = useSearchParams();\n\n  return {\n    page: currentQueryParameters.get('page') || 1,\n    size: currentQueryParameters.get('size') || 10,\n  };\n};\n\nexport const useSetPaginationParams = () => {\n  const [queryParameters, setSearchParams] = useSearchParams();\n  // const newQueryParameters: URLSearchParams = useMemo(\n  //   () => new URLSearchParams(queryParameters.toString()),\n  //   [queryParameters],\n  // );\n\n  const setPaginationParams = useCallback(\n    (page: number = 1, pageSize?: number) => {\n      queryParameters.set('page', page.toString());\n      if (pageSize) {\n        queryParameters.set('size', pageSize.toString());\n      }\n      setSearchParams(queryParameters);\n    },\n    [setSearchParams, queryParameters],\n  );\n\n  return {\n    setPaginationParams,\n    page: Number(queryParameters.get('page')) || 1,\n    size: Number(queryParameters.get('size')) || 10,\n  };\n};\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nimport * as React from \"react\";\nconst SvgFileManagement = (props) => /* @__PURE__ */ React.createElement(\"svg\", __spreadValues({ width: 15, height: 15, fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" }, props), /* @__PURE__ */ React.createElement(\"g\", { clipPath: \"url(#file-management_svg__a)\" }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M7.907 4.45 7.28 3.194c-.18-.361-.27-.542-.405-.674a1.126 1.126 0 0 0-.421-.26c-.179-.061-.38-.061-.785-.061H3.517c-.63 0-.946 0-1.187.122-.212.108-.384.28-.492.492-.123.241-.123.557-.123 1.187v.45m0 0h8.557c.945 0 1.418 0 1.78.184.317.162.576.42.738.738.184.362.184.835.184 1.78V9.63c0 .946 0 1.419-.184 1.78-.162.318-.42.576-.738.738-.362.184-.835.184-1.78.184H4.417c-.945 0-1.418 0-1.78-.184a1.688 1.688 0 0 1-.738-.738c-.184-.361-.184-.834-.184-1.78V4.45Z\", stroke: \"currentColor\", strokeWidth: 1.689, strokeLinecap: \"round\", strokeLinejoin: \"round\" })), /* @__PURE__ */ React.createElement(\"defs\", null, /* @__PURE__ */ React.createElement(\"clipPath\", { id: \"file-management_svg__a\" }, /* @__PURE__ */ React.createElement(\"path\", { fill: \"#fff\", transform: \"translate(.59 .51)\", d: \"M0 0h13.51v13.51H0z\" }))));\nexport { SvgFileManagement as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIj48cGF0aCBkPSJNNy45MDcgNC40NSA3LjI4IDMuMTk0Yy0uMTgtLjM2MS0uMjctLjU0Mi0uNDA1LS42NzRhMS4xMjYgMS4xMjYgMCAwIDAtLjQyMS0uMjZjLS4xNzktLjA2MS0uMzgtLjA2MS0uNzg1LS4wNjFIMy41MTdjLS42MyAwLS45NDYgMC0xLjE4Ny4xMjItLjIxMi4xMDgtLjM4NC4yOC0uNDkyLjQ5Mi0uMTIzLjI0MS0uMTIzLjU1Ny0uMTIzIDEuMTg3di40NW0wIDBoOC41NTdjLjk0NSAwIDEuNDE4IDAgMS43OC4xODQuMzE3LjE2Mi41NzYuNDIuNzM4LjczOC4xODQuMzYyLjE4NC44MzUuMTg0IDEuNzhWOS42M2MwIC45NDYgMCAxLjQxOS0uMTg0IDEuNzgtLjE2Mi4zMTgtLjQyLjU3Ni0uNzM4LjczOC0uMzYyLjE4NC0uODM1LjE4NC0xLjc4LjE4NEg0LjQxN2MtLjk0NSAwLTEuNDE4IDAtMS43OC0uMTg0YTEuNjg4IDEuNjg4IDAgMCAxLS43MzgtLjczOGMtLjE4NC0uMzYxLS4xODQtLjgzNC0uMTg0LTEuNzhWNC40NVoiIHN0cm9rZT0iY3VycmVudENvbG9yIiBzdHJva2Utd2lkdGg9IjEuNjg5IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSIjZmZmIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSguNTkgLjUxKSIgZD0iTTAgMGgxMy41MXYxMy41MUgweiIvPjwvY2xpcFBhdGg+PC9kZWZzPjwvc3ZnPg==\";\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nimport * as React from \"react\";\nconst SvgKnowledgeBase = (props) => /* @__PURE__ */ React.createElement(\"svg\", __spreadValues({ width: 15, height: 15, fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" }, props), /* @__PURE__ */ React.createElement(\"g\", { clipPath: \"url(#knowledge-base_svg__a)\" }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M12.331 3.324c0 .933-2.268 1.69-5.066 1.69s-5.066-.757-5.066-1.69m10.132 0c0-.932-2.268-1.688-5.066-1.688s-5.066.756-5.066 1.688m10.132 0v7.881c0 .935-2.252 1.689-5.066 1.689-2.815 0-5.066-.754-5.066-1.689v-7.88m10.132 3.94c0 .934-2.252 1.689-5.066 1.689-2.815 0-5.066-.755-5.066-1.69\", stroke: \"currentColor\", strokeWidth: 1.689, strokeLinecap: \"round\", strokeLinejoin: \"round\" })), /* @__PURE__ */ React.createElement(\"defs\", null, /* @__PURE__ */ React.createElement(\"clipPath\", { id: \"knowledge-base_svg__a\" }, /* @__PURE__ */ React.createElement(\"path\", { fill: \"#fff\", transform: \"translate(.51 .51)\", d: \"M0 0h13.51v13.51H0z\" }))));\nexport { SvgKnowledgeBase as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIj48cGF0aCBkPSJNMTIuMzMxIDMuMzI0YzAgLjkzMy0yLjI2OCAxLjY5LTUuMDY2IDEuNjlzLTUuMDY2LS43NTctNS4wNjYtMS42OW0xMC4xMzIgMGMwLS45MzItMi4yNjgtMS42ODgtNS4wNjYtMS42ODhzLTUuMDY2Ljc1Ni01LjA2NiAxLjY4OG0xMC4xMzIgMHY3Ljg4MWMwIC45MzUtMi4yNTIgMS42ODktNS4wNjYgMS42ODktMi44MTUgMC01LjA2Ni0uNzU0LTUuMDY2LTEuNjg5di03Ljg4bTEwLjEzMiAzLjk0YzAgLjkzNC0yLjI1MiAxLjY4OS01LjA2NiAxLjY4OS0yLjgxNSAwLTUuMDY2LS43NTUtNS4wNjYtMS42OSIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZS13aWR0aD0iMS42ODkiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjwvZz48ZGVmcz48Y2xpcFBhdGggaWQ9ImEiPjxwYXRoIGZpbGw9IiNmZmYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC41MSAuNTEpIiBkPSJNMCAwaDEzLjUxdjEzLjUxSDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+\";\n","// extracted by mini-css-extract-plugin\nexport default {\"navs\":\"navs___X754f\",\"layout\":\"layout___Ps7xZ\",\"divider\":\"divider___RVUOM\",\"clickAvailable\":\"clickAvailable___KgAij\"};","import { useFetchUserInfo } from '@/hooks/user-setting-hooks';\nimport { Avatar } from 'antd';\nimport React from 'react';\nimport { history } from 'umi';\n\nimport styles from '../../index.less';\n\nconst App: React.FC = () => {\n  const { data: userInfo } = useFetchUserInfo();\n\n  const toSetting = () => {\n    history.push('/user-setting');\n  };\n\n  return (\n    <Avatar\n      size={32}\n      onClick={toSetting}\n      className={styles.clickAvailable}\n      src={\n        userInfo.avatar ??\n        'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png'\n      }\n    />\n  );\n};\n\nexport default App;\n","// extracted by mini-css-extract-plugin\nexport default {\"toolbarWrapper\":\"toolbarWrapper___sjvth\",\"circle\":\"circle___O8ZjN\",\"language\":\"language___LTIqE\"};","import { useTranslate } from '@/hooks/common-hooks';\nimport { DownOutlined, GithubOutlined } from '@ant-design/icons';\nimport { Dropdown, MenuProps, Space } from 'antd';\nimport camelCase from 'lodash/camelCase';\nimport React from 'react';\nimport User from '../user';\n\nimport { useTheme } from '@/components/theme-provider';\nimport { LanguageList, LanguageMap } from '@/constants/common';\nimport { useChangeLanguage } from '@/hooks/logic-hooks';\nimport { useFetchUserInfo } from '@/hooks/user-setting-hooks';\nimport { MoonIcon, SunIcon } from 'lucide-react';\nimport styled from './index.less';\n\nconst Circle = ({ children, ...restProps }: React.PropsWithChildren) => {\n  return (\n    <div {...restProps} className={styled.circle}>\n      {children}\n    </div>\n  );\n};\n\nconst handleGithubCLick = () => {\n  window.open('https://github.com/infiniflow/ragflow', 'target');\n};\n\nconst RightToolBar = () => {\n  const { t } = useTranslate('common');\n  const changeLanguage = useChangeLanguage();\n  const { setTheme, theme } = useTheme();\n\n  const {\n    data: { language = 'English' },\n  } = useFetchUserInfo();\n\n  const handleItemClick: MenuProps['onClick'] = ({ key }) => {\n    changeLanguage(key);\n  };\n\n  const items: MenuProps['items'] = LanguageList.map((x) => ({\n    key: x,\n    label: <span>{LanguageMap[x as keyof typeof LanguageMap]}</span>,\n  })).reduce<MenuProps['items']>((pre, cur) => {\n    return [...pre!, { type: 'divider' }, cur];\n  }, []);\n\n  const onMoonClick = React.useCallback(() => {\n    setTheme('light');\n  }, [setTheme]);\n  const onSunClick = React.useCallback(() => {\n    setTheme('dark');\n  }, [setTheme]);\n\n  return (\n    <div className={styled.toolbarWrapper}>\n      <Space wrap size={16}>\n        <Dropdown menu={{ items, onClick: handleItemClick }} placement=\"bottom\">\n          <Space className={styled.language}>\n            <b>{t(camelCase(language))}</b>\n            <DownOutlined />\n          </Space>\n        </Dropdown>\n        {/*<Circle>\n          <GithubOutlined onClick={handleGithubCLick} />\n        </Circle>*/}\n        <Circle>\n          {theme === 'dark' ? (\n            <MoonIcon onClick={onMoonClick} size={20} />\n          ) : (\n            <SunIcon onClick={onSunClick} size={20} />\n          )}\n        </Circle>\n        <User></User>\n      </Space>\n    </div>\n  );\n};\n\nexport default RightToolBar;\n","// extracted by mini-css-extract-plugin\nexport default {\"tag\":\"tag___RuqXA\",\"checked\":\"checked___iytqR\",\"logoWrapper\":\"logoWrapper___B7B1l\",\"appIcon\":\"appIcon___x4rus\",\"appName\":\"appName___WliRD\",\"radioGroup\":\"radioGroup___pTbHv\",\"radioGroupDark\":\"radioGroupDark___uxjib\",\"ant-radio-button-wrapper-checked\":\"ant-radio-button-wrapper-checked____62B5\",\"radioButtonIcon\":\"radioButtonIcon___vE17s\"};","import { ReactComponent as FileIcon } from '@/assets/svg/file-management.svg';\nimport { ReactComponent as GraphIcon } from '@/assets/svg/graph.svg';\nimport { ReactComponent as KnowledgeBaseIcon } from '@/assets/svg/knowledge-base.svg';\nimport { useTranslate } from '@/hooks/common-hooks';\nimport { useFetchAppConf } from '@/hooks/logic-hooks';\nimport { useNavigateWithFromState } from '@/hooks/route-hook';\nimport { MessageOutlined, SearchOutlined } from '@ant-design/icons';\nimport { Flex, Layout, Radio, Space, theme } from 'antd';\nimport { MouseEventHandler, useCallback, useMemo } from 'react';\nimport { useLocation } from 'umi';\nimport Toolbar from '../right-toolbar';\n\nimport { useTheme } from '@/components/theme-provider';\nimport styles from './index.less';\nimport { GearIcon } from '@radix-ui/react-icons';\n\nconst { Header } = Layout;\n\nconst RagHeader = () => {\n  const {\n    token: { colorBgContainer },\n  } = theme.useToken();\n  const navigate = useNavigateWithFromState();\n  const { pathname } = useLocation();\n  const { t } = useTranslate('header');\n  const appConf = useFetchAppConf();\n  const { theme: themeRag } = useTheme();\n  const tagsData = useMemo(\n    () => [\n     // { path: '/knowledge', name: 'Model config', icon: KnowledgeBaseIcon },\n      { path: '/modelconfig', name: t('modelConfig'), icon: SearchOutlined },\n      { path: '/knowledge', name: t('knowledgeBase'), icon: KnowledgeBaseIcon },\n     { path: '/chat', name: t('chat'), icon: MessageOutlined },\n      //{ path: '/search', name: t('search'), icon: SearchOutlined },\n     // { path: '/flow', name: t('flow'), icon: GraphIcon },\n     // { path: '/flow', name: 'Users', icon: GraphIcon },\n      { path: '/file', name: t('fileManager'), icon: FileIcon },\n    ],\n    [t],\n  );\n\n  const currentPath = useMemo(() => {\n    return (\n      tagsData.find((x) => pathname.startsWith(x.path))?.name || 'knowledge'\n    );\n  }, [pathname, tagsData]);\n\n  const handleChange = useCallback(\n    (path: string): MouseEventHandler =>\n      (e) => {\n        e.preventDefault();\n        navigate(path);\n      },\n    [navigate],\n  );\n\n  const handleLogoClick = useCallback(() => {\n    navigate('/');\n  }, [navigate]);\n\n  return (\n    \n    <Header\n      style={{\n        padding: '0 16px',\n        background: \"rgb(224, 224, 224)\",//colorBgContainer,\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        height: '72px',\n      }}\n    >\n      \n      <a href={window.location.origin}>\n        <Space\n          size={12}\n          onClick={handleLogoClick}\n          className={styles.logoWrapper}\n        >\n          <img src=\"/ke_logo_new.png\" alt=\"\" className={styles.appIcon} />\n          <span className={styles.appName}>{appConf.appName}</span>\n        </Space>\n      </a>\n      <Space size={[0, 8]} wrap>\n        <Radio.Group\n          defaultValue=\"a\"\n          buttonStyle=\"solid\"\n          className={\n            themeRag === 'dark' ? styles.radioGroupDark : styles.radioGroup\n          }\n          value={currentPath}\n        >\n         <button onClick={_=>navigate('dashboard')} data-inspector-line=\"93\" \n         data-inspector-column=\"8\" title=\"Dashboard\" \n         data-inspector-relative-path=\"src\\layouts\\next-header.tsx\" \n         className=\"mr-3 inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 bg-colors-background-inverse-standard text-foreground hover:bg-colors-background-inverse-standard/80 h-10 w-10\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-house\" data-inspector-line=\"101\" data-inspector-column=\"10\" data-inspector-relative-path=\"src\\layouts\\next-header.tsx\"><path d=\"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8\"></path><path d=\"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"></path></svg></button>\n          {tagsData.map((item, index) => (\n            <Radio.Button\n              className={`${themeRag === 'dark' ? 'dark' : 'light'} ${index === 0 ? 'first' : ''} ${index === tagsData.length - 1 ? 'last' : ''}`}\n              value={item.name}\n              key={item.name}\n            >\n              <a href={item.path}>\n                <Flex\n                  align=\"center\"\n                  gap={8}\n                  onClick={handleChange(item.path)}\n                  className=\"cursor-pointer\"\n                > \n                  <item.icon\n                    className={styles.radioButtonIcon}\n                    stroke={item.name === currentPath ? 'black' : 'white'}\n                  ></item.icon>\n                  {item.name}\n                </Flex>\n              </a>\n            </Radio.Button>\n          ))}\n        </Radio.Group>\n      </Space>\n      <Toolbar></Toolbar>\n    </Header>\n  );\n};\n\nexport default RagHeader;\n","import { Divider, Layout, theme } from 'antd';\nimport React from 'react';\nimport { Outlet } from 'umi';\nimport '../locales/config';\nimport Header from './components/header';\n\nimport styles from './index.less';\n\nconst { Content } = Layout;\n\nconst App: React.FC = () => {\n  const {\n    token: { colorBgContainer, borderRadiusLG },\n  } = theme.useToken();\n\n  return (\n    <Layout className={styles.layout}>\n      <Layout>\n        <Header></Header>\n        <Divider orientationMargin={0} className={styles.divider} />\n        <Content\n          style={{\n            minHeight: 280,\n            background: colorBgContainer,\n            borderRadius: borderRadiusLG,\n            overflow: 'auto',\n            display: 'flex',\n          }}\n        >\n          <Outlet />\n        </Content>\n      </Layout>\n    </Layout>\n  );\n};\n\nexport default App;\n","import { EmptyConversationId } from '@/constants/chat';\nimport { Message } from '@/interfaces/database/chat';\nimport { IMessage } from '@/pages/chat/interface';\nimport { omit } from 'lodash';\nimport { v4 as uuid } from 'uuid';\n\nexport const isConversationIdExist = (conversationId: string) => {\n  return conversationId !== EmptyConversationId && conversationId !== '';\n};\n\nexport const buildMessageUuid = (message: Partial<Message | IMessage>) => {\n  if ('id' in message && message.id) {\n    return message.id;\n  }\n  return uuid();\n};\n\nexport const buildMessageListWithUuid = (messages?: Message[]) => {\n  return (\n    messages?.map((x: Message | IMessage) => ({\n      ...omit(x, 'reference'),\n      id: buildMessageUuid(x),\n    })) ?? []\n  );\n};\n\nexport const getConversationId = () => {\n  return uuid().replace(/-/g, '');\n};\n\n// When rendering each message, add a prefix to the id to ensure uniqueness.\nexport const buildMessageUuidWithRole = (\n  message: Partial<Message | IMessage>,\n) => {\n  return `${message.role}_${message.id}`;\n};\n\n// Preprocess LaTeX equations to be rendered by KaTeX\n// ref: https://github.com/remarkjs/react-markdown/issues/785\n\nexport const preprocessLaTeX = (content: string) => {\n  const blockProcessedContent = content.replace(\n    /\\\\\\[([\\s\\S]*?)\\\\\\]/g,\n    (_, equation) => `$$${equation}$$`,\n  );\n  const inlineProcessedContent = blockProcessedContent.replace(\n    /\\\\\\(([\\s\\S]*?)\\\\\\)/g,\n    (_, equation) => `$${equation}$`,\n  );\n  return inlineProcessedContent;\n};\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 86635;\nmodule.exports = webpackEmptyAsyncContext;"],"names":["MessageType","variableEnabledFieldMap","temperatureEnabled","topPEnabled","presencePenaltyEnabled","frequencyPenaltyEnabled","maxTokensEnabled","SharedFrom","ChatSearchParams","EmptyConversationId","KnowledgeRouteKey","RunningStatus","ModelVariableType","settledModelVariableMap","_defineProperty","Improvise","temperature","top_p","frequency_penalty","presence_penalty","max_tokens","Precise","Balance","LlmModelType","KnowledgeSearchParams","DocumentType","useSetModalState","_useState","useState","_useState2","_slicedToArray","visible","setVisible","showModal","useCallback","hideModal","switchVisible","useShowDeleteConfirm","modal","App","useApp","t","useTranslation","_ref2","title","content","onOk","onCancel","Promise","resolve","reject","confirm","icon","_jsx","ExclamationCircleFilled","okText","okType","cancelText","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","ret","wrap","_context2","prev","next","sent","console","info","t0","stop","useTranslate","keyPrefix","useSetSelectedRecord","currentRecord","setCurrentRecord","setRecord","record","useHandleSearchChange","_useState3","_useState4","searchString","setSearchString","handleInputChange","e","value","target","useChangeLanguage","i18n","saveSetting","useSaveSetting","lng","changeLanguage","LanguageTranslationMap","language","useGetPaginationWithRouter","_useSetPaginationPara","useSetPaginationParams","setPaginationParams","page","pageSize","size","onPageChange","pageNumber","setCurrentPagination","pagination","useMemo","showQuickJumper","total","showSizeChanger","current","pageSizeOptions","onChange","showTotal","concat","setPagination","useFetchAppConf","_useState7","_useState8","appConf","setAppConf","fetchAppConf","_callee","_context","axios","get","data","useEffect","useSendMessageWithSse","url","arguments","length","undefined","api","completeConversation","_useState9","_useState10","answer","setAnswer","_useState11","_useState12","done","setDone","timer","useRef","resetAnswer","clearTimeout","setTimeout","send","body","controller","_response$body","response","res","reader","x","_done","val","d","fetch","method","headers","Authorization","getAuthorization","JSON","stringify","signal","clone","json","pipeThrough","TextDecoderStream","EventSourceParserStream","getReader","read","abrupt","parse","_objectSpread","conversationId","conversation_id","warn","t1","t2","_x","_x2","apply","useSpeechWithSse","tts","_ref3","_callee3","_context3","code","message","error","_x3","useHandleMessageInputChange","_useState13","_useState14","setValue","nextValue","replaceAll","useSelectDerivedMessages","_useState15","_useState16","derivedMessages","setDerivedMessages","ref","messages","scrollToBottom","_ref$current","scrollIntoView","behavior","useScrollToBottom","addNewestQuestion","pre","_toConsumableArray","id","buildMessageUuid","role","Assistant","addNewestAnswer","_pre$slice","slice","reference","prompt","audio_binary","omit","removeLatestMessage","_pre$slice2","removeMessageById","messageId","_pre$filter","filter","removeMessagesAfterCurrentMessage","index","findIndex","_pre$slice3","nextMessages","latestMessage","at","useRegenerateMessage","_ref4","sendMessage","regenerateMessage","_ref5","_callee4","_context4","uuid","_x4","useSelectItem","defaultId","_useState17","_useState18","selectedId","setSelectedId","handleItemClick","useFetchModelId","_tenantInfo$llm_id","tenantInfo","useFetchTenantInfo","llm_id","ChunkTokenNumMap","naive","knowledge_graph","useHandleChunkMethodSelectChange","form","setFieldValue","useResetFormOnCloseModal","_ref6","prevOpenRef","prevOpen","resetFields","SegmentIndex","useSegmentedPathName","useLocation","pathname","split","useSecondPathName","Second","useThirdPathName","Third","useGetKnowledgeSearchParams","_useSearchParams","useSearchParams","currentQueryParameters","documentId","DocumentId","knowledgeId","KnowledgeId","useNavigateWithFromState","navigate","useNavigate","path","state","from","useNavigateToDataset","Dataset","_useSearchParams5","_useSearchParams6","queryParameters","setSearchParams","set","toString","Number","__defProp","Object","defineProperty","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","enumerable","configurable","writable","SvgFileManagement","props","a","b","prop","call","__spreadValues","width","height","fill","xmlns","clipPath","stroke","strokeWidth","strokeLinecap","strokeLinejoin","transform","SvgKnowledgeBase","_userInfo$avatar","userInfo","useFetchUserInfo","Avatar","onClick","history","push","className","styles","src","avatar","Circle","_ref","children","restProps","_objectWithoutProperties","_excluded","styled","_useTheme","useTheme","setTheme","theme","_useFetchUserInfo$dat","items","LanguageList","map","label","LanguageMap","reduce","cur","type","onMoonClick","React","onSunClick","_jsxs","Space","Dropdown","menu","placement","camelCase","DownOutlined","MoonIcon","SunIcon","User","Header","Layout","useToken","token","colorBgContainer","themeRag","tagsData","name","SearchOutlined","KnowledgeBaseIcon","MessageOutlined","FileIcon","currentPath","_tagsData$find","find","startsWith","handleChange","preventDefault","handleLogoClick","style","padding","background","display","justifyContent","alignItems","href","window","location","origin","alt","appName","Radio","defaultValue","buttonStyle","_","viewBox","class","item","Flex","align","gap","Toolbar","Content","_theme$useToken$token","borderRadiusLG","Divider","orientationMargin","minHeight","borderRadius","overflow","Outlet","isConversationIdExist","buildMessageListWithUuid","_messages$map","getConversationId","replace","buildMessageUuidWithRole","preprocessLaTeX","equation","webpackEmptyAsyncContext","req","then","Error","keys","module","exports"],"sourceRoot":""}