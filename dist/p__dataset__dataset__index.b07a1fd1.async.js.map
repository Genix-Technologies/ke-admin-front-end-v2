{"version":3,"file":"p__dataset__dataset__index.b07a1fd1.async.js","mappings":"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","sources":["webpack:///./src/components/list-filter-bar.tsx","webpack:///./src/components/ui/button.tsx","webpack:///./src/components/ui/checkbox.tsx","webpack:///./src/components/ui/dialog.tsx","webpack:///./src/components/ui/dropdown-menu.tsx","webpack:///./src/components/ui/input.tsx","webpack:///./src/components/ui/switch.tsx","webpack:///./src/components/ui/table.tsx","webpack:///./src/constants/chat.ts","webpack:///./src/constants/knowledge.ts","webpack:///./src/hooks/common-hooks.tsx","webpack:///./src/hooks/document-hooks.ts","webpack:///./src/hooks/logic-hooks.ts","webpack:///./src/hooks/route-hook.ts","webpack:///./src/components/ui/tabs.tsx","webpack:///./src/components/ui/progress.tsx","webpack:///./src/components/ui/scroll-area.tsx","webpack:///./src/hooks/use-callback-ref.ts","webpack:///./src/hooks/use-controllable-state.ts","webpack:///./src/components/file-uploader.tsx","webpack:///./src/components/file-upload-dialog/index.tsx","webpack:///./src/pages/dataset/dataset/dataset-table.tsx","webpack:///./src/pages/dataset/dataset/index.tsx","webpack:///./src/pages/dataset/dataset/hooks.ts","webpack:///./src/services/chat-service.ts","webpack:///./src/services/knowledge-service.ts","webpack:///./src/utils/chat.ts","webpack:///./src/utils/document-util.ts","webpack:///./src/hooks/ lazy namespace object"],"sourcesContent":["import { Filter } from 'lucide-react';\nimport { PropsWithChildren } from 'react';\nimport { Button } from './ui/button';\nimport { SearchInput } from './ui/input';\n\ninterface IProps {\n  title: string;\n  showDialog?: () => void;\n}\n\nexport default function ListFilterBar({\n  title,\n  children,\n  showDialog,\n}: PropsWithChildren<IProps>) {\n  return (\n    <div className=\"flex justify-between mb-6\">\n      <span className=\"text-3xl font-bold \">{title}</span>\n      <div className=\"flex gap-4 items-center\">\n        <Filter className=\"size-5\" />\n        <SearchInput></SearchInput>\n        <Button variant={'tertiary'} size={'sm'} onClick={showDialog}>\n          {children}\n        </Button>\n      </div>\n    </div>\n  );\n}\n","import { Slot } from '@radix-ui/react-slot';\nimport { cva, type VariantProps } from 'class-variance-authority';\nimport * as React from 'react';\n\nimport { cn } from '@/lib/utils';\n\nconst buttonVariants = cva(\n  'inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0',\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-destructive-foreground hover:bg-destructive/90',\n        outline:\n          'border border-colors-outline-sentiment-primary bg-background hover:bg-accent hover:text-accent-foreground',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost: 'hover:bg-accent hover:text-accent-foreground',\n        link: 'text-primary underline-offset-4 hover:underline',\n        tertiary:\n          'bg-colors-background-sentiment-solid-primary text-colors-text-persist-light hover:bg-colors-background-sentiment-solid-primary/80',\n        icon: 'bg-colors-background-inverse-standard text-foreground hover:bg-colors-background-inverse-standard/80',\n      },\n      size: {\n        default: 'h-10 px-4 py-2',\n        sm: 'h-9 rounded-md px-3',\n        lg: 'h-11 rounded-md px-8',\n        icon: 'h-10 w-10',\n        auto: 'h-full px-1',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : 'button';\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    );\n  },\n);\nButton.displayName = 'Button';\n\nexport { Button, buttonVariants };\n","'use client';\n\nimport * as CheckboxPrimitive from '@radix-ui/react-checkbox';\nimport { Check } from 'lucide-react';\nimport * as React from 'react';\n\nimport { cn } from '@/lib/utils';\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      'peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground',\n      className,\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn('flex items-center justify-center text-current')}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n));\nCheckbox.displayName = CheckboxPrimitive.Root.displayName;\n\nexport { Checkbox };\n","'use client';\n\nimport * as DialogPrimitive from '@radix-ui/react-dialog';\nimport { X } from 'lucide-react';\nimport * as React from 'react';\n\nimport { cn } from '@/lib/utils';\n\nconst Dialog = DialogPrimitive.Root;\n\nconst DialogTrigger = DialogPrimitive.Trigger;\n\nconst DialogPortal = DialogPrimitive.Portal;\n\nconst DialogClose = DialogPrimitive.Close;\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      'fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0',\n      className,\n    )}\n    {...props}\n  />\n));\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName;\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        'fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-colors-background-neutral-standard p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg',\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n));\nDialogContent.displayName = DialogPrimitive.Content.displayName;\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      'flex flex-col space-y-1.5 text-center sm:text-left',\n      className,\n    )}\n    {...props}\n  />\n);\nDialogHeader.displayName = 'DialogHeader';\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      'flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2',\n      className,\n    )}\n    {...props}\n  />\n);\nDialogFooter.displayName = 'DialogFooter';\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      'text-lg font-semibold leading-none tracking-tight',\n      className,\n    )}\n    {...props}\n  />\n));\nDialogTitle.displayName = DialogPrimitive.Title.displayName;\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn('text-sm text-muted-foreground', className)}\n    {...props}\n  />\n));\nDialogDescription.displayName = DialogPrimitive.Description.displayName;\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n};\n","'use client';\n\nimport * as DropdownMenuPrimitive from '@radix-ui/react-dropdown-menu';\nimport { Check, ChevronRight, Circle } from 'lucide-react';\nimport * as React from 'react';\n\nimport { cn } from '@/lib/utils';\n\nconst DropdownMenu = DropdownMenuPrimitive.Root;\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger;\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group;\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal;\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub;\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup;\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean;\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      'flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0',\n      inset && 'pl-8',\n      className,\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n));\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName;\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      'z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',\n      className,\n    )}\n    {...props}\n  />\n));\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName;\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        'z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',\n        className,\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n));\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName;\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      'relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0',\n      inset && 'pl-8',\n      className,\n    )}\n    {...props}\n  />\n));\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName;\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      'relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',\n      className,\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n));\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName;\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      'relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',\n      className,\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n));\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName;\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      'px-2 py-1.5 text-sm font-semibold',\n      inset && 'pl-8',\n      className,\n    )}\n    {...props}\n  />\n));\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName;\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn('-mx-1 my-1 h-px bg-muted', className)}\n    {...props}\n  />\n));\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName;\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn('ml-auto text-xs tracking-widest opacity-60', className)}\n      {...props}\n    />\n  );\n};\nDropdownMenuShortcut.displayName = 'DropdownMenuShortcut';\n\nexport {\n  DropdownMenu,\n  DropdownMenuCheckboxItem,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuPortal,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuTrigger,\n};\n","import * as React from 'react';\n\nimport { cn } from '@/lib/utils';\nimport { Search } from 'lucide-react';\n\nexport interface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          'flex h-10 w-full rounded-md border border-input bg-colors-background-inverse-weak px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',\n          className,\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  },\n);\nInput.displayName = 'Input';\n\nexport interface ExpandedInputProps extends Omit<InputProps, 'prefix'> {\n  prefix?: React.ReactNode;\n  suffix?: React.ReactNode;\n}\n\nconst ExpandedInput = ({ suffix, prefix, ...props }: ExpandedInputProps) => {\n  return (\n    <div className=\"relative\">\n      <span\n        className={cn({\n          ['absolute left-3 top-[50%] translate-y-[-50%]']: prefix,\n        })}\n      >\n        {prefix}\n      </span>\n      <Input\n        className={cn({ 'pr-10': suffix, 'pl-10': prefix })}\n        {...props}\n      ></Input>\n      <span\n        className={cn({\n          ['absolute right-3 top-[50%] translate-y-[-50%]']: suffix,\n        })}\n      >\n        {suffix}\n      </span>\n    </div>\n  );\n};\n\nconst SearchInput = (props: InputProps) => {\n  return <ExpandedInput suffix={<Search />} {...props}></ExpandedInput>;\n};\n\nexport { ExpandedInput, Input, SearchInput };\n","'use client';\n\nimport * as SwitchPrimitives from '@radix-ui/react-switch';\nimport * as React from 'react';\n\nimport { cn } from '@/lib/utils';\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      'peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-colors-background-core-standard data-[state=unchecked]:bg-colors-background-inverse-standard',\n      className,\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        'pointer-events-none block h-5 w-5 rounded-full bg-colors-text-neutral-strong shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0',\n      )}\n    />\n  </SwitchPrimitives.Root>\n));\nSwitch.displayName = SwitchPrimitives.Root.displayName;\n\nexport { Switch };\n","import * as React from 'react';\n\nimport { cn } from '@/lib/utils';\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn('w-full caption-bottom text-sm', className)}\n      {...props}\n    />\n  </div>\n));\nTable.displayName = 'Table';\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn('[&_tr]:border-b', className)} {...props} />\n));\nTableHeader.displayName = 'TableHeader';\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn('[&_tr:last-child]:border-0', className)}\n    {...props}\n  />\n));\nTableBody.displayName = 'TableBody';\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      'border-t bg-muted/50 font-medium [&>tr]:last:border-b-0',\n      className,\n    )}\n    {...props}\n  />\n));\nTableFooter.displayName = 'TableFooter';\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      'border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted',\n      className,\n    )}\n    {...props}\n  />\n));\nTableRow.displayName = 'TableRow';\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      'h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0',\n      className,\n    )}\n    {...props}\n  />\n));\nTableHead.displayName = 'TableHead';\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn('p-4 align-middle [&:has([role=checkbox])]:pr-0', className)}\n    {...props}\n  />\n));\nTableCell.displayName = 'TableCell';\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn('mt-4 text-sm text-muted-foreground', className)}\n    {...props}\n  />\n));\nTableCaption.displayName = 'TableCaption';\n\nexport {\n  Table,\n  TableBody,\n  TableCaption,\n  TableCell,\n  TableFooter,\n  TableHead,\n  TableHeader,\n  TableRow,\n};\n","export enum MessageType {\n  Assistant = 'assistant',\n  User = 'user',\n}\n\nexport const variableEnabledFieldMap = {\n  temperatureEnabled: 'temperature',\n  topPEnabled: 'top_p',\n  presencePenaltyEnabled: 'presence_penalty',\n  frequencyPenaltyEnabled: 'frequency_penalty',\n  maxTokensEnabled: 'max_tokens',\n};\n\nexport enum SharedFrom {\n  Agent = 'agent',\n  Chat = 'chat',\n}\n\nexport enum ChatSearchParams {\n  DialogId = 'dialogId',\n  ConversationId = 'conversationId',\n  isNew = 'isNew',\n}\n\nexport const EmptyConversationId = 'empty';\n","export enum KnowledgeRouteKey {\n  Dataset = 'dataset',\n  Testing = 'testing',\n  Configuration = 'configuration',\n  KnowledgeGraph = 'knowledgeGraph',\n}\n\nexport const DatasetBaseKey = 'dataset';\n\nexport enum RunningStatus {\n  UNSTART = '0', // need to run\n  RUNNING = '1', // need to cancel\n  CANCEL = '2', // need to refresh\n  DONE = '3', // need to refresh\n  FAIL = '4', // need to refresh\n}\n\nexport enum ModelVariableType {\n  Improvise = 'Improvise',\n  Precise = 'Precise',\n  Balance = 'Balance',\n}\n\nexport const settledModelVariableMap = {\n  [ModelVariableType.Improvise]: {\n    temperature: 0.9,\n    top_p: 0.9,\n    frequency_penalty: 0.2,\n    presence_penalty: 0.4,\n    max_tokens: 512,\n  },\n  [ModelVariableType.Precise]: {\n    temperature: 0.1,\n    top_p: 0.3,\n    frequency_penalty: 0.7,\n    presence_penalty: 0.4,\n    max_tokens: 512,\n  },\n  [ModelVariableType.Balance]: {\n    temperature: 0.5,\n    top_p: 0.5,\n    frequency_penalty: 0.7,\n    presence_penalty: 0.4,\n    max_tokens: 512,\n  },\n};\n\nexport enum LlmModelType {\n  Embedding = 'embedding',\n  Chat = 'chat',\n  Image2text = 'image2text',\n  Speech2text = 'speech2text',\n  Rerank = 'rerank',\n  TTS = 'tts',\n}\n\nexport enum KnowledgeSearchParams {\n  DocumentId = 'doc_id',\n  KnowledgeId = 'id',\n}\n\nexport enum DocumentType {\n  Virtual = 'virtual',\n  Visual = 'visual',\n}\n\nexport enum DocumentParserType {\n  Naive = 'naive',\n  Qa = 'qa',\n  Resume = 'resume',\n  Manual = 'manual',\n  Table = 'table',\n  Paper = 'paper',\n  Book = 'book',\n  Laws = 'laws',\n  Presentation = 'presentation',\n  Picture = 'picture',\n  One = 'one',\n  Audio = 'audio',\n  Email = 'email',\n  Tag = 'tag',\n}\n","import { ExclamationCircleFilled } from '@ant-design/icons';\nimport { App } from 'antd';\nimport isEqual from 'lodash/isEqual';\nimport { ReactNode, useCallback, useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nexport const useSetModalState = () => {\n  const [visible, setVisible] = useState(false);\n\n  const showModal = useCallback(() => {\n    setVisible(true);\n  }, []);\n  const hideModal = useCallback(() => {\n    setVisible(false);\n  }, []);\n\n  const switchVisible = useCallback(() => {\n    setVisible(!visible);\n  }, [visible]);\n\n  return { visible, showModal, hideModal, switchVisible };\n};\n\nexport const useDeepCompareEffect = (\n  effect: React.EffectCallback,\n  deps: React.DependencyList,\n) => {\n  const ref = useRef<React.DependencyList>();\n  let callback: ReturnType<React.EffectCallback> = () => {};\n  if (!isEqual(deps, ref.current)) {\n    callback = effect();\n    ref.current = deps;\n  }\n  useEffect(() => {\n    return () => {\n      if (callback) {\n        callback();\n      }\n    };\n  }, []);\n};\n\nexport interface UseDynamicSVGImportOptions {\n  onCompleted?: (\n    name: string,\n    SvgIcon: React.FC<React.SVGProps<SVGSVGElement>> | undefined,\n  ) => void;\n  onError?: (err: Error) => void;\n}\n\nexport function useDynamicSVGImport(\n  name: string,\n  options: UseDynamicSVGImportOptions = {},\n) {\n  const ImportedIconRef = useRef<React.FC<React.SVGProps<SVGSVGElement>>>();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<Error>();\n\n  const { onCompleted, onError } = options;\n  useEffect(() => {\n    setLoading(true);\n    const importIcon = async (): Promise<void> => {\n      try {\n        ImportedIconRef.current = (await import(name)).ReactComponent;\n        onCompleted?.(name, ImportedIconRef.current);\n      } catch (err: any) {\n        onError?.(err);\n        setError(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    importIcon();\n  }, [name, onCompleted, onError]);\n\n  return { error, loading, SvgIcon: ImportedIconRef.current };\n}\n\ninterface IProps {\n  title?: string;\n  content?: ReactNode;\n  onOk?: (...args: any[]) => any;\n  onCancel?: (...args: any[]) => any;\n}\n\nexport const useShowDeleteConfirm = () => {\n  const { modal } = App.useApp();\n  const { t } = useTranslation();\n\n  const showDeleteConfirm = useCallback(\n    ({ title, content, onOk, onCancel }: IProps): Promise<number> => {\n      return new Promise((resolve, reject) => {\n        modal.confirm({\n          title: title ?? t('common.deleteModalTitle'),\n          icon: <ExclamationCircleFilled />,\n          content,\n          okText: t('common.ok'),\n          okType: 'danger',\n          cancelText: t('common.cancel'),\n          async onOk() {\n            try {\n              const ret = await onOk?.();\n              resolve(ret);\n              console.info(ret);\n            } catch (error) {\n              reject(error);\n            }\n          },\n          onCancel() {\n            onCancel?.();\n          },\n        });\n      });\n    },\n    [t, modal],\n  );\n\n  return showDeleteConfirm;\n};\n\nexport const useTranslate = (keyPrefix: string) => {\n  return useTranslation('translation', { keyPrefix });\n};\n\nexport const useCommonTranslation = () => {\n  return useTranslation('translation', { keyPrefix: 'common' });\n};\n","import { IReferenceChunk } from '@/interfaces/database/chat';\nimport { IDocumentInfo } from '@/interfaces/database/document';\nimport { IChunk } from '@/interfaces/database/knowledge';\nimport {\n  IChangeParserConfigRequestBody,\n  IDocumentMetaRequestBody,\n} from '@/interfaces/request/document';\nimport i18n from '@/locales/config';\nimport chatService from '@/services/chat-service';\nimport kbService from '@/services/knowledge-service';\nimport api, { api_host } from '@/utils/api';\nimport { buildChunkHighlights } from '@/utils/document-util';\nimport { post } from '@/utils/request';\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport { UploadFile, message } from 'antd';\nimport { get } from 'lodash';\nimport { useCallback, useMemo, useState } from 'react';\nimport { IHighlight } from 'react-pdf-highlighter';\nimport {\n  useGetPaginationWithRouter,\n  useHandleSearchChange,\n} from './logic-hooks';\nimport {\n  useGetKnowledgeSearchParams,\n  useSetPaginationParams,\n} from './route-hook';\n\nexport const useGetDocumentUrl = (documentId?: string) => {\n  const getDocumentUrl = useCallback(\n    (id?: string) => {\n      return `${api_host}/document/get/${documentId || id}`;\n    },\n    [documentId],\n  );\n\n  return getDocumentUrl;\n};\n\nexport const useGetChunkHighlights = (\n  selectedChunk: IChunk | IReferenceChunk,\n) => {\n  const [size, setSize] = useState({ width: 849, height: 1200 });\n\n  const highlights: IHighlight[] = useMemo(() => {\n    return buildChunkHighlights(selectedChunk, size);\n  }, [selectedChunk, size]);\n\n  const setWidthAndHeight = (width: number, height: number) => {\n    setSize((pre) => {\n      if (pre.height !== height || pre.width !== width) {\n        return { height, width };\n      }\n      return pre;\n    });\n  };\n\n  return { highlights, setWidthAndHeight };\n};\n\nexport const useFetchNextDocumentList = () => {\n  const { knowledgeId } = useGetKnowledgeSearchParams();\n  const { searchString, handleInputChange } = useHandleSearchChange();\n  const { pagination, setPagination } = useGetPaginationWithRouter();\n\n  const { data, isFetching: loading } = useQuery<{\n    docs: IDocumentInfo[];\n    total: number;\n  }>({\n    queryKey: ['fetchDocumentList', searchString, pagination],\n    initialData: { docs: [], total: 0 },\n    refetchInterval: 15000,\n    queryFn: async () => {\n      const ret = await kbService.get_document_list({\n        kb_id: knowledgeId,\n        keywords: searchString,\n        page_size: pagination.pageSize,\n        page: pagination.current,\n      });\n      if (ret.data.code === 0) {\n        return ret.data.data;\n      }\n\n      return {\n        docs: [],\n        total: 0,\n      };\n    },\n  });\n\n  const onInputChange: React.ChangeEventHandler<HTMLInputElement> = useCallback(\n    (e) => {\n      setPagination({ page: 1 });\n      handleInputChange(e);\n    },\n    [handleInputChange, setPagination],\n  );\n\n  return {\n    loading,\n    searchString,\n    documents: data.docs,\n    pagination: { ...pagination, total: data?.total },\n    handleInputChange: onInputChange,\n    setPagination,\n  };\n};\n\nexport const useSetNextDocumentStatus = () => {\n  const queryClient = useQueryClient();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['updateDocumentStatus'],\n    mutationFn: async ({\n      status,\n      documentId,\n    }: {\n      status: boolean;\n      documentId: string;\n    }) => {\n      const { data } = await kbService.document_change_status({\n        doc_id: documentId,\n        status: Number(status),\n      });\n      if (data.code === 0) {\n        message.success(i18n.t('message.modified'));\n        queryClient.invalidateQueries({ queryKey: ['fetchDocumentList'] });\n      }\n      return data;\n    },\n  });\n\n  return { setDocumentStatus: mutateAsync, data, loading };\n};\n\nexport const useSaveNextDocumentName = () => {\n  const queryClient = useQueryClient();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['saveDocumentName'],\n    mutationFn: async ({\n      name,\n      documentId,\n    }: {\n      name: string;\n      documentId: string;\n    }) => {\n      const { data } = await kbService.document_rename({\n        doc_id: documentId,\n        name: name,\n      });\n      if (data.code === 0) {\n        message.success(i18n.t('message.renamed'));\n        queryClient.invalidateQueries({ queryKey: ['fetchDocumentList'] });\n      }\n      return data.code;\n    },\n  });\n\n  return { loading, saveName: mutateAsync, data };\n};\n\nexport const useCreateNextDocument = () => {\n  const { knowledgeId } = useGetKnowledgeSearchParams();\n  const { setPaginationParams, page } = useSetPaginationParams();\n  const queryClient = useQueryClient();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['createDocument'],\n    mutationFn: async (name: string) => {\n      const { data } = await kbService.document_create({\n        name,\n        kb_id: knowledgeId,\n      });\n      if (data.code === 0) {\n        if (page === 1) {\n          queryClient.invalidateQueries({ queryKey: ['fetchDocumentList'] });\n        } else {\n          setPaginationParams(); // fetch document list\n        }\n\n        message.success(i18n.t('message.created'));\n      }\n      return data.code;\n    },\n  });\n\n  return { createDocument: mutateAsync, loading, data };\n};\n\nexport const useSetNextDocumentParser = () => {\n  const queryClient = useQueryClient();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['setDocumentParser'],\n    mutationFn: async ({\n      parserId,\n      documentId,\n      parserConfig,\n    }: {\n      parserId: string;\n      documentId: string;\n      parserConfig: IChangeParserConfigRequestBody;\n    }) => {\n      const { data } = await kbService.document_change_parser({\n        parser_id: parserId,\n        doc_id: documentId,\n        parser_config: parserConfig,\n      });\n      if (data.code === 0) {\n        queryClient.invalidateQueries({ queryKey: ['fetchDocumentList'] });\n\n        message.success(i18n.t('message.modified'));\n      }\n      return data.code;\n    },\n  });\n\n  return { setDocumentParser: mutateAsync, data, loading };\n};\n\nexport const useUploadNextDocument = () => {\n  const queryClient = useQueryClient();\n  const { knowledgeId } = useGetKnowledgeSearchParams();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['uploadDocument'],\n    mutationFn: async (fileList: UploadFile[]) => {\n      const formData = new FormData();\n      formData.append('kb_id', knowledgeId);\n      fileList.forEach((file: any) => {\n        formData.append('file', file);\n      });\n\n      try {\n        const ret = await kbService.document_upload(formData);\n        const code = get(ret, 'data.code');\n        if (code === 0) {\n          message.success(i18n.t('message.uploaded'));\n        }\n\n        if (code === 0 || code === 500) {\n          queryClient.invalidateQueries({ queryKey: ['fetchDocumentList'] });\n        }\n        return ret?.data;\n      } catch (error) {\n        console.warn(error);\n        return {};\n      }\n    },\n  });\n\n  return { uploadDocument: mutateAsync, loading, data };\n};\n\nexport const useNextWebCrawl = () => {\n  const { knowledgeId } = useGetKnowledgeSearchParams();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['webCrawl'],\n    mutationFn: async ({ name, url }: { name: string; url: string }) => {\n      const formData = new FormData();\n      formData.append('name', name);\n      formData.append('url', url);\n      formData.append('kb_id', knowledgeId);\n\n      const ret = await kbService.web_crawl(formData);\n      const code = get(ret, 'data.code');\n      if (code === 0) {\n        message.success(i18n.t('message.uploaded'));\n      }\n\n      return code;\n    },\n  });\n\n  return {\n    data,\n    loading,\n    webCrawl: mutateAsync,\n  };\n};\n\nexport const useRunNextDocument = () => {\n  const queryClient = useQueryClient();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['runDocumentByIds'],\n    mutationFn: async ({\n      documentIds,\n      run,\n      shouldDelete,\n    }: {\n      documentIds: string[];\n      run: number;\n      shouldDelete: boolean;\n    }) => {\n      const ret = await kbService.document_run({\n        doc_ids: documentIds,\n        run,\n        delete: shouldDelete,\n      });\n      const code = get(ret, 'data.code');\n      if (code === 0) {\n        queryClient.invalidateQueries({ queryKey: ['fetchDocumentList'] });\n        message.success(i18n.t('message.operated'));\n      }\n\n      return code;\n    },\n  });\n\n  return { runDocumentByIds: mutateAsync, loading, data };\n};\n\nexport const useFetchDocumentInfosByIds = () => {\n  const [ids, setDocumentIds] = useState<string[]>([]);\n  const { data } = useQuery<IDocumentInfo[]>({\n    queryKey: ['fetchDocumentInfos', ids],\n    enabled: ids.length > 0,\n    initialData: [],\n    queryFn: async () => {\n      const { data } = await kbService.document_infos({ doc_ids: ids });\n      if (data.code === 0) {\n        return data.data;\n      }\n\n      return [];\n    },\n  });\n\n  return { data, setDocumentIds };\n};\n\nexport const useFetchDocumentThumbnailsByIds = () => {\n  const [ids, setDocumentIds] = useState<string[]>([]);\n  const { data } = useQuery<Record<string, string>>({\n    queryKey: ['fetchDocumentThumbnails', ids],\n    enabled: ids.length > 0,\n    initialData: {},\n    queryFn: async () => {\n      const { data } = await kbService.document_thumbnails({ doc_ids: ids });\n      if (data.code === 0) {\n        return data.data;\n      }\n      return {};\n    },\n  });\n\n  return { data, setDocumentIds };\n};\n\nexport const useRemoveNextDocument = () => {\n  const queryClient = useQueryClient();\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['removeDocument'],\n    mutationFn: async (documentIds: string | string[]) => {\n      const { data } = await kbService.document_rm({ doc_id: documentIds });\n      if (data.code === 0) {\n        message.success(i18n.t('message.deleted'));\n        queryClient.invalidateQueries({ queryKey: ['fetchDocumentList'] });\n      }\n      return data.code;\n    },\n  });\n\n  return { data, loading, removeDocument: mutateAsync };\n};\n\nexport const useDeleteDocument = () => {\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['deleteDocument'],\n    mutationFn: async (documentIds: string[]) => {\n      const data = await kbService.document_delete({ doc_ids: documentIds });\n\n      return data;\n    },\n  });\n\n  return { data, loading, deleteDocument: mutateAsync };\n};\n\nexport const useUploadAndParseDocument = (uploadMethod: string) => {\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['uploadAndParseDocument'],\n    mutationFn: async ({\n      conversationId,\n      fileList,\n    }: {\n      conversationId: string;\n      fileList: UploadFile[];\n    }) => {\n      try {\n        const formData = new FormData();\n        formData.append('conversation_id', conversationId);\n        fileList.forEach((file: UploadFile) => {\n          formData.append('file', file as any);\n        });\n        if (uploadMethod === 'upload_and_parse') {\n          const data = await kbService.upload_and_parse(formData);\n          return data?.data;\n        }\n        const data = await chatService.uploadAndParseExternal(formData);\n        return data?.data;\n      } catch (error) {}\n    },\n  });\n\n  return { data, loading, uploadAndParseDocument: mutateAsync };\n};\n\nexport const useParseDocument = () => {\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['parseDocument'],\n    mutationFn: async (url: string) => {\n      try {\n        const data = await post(api.parse, { url });\n        if (data?.code === 0) {\n          message.success(i18n.t('message.uploaded'));\n        }\n        return data;\n      } catch (error) {\n        message.error('error');\n      }\n    },\n  });\n\n  return { parseDocument: mutateAsync, data, loading };\n};\n\nexport const useSetDocumentMeta = () => {\n  const queryClient = useQueryClient();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['setDocumentMeta'],\n    mutationFn: async (params: IDocumentMetaRequestBody) => {\n      try {\n        const { data } = await kbService.setMeta({\n          meta: params.meta,\n          doc_id: params.documentId,\n        });\n\n        if (data?.code === 0) {\n          queryClient.invalidateQueries({ queryKey: ['fetchDocumentList'] });\n\n          message.success(i18n.t('message.modified'));\n        }\n        return data?.code;\n      } catch (error) {\n        message.error('error');\n      }\n    },\n  });\n\n  return { setDocumentMeta: mutateAsync, data, loading };\n};\n","import { Authorization } from '@/constants/authorization';\nimport { MessageType } from '@/constants/chat';\nimport { LanguageTranslationMap } from '@/constants/common';\nimport { ResponseType } from '@/interfaces/database/base';\nimport { IAnswer, Message } from '@/interfaces/database/chat';\nimport { IKnowledgeFile } from '@/interfaces/database/knowledge';\nimport { IClientConversation, IMessage } from '@/pages/chat/interface';\nimport api from '@/utils/api';\nimport { getAuthorization } from '@/utils/authorization-util';\nimport { buildMessageUuid } from '@/utils/chat';\nimport { PaginationProps, message } from 'antd';\nimport { FormInstance } from 'antd/lib';\nimport axios from 'axios';\nimport { EventSourceParserStream } from 'eventsource-parser/stream';\nimport { omit } from 'lodash';\nimport {\n  ChangeEventHandler,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { v4 as uuid } from 'uuid';\nimport { useTranslate } from './common-hooks';\nimport { useSetPaginationParams } from './route-hook';\nimport { useFetchTenantInfo, useSaveSetting } from './user-setting-hooks';\n\nexport const useSetSelectedRecord = <T = IKnowledgeFile>() => {\n  const [currentRecord, setCurrentRecord] = useState<T>({} as T);\n\n  const setRecord = (record: T) => {\n    setCurrentRecord(record);\n  };\n\n  return { currentRecord, setRecord };\n};\n\nexport const useHandleSearchChange = () => {\n  const [searchString, setSearchString] = useState('');\n\n  const handleInputChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n      const value = e.target.value;\n      setSearchString(value);\n    },\n    [],\n  );\n\n  return { handleInputChange, searchString };\n};\n\nexport const useChangeLanguage = () => {\n  const { i18n } = useTranslation();\n  const { saveSetting } = useSaveSetting();\n\n  const changeLanguage = (lng: string) => {\n    i18n.changeLanguage(\n      LanguageTranslationMap[lng as keyof typeof LanguageTranslationMap],\n    );\n    saveSetting({ language: lng });\n  };\n\n  return changeLanguage;\n};\n\nexport const useGetPaginationWithRouter = () => {\n  const { t } = useTranslate('common');\n  const {\n    setPaginationParams,\n    page,\n    size: pageSize,\n  } = useSetPaginationParams();\n\n  const onPageChange: PaginationProps['onChange'] = useCallback(\n    (pageNumber: number, pageSize: number) => {\n      setPaginationParams(pageNumber, pageSize);\n    },\n    [setPaginationParams],\n  );\n\n  const setCurrentPagination = useCallback(\n    (pagination: { page: number; pageSize?: number }) => {\n      setPaginationParams(pagination.page, pagination.pageSize);\n    },\n    [setPaginationParams],\n  );\n\n  const pagination: PaginationProps = useMemo(() => {\n    return {\n      showQuickJumper: true,\n      total: 0,\n      showSizeChanger: true,\n      current: page,\n      pageSize: pageSize,\n      pageSizeOptions: [1, 2, 10, 20, 50, 100],\n      onChange: onPageChange,\n      showTotal: (total) => `${t('total')} ${total}`,\n    };\n  }, [t, onPageChange, page, pageSize]);\n\n  return {\n    pagination,\n    setPagination: setCurrentPagination,\n  };\n};\n\nexport const useGetPagination = () => {\n  const [pagination, setPagination] = useState({ page: 1, pageSize: 10 });\n  const { t } = useTranslate('common');\n\n  const onPageChange: PaginationProps['onChange'] = useCallback(\n    (pageNumber: number, pageSize: number) => {\n      setPagination({ page: pageNumber, pageSize });\n    },\n    [],\n  );\n\n  const currentPagination: PaginationProps = useMemo(() => {\n    return {\n      showQuickJumper: true,\n      total: 0,\n      showSizeChanger: true,\n      current: pagination.page,\n      pageSize: pagination.pageSize,\n      pageSizeOptions: [1, 2, 10, 20, 50, 100],\n      onChange: onPageChange,\n      showTotal: (total) => `${t('total')} ${total}`,\n    };\n  }, [t, onPageChange, pagination]);\n\n  return {\n    pagination: currentPagination,\n  };\n};\n\nexport interface AppConf {\n  appName: string;\n}\n\nexport const useFetchAppConf = () => {\n  const [appConf, setAppConf] = useState<AppConf>({} as AppConf);\n  const fetchAppConf = useCallback(async () => {\n    const ret = await axios.get('/conf.json');\n\n    setAppConf(ret.data);\n  }, []);\n\n  useEffect(() => {\n    fetchAppConf();\n  }, [fetchAppConf]);\n\n  return appConf;\n};\n\nexport const useSendMessageWithSse = (\n  url: string = api.completeConversation,\n) => {\n  const [answer, setAnswer] = useState<IAnswer>({} as IAnswer);\n  const [done, setDone] = useState(true);\n  const timer = useRef<any>();\n\n  const resetAnswer = useCallback(() => {\n    if (timer.current) {\n      clearTimeout(timer.current);\n    }\n    timer.current = setTimeout(() => {\n      setAnswer({} as IAnswer);\n      clearTimeout(timer.current);\n    }, 1000);\n  }, []);\n\n  const send = useCallback(\n    async (\n      body: any,\n      controller?: AbortController,\n    ): Promise<{ response: Response; data: ResponseType } | undefined> => {\n      try {\n        setDone(false);\n        const response = await fetch(url, {\n          method: 'POST',\n          headers: {\n            [Authorization]: getAuthorization(),\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify(body),\n          signal: controller?.signal,\n        });\n\n        const res = response.clone().json();\n\n        const reader = response?.body\n          ?.pipeThrough(new TextDecoderStream())\n          .pipeThrough(new EventSourceParserStream())\n          .getReader();\n\n        while (true) {\n          const x = await reader?.read();\n          if (x) {\n            const { done, value } = x;\n            if (done) {\n              console.info('done');\n              resetAnswer();\n              break;\n            }\n            try {\n              const val = JSON.parse(value?.data || '');\n              const d = val?.data;\n              if (typeof d !== 'boolean') {\n                console.info('data:', d);\n                setAnswer({\n                  ...d,\n                  conversationId: body?.conversation_id,\n                });\n              }\n            } catch (e) {\n              console.warn(e);\n            }\n          }\n        }\n        console.info('done?');\n        setDone(true);\n        resetAnswer();\n        return { data: await res, response };\n      } catch (e) {\n        setDone(true);\n        resetAnswer();\n\n        console.warn(e);\n      }\n    },\n    [url, resetAnswer],\n  );\n\n  return { send, answer, done, setDone, resetAnswer };\n};\n\nexport const useSpeechWithSse = (url: string = api.tts) => {\n  const read = useCallback(\n    async (body: any) => {\n      const response = await fetch(url, {\n        method: 'POST',\n        headers: {\n          [Authorization]: getAuthorization(),\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(body),\n      });\n      try {\n        const res = await response.clone().json();\n        if (res?.code !== 0) {\n          message.error(res?.message);\n        }\n      } catch (error) {\n        console.warn(' ~ error:', error);\n      }\n      return response;\n    },\n    [url],\n  );\n\n  return { read };\n};\n\n//#region chat hooks\n\nexport const useScrollToBottom = (messages?: unknown) => {\n  const ref = useRef<HTMLDivElement>(null);\n\n  const scrollToBottom = useCallback(() => {\n    if (messages) {\n      ref.current?.scrollIntoView({ behavior: 'instant' });\n    }\n  }, [messages]); // If the message changes, scroll to the bottom\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [scrollToBottom]);\n\n  return ref;\n};\n\nexport const useHandleMessageInputChange = () => {\n  const [value, setValue] = useState('');\n\n  const handleInputChange: ChangeEventHandler<HTMLInputElement> = (e) => {\n    const value = e.target.value;\n    const nextValue = value.replaceAll('\\\\n', '\\n').replaceAll('\\\\t', '\\t');\n    setValue(nextValue);\n  };\n\n  return {\n    handleInputChange,\n    value,\n    setValue,\n  };\n};\n\nexport const useSelectDerivedMessages = () => {\n  const [derivedMessages, setDerivedMessages] = useState<IMessage[]>([]);\n\n  const ref = useScrollToBottom(derivedMessages);\n\n  const addNewestQuestion = useCallback(\n    (message: Message, answer: string = '') => {\n      setDerivedMessages((pre) => {\n        return [\n          ...pre,\n          {\n            ...message,\n            id: buildMessageUuid(message), // The message id is generated on the front end,\n            // and the message id returned by the back end is the same as the question id,\n            //  so that the pair of messages can be deleted together when deleting the message\n          },\n          {\n            role: MessageType.Assistant,\n            content: answer,\n            id: buildMessageUuid({ ...message, role: MessageType.Assistant }),\n          },\n        ];\n      });\n    },\n    [],\n  );\n\n  // Add the streaming message to the last item in the message list\n  const addNewestAnswer = useCallback((answer: IAnswer) => {\n    setDerivedMessages((pre) => {\n      return [\n        ...(pre?.slice(0, -1) ?? []),\n        {\n          role: MessageType.Assistant,\n          content: answer.answer,\n          reference: answer.reference,\n          id: buildMessageUuid({\n            id: answer.id,\n            role: MessageType.Assistant,\n          }),\n          prompt: answer.prompt,\n          audio_binary: answer.audio_binary,\n          ...omit(answer, 'reference'),\n        },\n      ];\n    });\n  }, []);\n\n  const removeLatestMessage = useCallback(() => {\n    setDerivedMessages((pre) => {\n      const nextMessages = pre?.slice(0, -2) ?? [];\n      return nextMessages;\n    });\n  }, []);\n\n  const removeMessageById = useCallback(\n    (messageId: string) => {\n      setDerivedMessages((pre) => {\n        const nextMessages = pre?.filter((x) => x.id !== messageId) ?? [];\n        return nextMessages;\n      });\n    },\n    [setDerivedMessages],\n  );\n\n  const removeMessagesAfterCurrentMessage = useCallback(\n    (messageId: string) => {\n      setDerivedMessages((pre) => {\n        const index = pre.findIndex((x) => x.id === messageId);\n        if (index !== -1) {\n          let nextMessages = pre.slice(0, index + 2) ?? [];\n          const latestMessage = nextMessages.at(-1);\n          nextMessages = latestMessage\n            ? [\n                ...nextMessages.slice(0, -1),\n                {\n                  ...latestMessage,\n                  content: '',\n                  reference: undefined,\n                  prompt: undefined,\n                },\n              ]\n            : nextMessages;\n          return nextMessages;\n        }\n        return pre;\n      });\n    },\n    [setDerivedMessages],\n  );\n\n  return {\n    ref,\n    derivedMessages,\n    setDerivedMessages,\n    addNewestQuestion,\n    addNewestAnswer,\n    removeLatestMessage,\n    removeMessageById,\n    removeMessagesAfterCurrentMessage,\n  };\n};\n\nexport interface IRemoveMessageById {\n  removeMessageById(messageId: string): void;\n}\n\nexport const useRemoveMessagesAfterCurrentMessage = (\n  setCurrentConversation: (\n    callback: (state: IClientConversation) => IClientConversation,\n  ) => void,\n) => {\n  const removeMessagesAfterCurrentMessage = useCallback(\n    (messageId: string) => {\n      setCurrentConversation((pre) => {\n        const index = pre.message?.findIndex((x) => x.id === messageId);\n        if (index !== -1) {\n          let nextMessages = pre.message?.slice(0, index + 2) ?? [];\n          const latestMessage = nextMessages.at(-1);\n          nextMessages = latestMessage\n            ? [\n                ...nextMessages.slice(0, -1),\n                {\n                  ...latestMessage,\n                  content: '',\n                  reference: undefined,\n                  prompt: undefined,\n                },\n              ]\n            : nextMessages;\n          return {\n            ...pre,\n            message: nextMessages,\n          };\n        }\n        return pre;\n      });\n    },\n    [setCurrentConversation],\n  );\n\n  return { removeMessagesAfterCurrentMessage };\n};\n\nexport interface IRegenerateMessage {\n  regenerateMessage?: (message: Message) => void;\n}\n\nexport const useRegenerateMessage = ({\n  removeMessagesAfterCurrentMessage,\n  sendMessage,\n  messages,\n}: {\n  removeMessagesAfterCurrentMessage(messageId: string): void;\n  sendMessage({\n    message,\n  }: {\n    message: Message;\n    messages?: Message[];\n  }): void | Promise<any>;\n  messages: Message[];\n}) => {\n  const regenerateMessage = useCallback(\n    async (message: Message) => {\n      if (message.id) {\n        removeMessagesAfterCurrentMessage(message.id);\n        const index = messages.findIndex((x) => x.id === message.id);\n        let nextMessages;\n        if (index !== -1) {\n          nextMessages = messages.slice(0, index);\n        }\n        sendMessage({\n          message: { ...message, id: uuid() },\n          messages: nextMessages,\n        });\n      }\n    },\n    [removeMessagesAfterCurrentMessage, sendMessage, messages],\n  );\n\n  return { regenerateMessage };\n};\n\n// #endregion\n\n/**\n *\n * @param defaultId\n * used to switch between different items, similar to radio\n * @returns\n */\nexport const useSelectItem = (defaultId?: string) => {\n  const [selectedId, setSelectedId] = useState('');\n\n  const handleItemClick = useCallback(\n    (id: string) => () => {\n      setSelectedId(id);\n    },\n    [],\n  );\n\n  useEffect(() => {\n    if (defaultId) {\n      setSelectedId(defaultId);\n    }\n  }, [defaultId]);\n\n  return { selectedId, handleItemClick };\n};\n\nexport const useFetchModelId = () => {\n  const { data: tenantInfo } = useFetchTenantInfo(true);\n\n  return tenantInfo?.llm_id ?? '';\n};\n\nconst ChunkTokenNumMap = {\n  naive: 128,\n  knowledge_graph: 8192,\n};\n\nexport const useHandleChunkMethodSelectChange = (form: FormInstance) => {\n  // const form = Form.useFormInstance();\n  const handleChange = useCallback(\n    (value: string) => {\n      if (value in ChunkTokenNumMap) {\n        form.setFieldValue(\n          ['parser_config', 'chunk_token_num'],\n          ChunkTokenNumMap[value as keyof typeof ChunkTokenNumMap],\n        );\n      }\n    },\n    [form],\n  );\n\n  return handleChange;\n};\n\n// reset form fields when modal is form, closed\nexport const useResetFormOnCloseModal = ({\n  form,\n  visible,\n}: {\n  form: FormInstance;\n  visible?: boolean;\n}) => {\n  const prevOpenRef = useRef<boolean>();\n  useEffect(() => {\n    prevOpenRef.current = visible;\n  }, [visible]);\n  const prevOpen = prevOpenRef.current;\n\n  useEffect(() => {\n    if (!visible && prevOpen) {\n      form.resetFields();\n    }\n  }, [form, prevOpen, visible]);\n};\n","import {\n  KnowledgeRouteKey,\n  KnowledgeSearchParams,\n} from '@/constants/knowledge';\nimport { useCallback } from 'react';\nimport { useLocation, useNavigate, useSearchParams } from 'umi';\n\nexport enum SegmentIndex {\n  Second = '2',\n  Third = '3',\n}\n\nexport const useSegmentedPathName = (index: SegmentIndex) => {\n  const { pathname } = useLocation();\n\n  const pathArray = pathname.split('/');\n  return pathArray[index] || '';\n};\n\nexport const useSecondPathName = () => {\n  return useSegmentedPathName(SegmentIndex.Second);\n};\n\nexport const useThirdPathName = () => {\n  return useSegmentedPathName(SegmentIndex.Third);\n};\n\nexport const useGetKnowledgeSearchParams = () => {\n  const [currentQueryParameters] = useSearchParams();\n\n  return {\n    documentId:\n      currentQueryParameters.get(KnowledgeSearchParams.DocumentId) || '',\n    knowledgeId:\n      currentQueryParameters.get(KnowledgeSearchParams.KnowledgeId) || '',\n  };\n};\n\nexport const useNavigateWithFromState = () => {\n  const navigate = useNavigate();\n  return useCallback(\n    (path: string) => {\n      navigate(path, { state: { from: path } });\n    },\n    [navigate],\n  );\n};\n\nexport const useNavigateToDataset = () => {\n  const navigate = useNavigate();\n  const { knowledgeId } = useGetKnowledgeSearchParams();\n\n  return useCallback(() => {\n    navigate(`/knowledge/${KnowledgeRouteKey.Dataset}?id=${knowledgeId}`);\n  }, [knowledgeId, navigate]);\n};\n\nexport const useGetPaginationParams = () => {\n  const [currentQueryParameters] = useSearchParams();\n\n  return {\n    page: currentQueryParameters.get('page') || 1,\n    size: currentQueryParameters.get('size') || 10,\n  };\n};\n\nexport const useSetPaginationParams = () => {\n  const [queryParameters, setSearchParams] = useSearchParams();\n  // const newQueryParameters: URLSearchParams = useMemo(\n  //   () => new URLSearchParams(queryParameters.toString()),\n  //   [queryParameters],\n  // );\n\n  const setPaginationParams = useCallback(\n    (page: number = 1, pageSize?: number) => {\n      queryParameters.set('page', page.toString());\n      if (pageSize) {\n        queryParameters.set('size', pageSize.toString());\n      }\n      setSearchParams(queryParameters);\n    },\n    [setSearchParams, queryParameters],\n  );\n\n  return {\n    setPaginationParams,\n    page: Number(queryParameters.get('page')) || 1,\n    size: Number(queryParameters.get('size')) || 10,\n  };\n};\n","'use client';\n\nimport * as TabsPrimitive from '@radix-ui/react-tabs';\nimport * as React from 'react';\n\nimport { cn } from '@/lib/utils';\n\nconst Tabs = TabsPrimitive.Root;\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      'inline-flex h-10 items-center justify-center rounded-md bg-colors-background-inverse-standard p-1 text-colors-text-neutral-standard',\n      className,\n    )}\n    {...props}\n  />\n));\nTabsList.displayName = TabsPrimitive.List.displayName;\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      'inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-colors-background-inverse-strong data-[state=active]:text-colors-text-inverse-strong data-[state=active]:shadow-sm',\n      className,\n    )}\n    {...props}\n  />\n));\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName;\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      'mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2',\n      className,\n    )}\n    {...props}\n  />\n));\nTabsContent.displayName = TabsPrimitive.Content.displayName;\n\nexport { Tabs, TabsContent, TabsList, TabsTrigger };\n","'use client';\n\nimport * as ProgressPrimitive from '@radix-ui/react-progress';\nimport * as React from 'react';\n\nimport { cn } from '@/lib/utils';\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      'relative h-4 w-full overflow-hidden rounded-full bg-secondary',\n      className,\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n));\nProgress.displayName = ProgressPrimitive.Root.displayName;\n\nexport { Progress };\n","'use client';\n\nimport * as ScrollAreaPrimitive from '@radix-ui/react-scroll-area';\nimport * as React from 'react';\n\nimport { cn } from '@/lib/utils';\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = 'vertical', ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      'flex touch-none select-none transition-colors',\n      orientation === 'vertical' &&\n        'h-full w-2.5 border-l border-l-transparent p-[1px]',\n      orientation === 'horizontal' &&\n        'h-2.5 flex-col border-t border-t-transparent p-[1px]',\n      className,\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n));\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName;\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn('relative overflow-hidden', className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n));\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName;\n\nexport { ScrollArea, ScrollBar };\n","import * as React from 'react';\n\n/**\n * @see https://github.com/radix-ui/primitives/blob/main/packages/react/use-callback-ref/src/useCallbackRef.tsx\n */\n\n/**\n * A custom hook that converts a callback to a ref to avoid triggering re-renders when passed as a\n * prop or avoid re-executing effects when passed as a dependency\n */\nfunction useCallbackRef<T extends (...args: never[]) => unknown>(\n  callback: T | undefined,\n): T {\n  const callbackRef = React.useRef(callback);\n\n  React.useEffect(() => {\n    callbackRef.current = callback;\n  });\n\n  // https://github.com/facebook/react/issues/19240\n  return React.useMemo(\n    () => ((...args) => callbackRef.current?.(...args)) as T,\n    [],\n  );\n}\n\nexport { useCallbackRef };\n","import * as React from 'react';\n\nimport { useCallbackRef } from '@/hooks/use-callback-ref';\n\n/**\n * @see https://github.com/radix-ui/primitives/blob/main/packages/react/use-controllable-state/src/useControllableState.tsx\n */\n\ntype UseControllableStateParams<T> = {\n  prop?: T | undefined;\n  defaultProp?: T | undefined;\n  onChange?: (state: T) => void;\n};\n\ntype SetStateFn<T> = (prevState?: T) => T;\n\nfunction useUncontrolledState<T>({\n  defaultProp,\n  onChange,\n}: Omit<UseControllableStateParams<T>, 'prop'>) {\n  const uncontrolledState = React.useState<T | undefined>(defaultProp);\n  const [value] = uncontrolledState;\n  const prevValueRef = React.useRef(value);\n  const handleChange = useCallbackRef(onChange);\n\n  React.useEffect(() => {\n    if (prevValueRef.current !== value) {\n      handleChange(value as T);\n      prevValueRef.current = value;\n    }\n  }, [value, prevValueRef, handleChange]);\n\n  return uncontrolledState;\n}\n\nfunction useControllableState<T>({\n  prop,\n  defaultProp,\n  onChange = () => {},\n}: UseControllableStateParams<T>) {\n  const [uncontrolledProp, setUncontrolledProp] = useUncontrolledState({\n    defaultProp,\n    onChange,\n  });\n  const isControlled = prop !== undefined;\n  const value = isControlled ? prop : uncontrolledProp;\n  const handleChange = useCallbackRef(onChange);\n\n  const setValue: React.Dispatch<React.SetStateAction<T | undefined>> =\n    React.useCallback(\n      (nextValue) => {\n        if (isControlled) {\n          const setter = nextValue as SetStateFn<T>;\n          const value =\n            typeof nextValue === 'function' ? setter(prop) : nextValue;\n          if (value !== prop) handleChange(value as T);\n        } else {\n          setUncontrolledProp(nextValue);\n        }\n      },\n      [isControlled, prop, setUncontrolledProp, handleChange],\n    );\n\n  return [value, setValue] as const;\n}\n\nexport { useControllableState };\n","// https://github.com/sadmann7/file-uploader\n\n'use client';\n\nimport { FileText, Upload, X } from 'lucide-react';\nimport * as React from 'react';\nimport Dropzone, {\n  type DropzoneProps,\n  type FileRejection,\n} from 'react-dropzone';\nimport { toast } from 'sonner';\n\nimport { Button } from '@/components/ui/button';\nimport { Progress } from '@/components/ui/progress';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { useControllableState } from '@/hooks/use-controllable-state';\nimport { cn, formatBytes } from '@/lib/utils';\n\nfunction isFileWithPreview(file: File): file is File & { preview: string } {\n  return 'preview' in file && typeof file.preview === 'string';\n}\n\ninterface FileCardProps {\n  file: File;\n  onRemove: () => void;\n  progress?: number;\n}\n\ninterface FilePreviewProps {\n  file: File & { preview: string };\n}\n\nfunction FilePreview({ file }: FilePreviewProps) {\n  if (file.type.startsWith('image/')) {\n    return (\n      <img\n        src={file.preview}\n        alt={file.name}\n        width={48}\n        height={48}\n        loading=\"lazy\"\n        className=\"aspect-square shrink-0 rounded-md object-cover\"\n      />\n    );\n  }\n\n  return (\n    <FileText className=\"size-10 text-muted-foreground\" aria-hidden=\"true\" />\n  );\n}\n\nfunction FileCard({ file, progress, onRemove }: FileCardProps) {\n  return (\n    <div className=\"relative flex items-center gap-2.5\">\n      <div className=\"flex flex-1 gap-2.5\">\n        {isFileWithPreview(file) ? <FilePreview file={file} /> : null}\n        <div className=\"flex w-full flex-col gap-2\">\n          <div className=\"flex flex-col gap-px\">\n            <p className=\"line-clamp-1 text-sm font-medium text-foreground/80\">\n              {file.name}\n            </p>\n            <p className=\"text-xs text-muted-foreground\">\n              {formatBytes(file.size)}\n            </p>\n          </div>\n          {progress ? <Progress value={progress} /> : null}\n        </div>\n      </div>\n      <div className=\"flex items-center gap-2\">\n        <Button\n          type=\"button\"\n          variant=\"outline\"\n          size=\"icon\"\n          className=\"size-7\"\n          onClick={onRemove}\n        >\n          <X className=\"size-4\" aria-hidden=\"true\" />\n          <span className=\"sr-only\">Remove file</span>\n        </Button>\n      </div>\n    </div>\n  );\n}\n\ninterface FileUploaderProps extends React.HTMLAttributes<HTMLDivElement> {\n  /**\n   * Value of the uploader.\n   * @type File[]\n   * @default undefined\n   * @example value={files}\n   */\n  value?: File[];\n\n  /**\n   * Function to be called when the value changes.\n   * @type (files: File[]) => void\n   * @default undefined\n   * @example onValueChange={(files) => setFiles(files)}\n   */\n  onValueChange?: (files: File[]) => void;\n\n  /**\n   * Function to be called when files are uploaded.\n   * @type (files: File[]) => Promise<void>\n   * @default undefined\n   * @example onUpload={(files) => uploadFiles(files)}\n   */\n  onUpload?: (files: File[]) => Promise<void>;\n\n  /**\n   * Progress of the uploaded files.\n   * @type Record<string, number> | undefined\n   * @default undefined\n   * @example progresses={{ \"file1.png\": 50 }}\n   */\n  progresses?: Record<string, number>;\n\n  /**\n   * Accepted file types for the uploader.\n   * @type { [key: string]: string[]}\n   * @default\n   * ```ts\n   * { \"image/*\": [] }\n   * ```\n   * @example accept={[\"image/png\", \"image/jpeg\"]}\n   */\n  accept?: DropzoneProps['accept'];\n\n  /**\n   * Maximum file size for the uploader.\n   * @type number | undefined\n   * @default 1024 * 1024 * 2 // 2MB\n   * @example maxSize={1024 * 1024 * 2} // 2MB\n   */\n  maxSize?: DropzoneProps['maxSize'];\n\n  /**\n   * Maximum number of files for the uploader.\n   * @type number | undefined\n   * @default 1\n   * @example maxFileCount={4}\n   */\n  maxFileCount?: DropzoneProps['maxFiles'];\n\n  /**\n   * Whether the uploader should accept multiple files.\n   * @type boolean\n   * @default false\n   * @example multiple\n   */\n  multiple?: boolean;\n\n  /**\n   * Whether the uploader is disabled.\n   * @type boolean\n   * @default false\n   * @example disabled\n   */\n  disabled?: boolean;\n}\n\nexport function FileUploader(props: FileUploaderProps) {\n  const {\n    value: valueProp,\n    onValueChange,\n    onUpload,\n    progresses,\n    accept = {\n      'image/*': [],\n    },\n    maxSize = 1024 * 1024 * 2,\n    maxFileCount = 1,\n    multiple = false,\n    disabled = false,\n    className,\n    ...dropzoneProps\n  } = props;\n\n  const [files, setFiles] = useControllableState({\n    prop: valueProp,\n    onChange: onValueChange,\n  });\n\n  const onDrop = React.useCallback(\n    (acceptedFiles: File[], rejectedFiles: FileRejection[]) => {\n      if (!multiple && maxFileCount === 1 && acceptedFiles.length > 1) {\n        toast.error('Cannot upload more than 1 file at a time');\n        return;\n      }\n\n      if ((files?.length ?? 0) + acceptedFiles.length > maxFileCount) {\n        toast.error(`Cannot upload more than ${maxFileCount} files`);\n        return;\n      }\n\n      const newFiles = acceptedFiles.map((file) =>\n        Object.assign(file, {\n          preview: URL.createObjectURL(file),\n        }),\n      );\n\n      const updatedFiles = files ? [...files, ...newFiles] : newFiles;\n\n      setFiles(updatedFiles);\n\n      if (rejectedFiles.length > 0) {\n        rejectedFiles.forEach(({ file }) => {\n          toast.error(`File ${file.name} was rejected`);\n        });\n      }\n\n      if (\n        onUpload &&\n        updatedFiles.length > 0 &&\n        updatedFiles.length <= maxFileCount\n      ) {\n        const target =\n          updatedFiles.length > 0 ? `${updatedFiles.length} files` : `file`;\n\n        toast.promise(onUpload(updatedFiles), {\n          loading: `Uploading ${target}...`,\n          success: () => {\n            setFiles([]);\n            return `${target} uploaded`;\n          },\n          error: `Failed to upload ${target}`,\n        });\n      }\n    },\n\n    [files, maxFileCount, multiple, onUpload, setFiles],\n  );\n\n  function onRemove(index: number) {\n    if (!files) return;\n    const newFiles = files.filter((_, i) => i !== index);\n    setFiles(newFiles);\n    onValueChange?.(newFiles);\n  }\n\n  // Revoke preview url when component unmounts\n  React.useEffect(() => {\n    return () => {\n      if (!files) return;\n      files.forEach((file) => {\n        if (isFileWithPreview(file)) {\n          URL.revokeObjectURL(file.preview);\n        }\n      });\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const isDisabled = disabled || (files?.length ?? 0) >= maxFileCount;\n\n  return (\n    <div className=\"relative flex flex-col gap-6 overflow-hidden\">\n      <Dropzone\n        onDrop={onDrop}\n        accept={accept}\n        maxSize={maxSize}\n        maxFiles={maxFileCount}\n        multiple={maxFileCount > 1 || multiple}\n        disabled={isDisabled}\n      >\n        {({ getRootProps, getInputProps, isDragActive }) => (\n          <div\n            {...getRootProps()}\n            className={cn(\n              'group relative grid h-52 w-full cursor-pointer place-items-center rounded-lg border-2 border-dashed border-muted-foreground/25 px-5 py-2.5 text-center transition hover:bg-muted/25',\n              'ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2',\n              isDragActive && 'border-muted-foreground/50',\n              isDisabled && 'pointer-events-none opacity-60',\n              className,\n            )}\n            {...dropzoneProps}\n          >\n            <input {...getInputProps()} />\n            {isDragActive ? (\n              <div className=\"flex flex-col items-center justify-center gap-4 sm:px-5\">\n                <div className=\"rounded-full border border-dashed p-3\">\n                  <Upload\n                    className=\"size-7 text-muted-foreground\"\n                    aria-hidden=\"true\"\n                  />\n                </div>\n                <p className=\"font-medium text-muted-foreground\">\n                  Drop the files here\n                </p>\n              </div>\n            ) : (\n              <div className=\"flex flex-col items-center justify-center gap-4 sm:px-5\">\n                <div className=\"rounded-full border border-dashed p-3\">\n                  <Upload\n                    className=\"size-7 text-muted-foreground\"\n                    aria-hidden=\"true\"\n                  />\n                </div>\n                <div className=\"flex flex-col gap-px\">\n                  <p className=\"font-medium text-muted-foreground\">\n                    Drag {`'n'`} drop files here, or click to select files\n                  </p>\n                  <p className=\"text-sm text-muted-foreground/70\">\n                    You can upload\n                    {maxFileCount > 1\n                      ? ` ${maxFileCount === Infinity ? 'multiple' : maxFileCount}\n                      files (up to ${formatBytes(maxSize)} each)`\n                      : ` a file with ${formatBytes(maxSize)}`}\n                  </p>\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n      </Dropzone>\n      {files?.length ? (\n        <ScrollArea className=\"h-fit w-full px-3\">\n          <div className=\"flex max-h-48 flex-col gap-4\">\n            {files?.map((file, index) => (\n              <FileCard\n                key={index}\n                file={file}\n                onRemove={() => onRemove(index)}\n                progress={progresses?.[file.name]}\n              />\n            ))}\n          </div>\n        </ScrollArea>\n      ) : null}\n    </div>\n  );\n}\n","import { Button } from '@/components/ui/button';\nimport {\n  Dialog,\n  DialogContent,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { IModalProps } from '@/interfaces/common';\nimport { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { FileUploader } from '../file-uploader';\n\nexport function UploaderTabs() {\n  const { t } = useTranslation();\n\n  const [files, setFiles] = useState<File[]>([]);\n  //console.log(' ~ TabsDemo ~ files:', files);\n\n  return (\n    <Tabs defaultValue=\"account\">\n      {/*<TabsList className=\"grid w-full grid-cols-2 mb-4\">\n        <TabsTrigger value=\"account\">{t('fileManager.local')}</TabsTrigger>\n        <TabsTrigger value=\"password\">{t('fileManager.s3')}</TabsTrigger>\n      </TabsList>*/}  \n      <TabsContent value=\"account\">\n        <FileUploader\n          maxFileCount={8}\n          maxSize={8 * 1024 * 1024}\n          onValueChange={setFiles}\n        />\n      </TabsContent>\n      <TabsContent value=\"password\">{t('common.comingSoon')}</TabsContent>\n    </Tabs>\n  );\n}\n\nexport function FileUploadDialog({ hideModal }: IModalProps<any>) {\n  const { t } = useTranslation();\n\n  return (\n    <Dialog open onOpenChange={hideModal}>\n      <DialogContent className=\"sm:max-w-[425px]\">\n        <DialogHeader>\n          <DialogTitle>{t('fileManager.uploadFile')} </DialogTitle>\n        </DialogHeader>\n        <UploaderTabs></UploaderTabs>\n        <DialogFooter>\n          <Button type=\"submit\" variant={'tertiary'} size={'sm'}>\n            {t('common.save')}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","'use client';\n\nimport {\n  ColumnDef,\n  ColumnFiltersState,\n  SortingState,\n  VisibilityState,\n  flexRender,\n  getCoreRowModel,\n  getFilteredRowModel,\n  getPaginationRowModel,\n  getSortedRowModel,\n  useReactTable,\n} from '@tanstack/react-table';\nimport { ArrowUpDown, MoreHorizontal, Pencil } from 'lucide-react';\nimport * as React from 'react';\n\nimport { Button } from '@/components/ui/button';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport { Switch } from '@/components/ui/switch';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table';\nimport { RunningStatus } from '@/constants/knowledge';\nimport { IDocumentInfo } from '@/interfaces/database/document';\nimport { useTranslation } from 'react-i18next';\n\nconst data: IDocumentInfo[] = [\n  {\n    chunk_num: 1,\n    create_date: 'Thu, 28 Nov 2024 17:10:22 GMT',\n    create_time: 1732785022792,\n    created_by: 'b0975cb4bc3111ee9b830aef05f5e94f',\n    id: '990cb30ead6811efb9b9fa163e197198',\n    kb_id: '25a8cfbe9cd411efbc12fa163e197198',\n    location: 'mian.jpg',\n    name: 'mian.jpg',\n    parser_config: {\n      pages: [[1, 1000000]],\n    },\n    parser_id: 'picture',\n    process_begin_at: 'Thu, 28 Nov 2024 17:10:25 GMT',\n    process_duation: 8.46185,\n    progress: 1,\n    progress_msg:\n      '\\nTask has been received.\\nPage(1~100000001): Finish OCR: (\\n\\nONGXI ...)\\nPage(1~100000001): OCR results is too long to use CV LLM.\\nPage(1~100000001): Finished slicing files (1 chunks in 0.34s). Start to embedding the content.\\nPage(1~100000001): Finished embedding (in 0.35s)! Start to build index!\\nPage(1~100000001): Indexing elapsed in 0.02s.\\nPage(1~100000001): Done!',\n    run: RunningStatus.RUNNING,\n    size: 19692,\n    source_type: 'local',\n    status: '1',\n    thumbnail:\n      '/v1/document/image/25a8cfbe9cd411efbc12fa163e197198-thumbnail_990cb30ead6811efb9b9fa163e197198.png',\n    token_num: 115,\n    type: 'visual',\n    update_date: 'Thu, 28 Nov 2024 17:10:33 GMT',\n    update_time: 1732785033462,\n  },\n];\n\nexport function DatasetTable() {\n  const [sorting, setSorting] = React.useState<SortingState>([]);\n  const [columnFilters, setColumnFilters] = React.useState<ColumnFiltersState>(\n    [],\n  );\n  const [columnVisibility, setColumnVisibility] =\n    React.useState<VisibilityState>({});\n  const [rowSelection, setRowSelection] = React.useState({});\n  const { t } = useTranslation('translation', {\n    keyPrefix: 'knowledgeDetails',\n  });\n\n  const columns: ColumnDef<IDocumentInfo>[] = [\n    {\n      id: 'select',\n      header: ({ table }) => (\n        <Checkbox\n          checked={\n            table.getIsAllPageRowsSelected() ||\n            (table.getIsSomePageRowsSelected() && 'indeterminate')\n          }\n          onCheckedChange={(value) => table.toggleAllPageRowsSelected(!!value)}\n          aria-label=\"Select all\"\n        />\n      ),\n      cell: ({ row }) => (\n        <Checkbox\n          checked={row.getIsSelected()}\n          onCheckedChange={(value) => row.toggleSelected(!!value)}\n          aria-label=\"Select row\"\n        />\n      ),\n      enableSorting: false,\n      enableHiding: false,\n    },\n    {\n      accessorKey: 'name',\n      header: ({ column }) => {\n        return (\n          <Button\n            variant=\"ghost\"\n            onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\n          >\n            {t('name')}\n            <ArrowUpDown />\n          </Button>\n        );\n      },\n      cell: ({ row }) => (\n        <div className=\"capitalize\">{row.getValue('name')}</div>\n      ),\n    },\n    {\n      accessorKey: 'create_time',\n      header: ({ column }) => {\n        return (\n          <Button\n            variant=\"ghost\"\n            onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\n          >\n            {t('uploadDate')}\n            <ArrowUpDown />\n          </Button>\n        );\n      },\n      cell: ({ row }) => (\n        <div className=\"lowercase\">{row.getValue('create_time')}</div>\n      ),\n    },\n    {\n      accessorKey: 'parser_id',\n      header: t('chunkMethod'),\n      cell: ({ row }) => (\n        <div className=\"capitalize\">{row.getValue('parser_id')}</div>\n      ),\n    },\n    {\n      accessorKey: 'run',\n      header: t('parsingStatus'),\n      cell: ({ row }) => (\n        <Button variant=\"destructive\" size={'sm'}>\n          {row.getValue('run')}\n        </Button>\n      ),\n    },\n    {\n      id: 'actions',\n      header: t('action'),\n      enableHiding: false,\n      cell: ({ row }) => {\n        const payment = row.original;\n\n        return (\n          <section className=\"flex gap-4 items-center\">\n            <Switch id=\"airplane-mode\" />\n            <Button variant=\"secondary\" size={'icon'}>\n              <Pencil />\n            </Button>\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <Button variant=\"secondary\" size={'icon'}>\n                  <MoreHorizontal />\n                </Button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent align=\"end\">\n                <DropdownMenuLabel>Actions</DropdownMenuLabel>\n                <DropdownMenuItem\n                  onClick={() => navigator.clipboard.writeText(payment.id)}\n                >\n                  Copy payment ID\n                </DropdownMenuItem>\n                <DropdownMenuSeparator />\n                <DropdownMenuItem>View customer</DropdownMenuItem>\n                <DropdownMenuItem>View payment details</DropdownMenuItem>\n              </DropdownMenuContent>\n            </DropdownMenu>\n          </section>\n        );\n      },\n    },\n  ];\n\n  const table = useReactTable({\n    data,\n    columns,\n    onSortingChange: setSorting,\n    onColumnFiltersChange: setColumnFilters,\n    getCoreRowModel: getCoreRowModel(),\n    getPaginationRowModel: getPaginationRowModel(),\n    getSortedRowModel: getSortedRowModel(),\n    getFilteredRowModel: getFilteredRowModel(),\n    onColumnVisibilityChange: setColumnVisibility,\n    onRowSelectionChange: setRowSelection,\n    state: {\n      sorting,\n      columnFilters,\n      columnVisibility,\n      rowSelection,\n    },\n  });\n\n  return (\n    <div className=\"w-full\">\n      <div className=\"rounded-md border\">\n        <Table>\n          <TableHeader>\n            {table.getHeaderGroups().map((headerGroup) => (\n              <TableRow key={headerGroup.id}>\n                {headerGroup.headers.map((header) => {\n                  return (\n                    <TableHead key={header.id}>\n                      {header.isPlaceholder\n                        ? null\n                        : flexRender(\n                            header.column.columnDef.header,\n                            header.getContext(),\n                          )}\n                    </TableHead>\n                  );\n                })}\n              </TableRow>\n            ))}\n          </TableHeader>\n          <TableBody>\n            {table.getRowModel().rows?.length ? (\n              table.getRowModel().rows.map((row) => (\n                <TableRow\n                  key={row.id}\n                  data-state={row.getIsSelected() && 'selected'}\n                >\n                  {row.getVisibleCells().map((cell) => (\n                    <TableCell key={cell.id}>\n                      {flexRender(\n                        cell.column.columnDef.cell,\n                        cell.getContext(),\n                      )}\n                    </TableCell>\n                  ))}\n                </TableRow>\n              ))\n            ) : (\n              <TableRow>\n                <TableCell\n                  colSpan={columns.length}\n                  className=\"h-24 text-center\"\n                >\n                  No results.\n                </TableCell>\n              </TableRow>\n            )}\n          </TableBody>\n        </Table>\n      </div>\n      <div className=\"flex items-center justify-end space-x-2 py-4\">\n        <div className=\"flex-1 text-sm text-muted-foreground\">\n          {table.getFilteredSelectedRowModel().rows.length} of{' '}\n          {table.getFilteredRowModel().rows.length} row(s) selected.\n        </div>\n        <div className=\"space-x-2\">\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={() => table.previousPage()}\n            disabled={!table.getCanPreviousPage()}\n          >\n            Previous\n          </Button>\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={() => table.nextPage()}\n            disabled={!table.getCanNextPage()}\n          >\n            Next\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { FileUploadDialog } from '@/components/file-upload-dialog';\nimport ListFilterBar from '@/components/list-filter-bar';\nimport { Upload } from 'lucide-react';\nimport { DatasetTable } from './dataset-table';\nimport { useHandleUploadDocument } from './hooks';\n\nexport default function Dataset() {\n  const {\n    documentUploadVisible,\n    hideDocumentUploadModal,\n    showDocumentUploadModal,\n    onDocumentUploadOk,\n    documentUploadLoading,\n  } = useHandleUploadDocument();\n  return (\n    <section className=\"p-8\">\n      <ListFilterBar title=\"Files\" showDialog={showDocumentUploadModal}>\n        <Upload />\n        Upload file\n      </ListFilterBar>\n      <DatasetTable></DatasetTable>\n\n      {documentUploadVisible && (\n        <FileUploadDialog\n          hideModal={hideDocumentUploadModal}\n          onOk={onDocumentUploadOk}\n          loading={documentUploadLoading}\n        ></FileUploadDialog>\n      )}\n    </section>\n  );\n}\n","import { useSetModalState } from '@/hooks/common-hooks';\nimport {\n  useCreateNextDocument,\n  useNextWebCrawl,\n  useRunNextDocument,\n  useSaveNextDocumentName,\n  useSetNextDocumentParser,\n  useUploadNextDocument,\n} from '@/hooks/document-hooks';\nimport { useGetKnowledgeSearchParams } from '@/hooks/route-hook';\nimport { IChangeParserConfigRequestBody } from '@/interfaces/request/document';\nimport { getUnSupportedFilesCount } from '@/utils/document-util';\nimport { UploadFile } from 'antd';\nimport { useCallback, useState } from 'react';\nimport { useNavigate } from 'umi';\n\nexport const useNavigateToOtherPage = () => {\n  const navigate = useNavigate();\n  const { knowledgeId } = useGetKnowledgeSearchParams();\n\n  const linkToUploadPage = useCallback(() => {\n    navigate(`/knowledge/dataset/upload?id=${knowledgeId}`);\n  }, [navigate, knowledgeId]);\n\n  const toChunk = useCallback((id: string) => {}, []);\n\n  return { linkToUploadPage, toChunk };\n};\n\nexport const useRenameDocument = (documentId: string) => {\n  const { saveName, loading } = useSaveNextDocumentName();\n\n  const {\n    visible: renameVisible,\n    hideModal: hideRenameModal,\n    showModal: showRenameModal,\n  } = useSetModalState();\n\n  const onRenameOk = useCallback(\n    async (name: string) => {\n      const ret = await saveName({ documentId, name });\n      if (ret === 0) {\n        hideRenameModal();\n      }\n    },\n    [hideRenameModal, saveName, documentId],\n  );\n\n  return {\n    renameLoading: loading,\n    onRenameOk,\n    renameVisible,\n    hideRenameModal,\n    showRenameModal,\n  };\n};\n\nexport const useCreateEmptyDocument = () => {\n  const { createDocument, loading } = useCreateNextDocument();\n\n  const {\n    visible: createVisible,\n    hideModal: hideCreateModal,\n    showModal: showCreateModal,\n  } = useSetModalState();\n\n  const onCreateOk = useCallback(\n    async (name: string) => {\n      const ret = await createDocument(name);\n      if (ret === 0) {\n        hideCreateModal();\n      }\n    },\n    [hideCreateModal, createDocument],\n  );\n\n  return {\n    createLoading: loading,\n    onCreateOk,\n    createVisible,\n    hideCreateModal,\n    showCreateModal,\n  };\n};\n\nexport const useChangeDocumentParser = (documentId: string) => {\n  const { setDocumentParser, loading } = useSetNextDocumentParser();\n\n  const {\n    visible: changeParserVisible,\n    hideModal: hideChangeParserModal,\n    showModal: showChangeParserModal,\n  } = useSetModalState();\n\n  const onChangeParserOk = useCallback(\n    async (parserId: string, parserConfig: IChangeParserConfigRequestBody) => {\n      const ret = await setDocumentParser({\n        parserId,\n        documentId,\n        parserConfig,\n      });\n      if (ret === 0) {\n        hideChangeParserModal();\n      }\n    },\n    [hideChangeParserModal, setDocumentParser, documentId],\n  );\n\n  return {\n    changeParserLoading: loading,\n    onChangeParserOk,\n    changeParserVisible,\n    hideChangeParserModal,\n    showChangeParserModal,\n  };\n};\n\nexport const useGetRowSelection = () => {\n  const [selectedRowKeys, setSelectedRowKeys] = useState<React.Key[]>([]);\n\n  const rowSelection = {\n    selectedRowKeys,\n    onChange: (newSelectedRowKeys: React.Key[]) => {\n      setSelectedRowKeys(newSelectedRowKeys);\n    },\n  };\n\n  return rowSelection;\n};\n\nexport const useHandleUploadDocument = () => {\n  const {\n    visible: documentUploadVisible,\n    hideModal: hideDocumentUploadModal,\n    showModal: showDocumentUploadModal,\n  } = useSetModalState();\n  const { uploadDocument, loading } = useUploadNextDocument();\n\n  const onDocumentUploadOk = useCallback(\n    async (fileList: UploadFile[]): Promise<number | undefined> => {\n      if (fileList.length > 0) {\n        const ret: any = await uploadDocument(fileList);\n        if (typeof ret?.message !== 'string') {\n          return;\n        }\n        const count = getUnSupportedFilesCount(ret?.message);\n        /// 500 error code indicates that some file types are not supported\n        let code = ret?.code;\n        if (\n          ret?.code === 0 ||\n          (ret?.code === 500 && count !== fileList.length) // Some files were not uploaded successfully, but some were uploaded successfully.\n        ) {\n          code = 0;\n          hideDocumentUploadModal();\n        }\n        return code;\n      }\n    },\n    [uploadDocument, hideDocumentUploadModal],\n  );\n\n  return {\n    documentUploadLoading: loading,\n    onDocumentUploadOk,\n    documentUploadVisible,\n    hideDocumentUploadModal,\n    showDocumentUploadModal,\n  };\n};\n\nexport const useHandleWebCrawl = () => {\n  const {\n    visible: webCrawlUploadVisible,\n    hideModal: hideWebCrawlUploadModal,\n    showModal: showWebCrawlUploadModal,\n  } = useSetModalState();\n  const { webCrawl, loading } = useNextWebCrawl();\n\n  const onWebCrawlUploadOk = useCallback(\n    async (name: string, url: string) => {\n      const ret = await webCrawl({ name, url });\n      if (ret === 0) {\n        hideWebCrawlUploadModal();\n        return 0;\n      }\n      return -1;\n    },\n    [webCrawl, hideWebCrawlUploadModal],\n  );\n\n  return {\n    webCrawlUploadLoading: loading,\n    onWebCrawlUploadOk,\n    webCrawlUploadVisible,\n    hideWebCrawlUploadModal,\n    showWebCrawlUploadModal,\n  };\n};\n\nexport const useHandleRunDocumentByIds = (id: string) => {\n  const { runDocumentByIds, loading } = useRunNextDocument();\n  const [currentId, setCurrentId] = useState<string>('');\n  const isLoading = loading && currentId !== '' && currentId === id;\n\n  const handleRunDocumentByIds = async (\n    documentId: string,\n    isRunning: boolean,\n    shouldDelete: boolean = false,\n  ) => {\n    if (isLoading) {\n      return;\n    }\n    setCurrentId(documentId);\n    try {\n      await runDocumentByIds({\n        documentIds: [documentId],\n        run: isRunning ? 2 : 1,\n        shouldDelete,\n      });\n      setCurrentId('');\n    } catch (error) {\n      setCurrentId('');\n    }\n  };\n\n  return {\n    handleRunDocumentByIds,\n    loading: isLoading,\n  };\n};\n","import api from '@/utils/api';\nimport registerServer from '@/utils/register-server';\nimport request from '@/utils/request';\n\nconst {\n  getDialog,\n  setDialog,\n  listDialog,\n  removeDialog,\n  getConversation,\n  getConversationSSE,\n  setConversation,\n  completeConversation,\n  listConversation,\n  removeConversation,\n  createToken,\n  listToken,\n  removeToken,\n  getStats,\n  createExternalConversation,\n  getExternalConversation,\n  completeExternalConversation,\n  uploadAndParseExternal,\n  deleteMessage,\n  thumbup,\n  tts,\n  ask,\n  mindmap,\n  getRelatedQuestions,\n} = api;\n\nconst methods = {\n  getDialog: {\n    url: getDialog,\n    method: 'get',\n  },\n  setDialog: {\n    url: setDialog,\n    method: 'post',\n  },\n  removeDialog: {\n    url: removeDialog,\n    method: 'post',\n  },\n  listDialog: {\n    url: listDialog,\n    method: 'get',\n  },\n  listConversation: {\n    url: listConversation,\n    method: 'get',\n  },\n  getConversation: {\n    url: getConversation,\n    method: 'get',\n  },\n  getConversationSSE: {\n    url: getConversationSSE,\n    method: 'get',\n  },\n  setConversation: {\n    url: setConversation,\n    method: 'post',\n  },\n  completeConversation: {\n    url: completeConversation,\n    method: 'post',\n  },\n  removeConversation: {\n    url: removeConversation,\n    method: 'post',\n  },\n  createToken: {\n    url: createToken,\n    method: 'post',\n  },\n  listToken: {\n    url: listToken,\n    method: 'get',\n  },\n  removeToken: {\n    url: removeToken,\n    method: 'post',\n  },\n  getStats: {\n    url: getStats,\n    method: 'get',\n  },\n  createExternalConversation: {\n    url: createExternalConversation,\n    method: 'get',\n  },\n  getExternalConversation: {\n    url: getExternalConversation,\n    method: 'get',\n  },\n  completeExternalConversation: {\n    url: completeExternalConversation,\n    method: 'post',\n  },\n  uploadAndParseExternal: {\n    url: uploadAndParseExternal,\n    method: 'post',\n  },\n  deleteMessage: {\n    url: deleteMessage,\n    method: 'post',\n  },\n  thumbup: {\n    url: thumbup,\n    method: 'post',\n  },\n  tts: {\n    url: tts,\n    method: 'post',\n  },\n  ask: {\n    url: ask,\n    method: 'post',\n  },\n  getMindMap: {\n    url: mindmap,\n    method: 'post',\n  },\n  getRelatedQuestions: {\n    url: getRelatedQuestions,\n    method: 'post',\n  },\n} as const;\n\nconst chatService = registerServer<keyof typeof methods>(methods, request);\n\nexport default chatService;\n","import { IRenameTag } from '@/interfaces/database/knowledge';\nimport api from '@/utils/api';\nimport registerServer from '@/utils/register-server';\nimport request, { post } from '@/utils/request';\n\nconst {\n  create_kb,\n  update_kb,\n  rm_kb,\n  get_kb_detail,\n  kb_list,\n  get_document_list,\n  document_change_status,\n  document_rm,\n  document_delete,\n  document_create,\n  document_change_parser,\n  document_thumbnails,\n  chunk_list,\n  create_chunk,\n  set_chunk,\n  get_chunk,\n  switch_chunk,\n  rm_chunk,\n  retrieval_test,\n  document_rename,\n  document_run,\n  document_upload,\n  web_crawl,\n  knowledge_graph,\n  document_infos,\n  upload_and_parse,\n  listTagByKnowledgeIds,\n  setMeta,\n} = api;\n\nconst methods = {\n  // \n  createKb: {\n    url: create_kb,\n    method: 'post',\n  },\n  updateKb: {\n    url: update_kb,\n    method: 'post',\n  },\n  rmKb: {\n    url: rm_kb,\n    method: 'post',\n  },\n  get_kb_detail: {\n    url: get_kb_detail,\n    method: 'get',\n  },\n  getList: {\n    url: kb_list,\n    method: 'get',\n  },\n  // document manager\n  get_document_list: {\n    url: get_document_list,\n    method: 'get',\n  },\n  document_change_status: {\n    url: document_change_status,\n    method: 'post',\n  },\n  document_rm: {\n    url: document_rm,\n    method: 'post',\n  },\n  document_rename: {\n    url: document_rename,\n    method: 'post',\n  },\n  document_create: {\n    url: document_create,\n    method: 'post',\n  },\n  document_run: {\n    url: document_run,\n    method: 'post',\n  },\n  document_change_parser: {\n    url: document_change_parser,\n    method: 'post',\n  },\n  document_thumbnails: {\n    url: document_thumbnails,\n    method: 'get',\n  },\n  document_upload: {\n    url: document_upload,\n    method: 'post',\n  },\n  web_crawl: {\n    url: web_crawl,\n    method: 'post',\n  },\n  document_infos: {\n    url: document_infos,\n    method: 'post',\n  },\n  setMeta: {\n    url: setMeta,\n    method: 'post',\n  },\n  // chunk\n  chunk_list: {\n    url: chunk_list,\n    method: 'post',\n  },\n  create_chunk: {\n    url: create_chunk,\n    method: 'post',\n  },\n  set_chunk: {\n    url: set_chunk,\n    method: 'post',\n  },\n  get_chunk: {\n    url: get_chunk,\n    method: 'get',\n  },\n  switch_chunk: {\n    url: switch_chunk,\n    method: 'post',\n  },\n  rm_chunk: {\n    url: rm_chunk,\n    method: 'post',\n  },\n  retrieval_test: {\n    url: retrieval_test,\n    method: 'post',\n  },\n  knowledge_graph: {\n    url: knowledge_graph,\n    method: 'get',\n  },\n  document_delete: {\n    url: document_delete,\n    method: 'delete',\n  },\n  upload_and_parse: {\n    url: upload_and_parse,\n    method: 'post',\n  },\n  listTagByKnowledgeIds: {\n    url: listTagByKnowledgeIds,\n    method: 'get',\n  },\n};\n\nconst kbService = registerServer<keyof typeof methods>(methods, request);\n\nexport const listTag = (knowledgeId: string) =>\n  request.get(api.listTag(knowledgeId));\n\nexport const removeTag = (knowledgeId: string, tags: string[]) =>\n  post(api.removeTag(knowledgeId), { tags });\n\nexport const renameTag = (\n  knowledgeId: string,\n  { fromTag, toTag }: IRenameTag,\n) => post(api.renameTag(knowledgeId), { fromTag, toTag });\n\nexport function getKnowledgeGraph(knowledgeId: string) {\n  return request.get(api.getKnowledgeGraph(knowledgeId));\n}\n\nexport default kbService;\n","import { EmptyConversationId } from '@/constants/chat';\nimport { Message } from '@/interfaces/database/chat';\nimport { IMessage } from '@/pages/chat/interface';\nimport { omit } from 'lodash';\nimport { v4 as uuid } from 'uuid';\n\nexport const isConversationIdExist = (conversationId: string) => {\n  return conversationId !== EmptyConversationId && conversationId !== '';\n};\n\nexport const buildMessageUuid = (message: Partial<Message | IMessage>) => {\n  if ('id' in message && message.id) {\n    return message.id;\n  }\n  return uuid();\n};\n\nexport const buildMessageListWithUuid = (messages?: Message[]) => {\n  return (\n    messages?.map((x: Message | IMessage) => ({\n      ...omit(x, 'reference'),\n      id: buildMessageUuid(x),\n    })) ?? []\n  );\n};\n\nexport const getConversationId = () => {\n  return uuid().replace(/-/g, '');\n};\n\n// When rendering each message, add a prefix to the id to ensure uniqueness.\nexport const buildMessageUuidWithRole = (\n  message: Partial<Message | IMessage>,\n) => {\n  return `${message.role}_${message.id}`;\n};\n\n// Preprocess LaTeX equations to be rendered by KaTeX\n// ref: https://github.com/remarkjs/react-markdown/issues/785\n\nexport const preprocessLaTeX = (content: string) => {\n  const blockProcessedContent = content.replace(\n    /\\\\\\[([\\s\\S]*?)\\\\\\]/g,\n    (_, equation) => `$$${equation}$$`,\n  );\n  const inlineProcessedContent = blockProcessedContent.replace(\n    /\\\\\\(([\\s\\S]*?)\\\\\\)/g,\n    (_, equation) => `$${equation}$`,\n  );\n  return inlineProcessedContent;\n};\n","import { Images, SupportedPreviewDocumentTypes } from '@/constants/common';\nimport { IReferenceChunk } from '@/interfaces/database/chat';\nimport { IChunk } from '@/interfaces/database/knowledge';\nimport { UploadFile } from 'antd';\nimport { get } from 'lodash';\nimport { v4 as uuid } from 'uuid';\n\nexport const buildChunkHighlights = (\n  selectedChunk: IChunk | IReferenceChunk,\n  size: { width: number; height: number },\n) => {\n  return Array.isArray(selectedChunk?.positions) &&\n    selectedChunk.positions.every((x) => Array.isArray(x))\n    ? selectedChunk?.positions?.map((x) => {\n        const boundingRect = {\n          width: size.width,\n          height: size.height,\n          x1: x[1],\n          x2: x[2],\n          y1: x[3],\n          y2: x[4],\n        };\n        return {\n          id: uuid(),\n          comment: {\n            text: '',\n            emoji: '',\n          },\n          content: {\n            text:\n              get(selectedChunk, 'content_with_weight') ||\n              get(selectedChunk, 'content', ''),\n          },\n          position: {\n            boundingRect: boundingRect,\n            rects: [boundingRect],\n            pageNumber: x[0],\n          },\n        };\n      })\n    : [];\n};\n\nexport const isFileUploadDone = (file: UploadFile) => file.status === 'done';\n\nexport const getExtension = (name: string) =>\n  name?.slice(name.lastIndexOf('.') + 1).toLowerCase() ?? '';\n\nexport const isPdf = (name: string) => {\n  return getExtension(name) === 'pdf';\n};\n\nexport const getUnSupportedFilesCount = (message: string) => {\n  return message.split('\\n').length;\n};\n\nexport const isSupportedPreviewDocumentType = (fileExtension: string) => {\n  return SupportedPreviewDocumentTypes.includes(fileExtension);\n};\n\nexport const isImage = (image: string) => {\n  return [...Images, 'svg'].some((x) => x === image);\n};\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 86635;\nmodule.exports = webpackEmptyAsyncContext;"],"names":["ListFilterBar","_ref","title","children","showDialog","_jsxs","className","_jsx","Filter","SearchInput","Button","variant","size","onClick","buttonVariants","cva","variants","default","destructive","outline","secondary","ghost","link","tertiary","icon","sm","lg","auto","defaultVariants","React","ref","_ref$asChild","asChild","props","_objectWithoutProperties","_excluded","Comp","Slot","_objectSpread","cn","displayName","Checkbox","CheckboxPrimitive","Check","_excluded2","_excluded3","_excluded4","_excluded5","_excluded6","Dialog","DialogPrimitive","DialogPortal","DialogOverlay","DialogContent","_ref2","X","DialogHeader","_ref3","DialogFooter","_ref4","DialogTitle","_ref5","_ref6","_excluded7","_excluded8","DropdownMenu","DropdownMenuPrimitive","DropdownMenuTrigger","inset","ChevronRight","DropdownMenuContent","_ref3$sideOffset","sideOffset","DropdownMenuItem","checked","Circle","DropdownMenuLabel","_ref7","DropdownMenuSeparator","_ref8","Input","type","ExpandedInput","suffix","prefix","_defineProperty","Search","Switch","SwitchPrimitives","Table","TableHeader","TableBody","TableRow","TableHead","TableCell","MessageType","variableEnabledFieldMap","temperatureEnabled","topPEnabled","presencePenaltyEnabled","frequencyPenaltyEnabled","maxTokensEnabled","SharedFrom","ChatSearchParams","EmptyConversationId","KnowledgeRouteKey","RunningStatus","ModelVariableType","settledModelVariableMap","Improvise","temperature","top_p","frequency_penalty","presence_penalty","max_tokens","Precise","Balance","LlmModelType","KnowledgeSearchParams","DocumentType","useSetModalState","_useState","useState","_useState2","_slicedToArray","visible","setVisible","showModal","useCallback","hideModal","switchVisible","useShowDeleteConfirm","modal","App","useApp","t","useTranslation","content","onOk","onCancel","Promise","resolve","reject","confirm","ExclamationCircleFilled","okText","okType","cancelText","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","ret","wrap","_context2","prev","next","sent","console","info","t0","stop","useTranslate","keyPrefix","useGetDocumentUrl","documentId","id","concat","api_host","useGetChunkHighlights","selectedChunk","width","height","setSize","highlights","useMemo","buildChunkHighlights","setWidthAndHeight","pre","useFetchNextDocumentList","_queryFn","knowledgeId","useGetKnowledgeSearchParams","_useHandleSearchChang","useHandleSearchChange","searchString","handleInputChange","_useGetPaginationWith","useGetPaginationWithRouter","pagination","setPagination","_useQuery","useQuery","queryKey","initialData","docs","total","refetchInterval","queryFn","_callee","_context","kbService","get_document_list","kb_id","keywords","page_size","pageSize","page","current","data","code","abrupt","apply","arguments","loading","isFetching","onInputChange","e","documents","useSetNextDocumentStatus","_mutationFn","queryClient","useQueryClient","_useMutation","useMutation","mutationKey","mutationFn","status","_yield$kbService$docu","document_change_status","doc_id","Number","message","success","i18n","invalidateQueries","_x","isPending","setDocumentStatus","mutateAsync","useSaveNextDocumentName","_mutationFn2","_useMutation2","_callee3","name","_yield$kbService$docu2","_context3","document_rename","_x2","saveName","useCreateNextDocument","_mutationFn3","_useSetPaginationPara","useSetPaginationParams","setPaginationParams","_useMutation3","_callee4","_yield$kbService$docu3","_context4","document_create","_x3","createDocument","useSetNextDocumentParser","_mutationFn4","_useMutation4","_callee5","parserId","parserConfig","_yield$kbService$docu4","_context5","document_change_parser","parser_id","parser_config","_x4","setDocumentParser","useUploadNextDocument","_mutationFn5","_useMutation5","_callee6","fileList","formData","_context6","FormData","append","forEach","file","document_upload","get","warn","_x5","uploadDocument","useNextWebCrawl","_mutationFn6","_useMutation6","_callee7","url","_context7","web_crawl","_x6","webCrawl","useRunNextDocument","_mutationFn7","_useMutation7","_callee8","documentIds","run","shouldDelete","_context8","document_run","doc_ids","delete","_x7","runDocumentByIds","useFetchDocumentInfosByIds","_queryFn2","_useState3","_useState4","ids","setDocumentIds","_useQuery2","enabled","length","_callee9","_yield$kbService$docu5","_context9","document_infos","useFetchDocumentThumbnailsByIds","_queryFn3","_useState5","_useState6","_useQuery3","_callee10","_yield$kbService$docu6","_context10","document_thumbnails","useRemoveNextDocument","_mutationFn8","_useMutation8","_callee11","_yield$kbService$docu7","_context11","document_rm","_x8","removeDocument","useDeleteDocument","_mutationFn9","_useMutation9","_callee12","_context12","document_delete","_x9","deleteDocument","useUploadAndParseDocument","uploadMethod","_mutationFn10","_useMutation10","_callee13","conversationId","_data","_data2","_context13","upload_and_parse","chatService","uploadAndParseExternal","_x10","uploadAndParseDocument","useParseDocument","_mutationFn11","_useMutation11","_callee14","_data3","_context14","post","api","parse","error","_x11","parseDocument","useSetDocumentMeta","_mutationFn12","_useMutation12","_callee15","params","_yield$kbService$setM","_data4","_context15","setMeta","meta","_x12","setDocumentMeta","useSetSelectedRecord","currentRecord","setCurrentRecord","setRecord","record","setSearchString","value","target","useChangeLanguage","saveSetting","useSaveSetting","lng","changeLanguage","LanguageTranslationMap","language","onPageChange","pageNumber","setCurrentPagination","showQuickJumper","showSizeChanger","pageSizeOptions","onChange","showTotal","useFetchAppConf","_useState7","_useState8","appConf","setAppConf","fetchAppConf","axios","useEffect","useSendMessageWithSse","undefined","completeConversation","_useState9","_useState10","answer","setAnswer","_useState11","_useState12","done","setDone","timer","useRef","resetAnswer","clearTimeout","setTimeout","send","body","controller","_response$body","response","res","reader","x","_done","val","d","fetch","method","headers","Authorization","getAuthorization","JSON","stringify","signal","clone","json","pipeThrough","TextDecoderStream","EventSourceParserStream","getReader","read","conversation_id","t1","t2","useSpeechWithSse","tts","useHandleMessageInputChange","_useState13","_useState14","setValue","nextValue","replaceAll","useSelectDerivedMessages","_useState15","_useState16","derivedMessages","setDerivedMessages","messages","scrollToBottom","_ref$current","scrollIntoView","behavior","useScrollToBottom","addNewestQuestion","_toConsumableArray","buildMessageUuid","role","Assistant","addNewestAnswer","_pre$slice","slice","reference","prompt","audio_binary","omit","removeLatestMessage","_pre$slice2","removeMessageById","messageId","_pre$filter","filter","removeMessagesAfterCurrentMessage","index","findIndex","_pre$slice3","nextMessages","latestMessage","at","useRegenerateMessage","sendMessage","regenerateMessage","uuid","useSelectItem","defaultId","_useState17","_useState18","selectedId","setSelectedId","handleItemClick","useFetchModelId","_tenantInfo$llm_id","tenantInfo","useFetchTenantInfo","llm_id","ChunkTokenNumMap","naive","knowledge_graph","useHandleChunkMethodSelectChange","form","setFieldValue","useResetFormOnCloseModal","prevOpenRef","prevOpen","resetFields","SegmentIndex","useSegmentedPathName","useLocation","pathname","split","useSecondPathName","Second","useThirdPathName","Third","_useSearchParams","useSearchParams","currentQueryParameters","DocumentId","KnowledgeId","useNavigateWithFromState","navigate","useNavigate","path","state","from","useNavigateToDataset","Dataset","_useSearchParams5","_useSearchParams6","queryParameters","setSearchParams","set","toString","Tabs","TabsPrimitive","TabsContent","Progress","ProgressPrimitive","style","transform","ScrollBar","_ref$orientation","orientation","ScrollAreaPrimitive","ScrollArea","useCallbackRef","callback","callbackRef","_callbackRef$current","_len","args","Array","_key","call","useControllableState","prop","defaultProp","_ref2$onChange","_useUncontrolledState","uncontrolledState","prevValueRef","handleChange","useUncontrolledState","_useUncontrolledState2","uncontrolledProp","setUncontrolledProp","isControlled","isFileWithPreview","preview","FilePreview","startsWith","src","alt","FileText","FileCard","progress","onRemove","formatBytes","FileUploader","_files$length2","valueProp","onValueChange","onUpload","progresses","_props$accept","accept","_props$maxSize","maxSize","_props$maxFileCount","maxFileCount","_props$multiple","multiple","_props$disabled","disabled","dropzoneProps","_useControllableState","_useControllableState2","files","setFiles","onDrop","acceptedFiles","rejectedFiles","_files$length","toast","newFiles","map","Object","assign","URL","createObjectURL","updatedFiles","promise","revokeObjectURL","isDisabled","Dropzone","maxFiles","getRootProps","getInputProps","isDragActive","Upload","Infinity","_","i","UploaderTabs","defaultValue","FileUploadDialog","open","onOpenChange","chunk_num","create_date","create_time","created_by","location","pages","process_begin_at","process_duation","progress_msg","RUNNING","source_type","thumbnail","token_num","update_date","update_time","DatasetTable","_table$getRowModel$ro","_React$useState","_React$useState2","sorting","setSorting","_React$useState3","_React$useState4","columnFilters","setColumnFilters","_React$useState5","_React$useState6","columnVisibility","setColumnVisibility","_React$useState7","_React$useState8","rowSelection","setRowSelection","columns","header","table","getIsAllPageRowsSelected","getIsSomePageRowsSelected","onCheckedChange","toggleAllPageRowsSelected","cell","row","getIsSelected","toggleSelected","enableSorting","enableHiding","accessorKey","column","toggleSorting","getIsSorted","ArrowUpDown","getValue","_ref9","payment","original","Pencil","MoreHorizontal","align","navigator","clipboard","writeText","useReactTable","onSortingChange","onColumnFiltersChange","getCoreRowModel","getPaginationRowModel","getSortedRowModel","getFilteredRowModel","onColumnVisibilityChange","onRowSelectionChange","getHeaderGroups","headerGroup","isPlaceholder","flexRender","columnDef","getContext","getRowModel","rows","getVisibleCells","colSpan","getFilteredSelectedRowModel","previousPage","getCanPreviousPage","nextPage","getCanNextPage","_useHandleUploadDocum","_useSetModalState4","documentUploadVisible","hideDocumentUploadModal","showDocumentUploadModal","_useUploadNextDocumen","onDocumentUploadOk","count","getUnSupportedFilesCount","documentUploadLoading","useHandleUploadDocument","getDialog","setDialog","listDialog","removeDialog","getConversation","getConversationSSE","setConversation","methods","listConversation","removeConversation","createToken","listToken","removeToken","getStats","createExternalConversation","getExternalConversation","completeExternalConversation","deleteMessage","thumbup","ask","getMindMap","mindmap","getRelatedQuestions","registerServer","request","create_kb","update_kb","rm_kb","get_kb_detail","kb_list","chunk_list","create_chunk","set_chunk","get_chunk","switch_chunk","rm_chunk","retrieval_test","listTagByKnowledgeIds","createKb","updateKb","rmKb","getList","listTag","removeTag","tags","renameTag","fromTag","toTag","getKnowledgeGraph","isConversationIdExist","buildMessageListWithUuid","_messages$map","getConversationId","replace","buildMessageUuidWithRole","preprocessLaTeX","equation","_selectedChunk$positi","isArray","positions","every","boundingRect","x1","x2","y1","y2","comment","text","emoji","position","rects","getExtension","_name$slice$toLowerCa","lastIndexOf","toLowerCase","isSupportedPreviewDocumentType","fileExtension","SupportedPreviewDocumentTypes","includes","isImage","image","Images","some","webpackEmptyAsyncContext","req","then","Error","keys","module","exports"],"sourceRoot":""}