(self.webpackChunk=self.webpackChunk||[]).push([[541],{1079:function(e,n,t){"use strict";t.d(n,{Cs:function(){return r},Pc:function(){return i},oQ:function(){return o},qH:function(){return a},vv:function(){return u}});var r=function(e){return e.Assistant="assistant",e.User="user",e}({}),u={temperatureEnabled:"temperature",topPEnabled:"top_p",presencePenaltyEnabled:"presence_penalty",frequencyPenaltyEnabled:"frequency_penalty",maxTokensEnabled:"max_tokens"},a=function(e){return e.Agent="agent",e.Chat="chat",e}({}),o=function(e){return e.DialogId="dialogId",e.ConversationId="conversationId",e.isNew="isNew",e}({}),i="empty"},96330:function(e,n,t){"use strict";t.d(n,{Rx:function(){return a},S8:function(){return c},Vr:function(){return s},cG:function(){return o},ld:function(){return l},n_:function(){return d},oQ:function(){return i}});var r=t(9783),u=t.n(r),a=function(e){return e.Dataset="dataset",e.Testing="testing",e.Configuration="configuration",e.KnowledgeGraph="knowledgeGraph",e}({}),o=function(e){return e.UNSTART="0",e.RUNNING="1",e.CANCEL="2",e.DONE="3",e.FAIL="4",e}({}),i=function(e){return e.Improvise="Improvise",e.Precise="Precise",e.Balance="Balance",e}({}),c=u()(u()(u()({},i.Improvise,{temperature:.9,top_p:.9,frequency_penalty:.2,presence_penalty:.4,max_tokens:512}),i.Precise,{temperature:.1,top_p:.3,frequency_penalty:.7,presence_penalty:.4,max_tokens:512}),i.Balance,{temperature:.5,top_p:.5,frequency_penalty:.7,presence_penalty:.4,max_tokens:512}),s=function(e){return e.Embedding="embedding",e.Chat="chat",e.Image2text="image2text",e.Speech2text="speech2text",e.Rerank="rerank",e.TTS="tts",e}({}),l=function(e){return e.DocumentId="doc_id",e.KnowledgeId="id",e}({}),d=function(e){return e.Virtual="virtual",e.Visual="visual",e}({})},86968:function(e,n,t){"use strict";t.d(n,{I3:function(){return m},pG:function(){return g},qM:function(){return v}});var r=t(15009),u=t.n(r),a=t(99289),o=t.n(a),i=t(5574),c=t.n(i),s=t(21640),l=t(3321),d=(t(18446),t(62435)),f=t(67421),p=t(86074),g=function(){var e=(0,d.useState)(!1),n=c()(e,2),t=n[0],r=n[1],u=(0,d.useCallback)((function(){r(!0)}),[]),a=(0,d.useCallback)((function(){r(!1)}),[]),o=(0,d.useCallback)((function(){r(!t)}),[t]);return{visible:t,showModal:u,hideModal:a,switchVisible:o}};var m=function(){var e=l.Z.useApp().modal,n=(0,f.$G)().t;return(0,d.useCallback)((function(t){var r=t.title,a=t.content,i=t.onOk,c=t.onCancel;return new Promise((function(t,l){e.confirm({title:null!=r?r:n("common.deleteModalTitle"),icon:(0,p.jsx)(s.Z,{}),content:a,okText:n("common.ok"),okType:"danger",cancelText:n("common.cancel"),onOk:function(){return o()(u()().mark((function e(){var n;return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null==i?void 0:i();case 3:n=e.sent,t(n),console.info(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),l(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},onCancel:function(){null==c||c()}})}))}),[n,e])},v=function(e){return(0,f.$G)("translation",{keyPrefix:e})}},10541:function(e,n,t){"use strict";t.d(n,{$F:function(){return O},$G:function(){return q},E2:function(){return I},L5:function(){return T},MA:function(){return N},ME:function(){return S},PX:function(){return C},Q7:function(){return L},Sq:function(){return E},VJ:function(){return K},aD:function(){return D},aX:function(){return F},lX:function(){return A},pY:function(){return P},rd:function(){return Q},uG:function(){return M},w9:function(){return Z},z5:function(){return z}});var r=t(97857),u=t.n(r),a=t(15009),o=t.n(a),i=t(99289),c=t.n(i),s=t(5574),l=t.n(s),d=t(40063),f=t(73955),p=t(78551),g=t(4614),m=t(30202),v=t(4527),h=t(99346),k=t(58580),_=t(45360),y=t(62435),w=t(24701),b=t(2938),x=t(96100),Z=function(){var e=(0,w.lr)();return l()(e,1)[0].get("id")||""},C=function(){var e,n=Z(),t=(0,p.a)({queryKey:["fetchKnowledgeDetail"],initialData:{},gcTime:0,queryFn:(e=c()(o()().mark((function e(){var t,r,u;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.ZP.get_kb_detail({kb_id:n});case 2:return r=e.sent,u=r.data,e.abrupt("return",null!==(t=null==u?void 0:u.data)&&void 0!==t?t:{});case 5:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})});return{data:t.data,loading:t.isFetching}},K=function(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,p.a)({queryKey:["fetchKnowledgeList"],initialData:[],gcTime:0,queryFn:(e=c()(o()().mark((function e(){var t,r,u,a,i;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.ZP.getList();case 2:return u=e.sent,a=u.data,i=null!==(t=null==a||null===(r=a.data)||void 0===r?void 0:r.kbs)&&void 0!==t?t:[],e.abrupt("return",n?i.filter((function(e){return e.chunk_num>0})):i);case 6:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})}),r=t.data,u=t.isFetching;return{list:r,loading:u}},P=function(){var e=K().list;return null==e?void 0:e.map((function(e){return{label:e.name,value:e.id}}))},T=function(){var e,n=(0,b.Qe)(),t=n.searchString,r=n.handleInputChange,u=(0,k.Z)(t,{wait:500}),a=(0,g.N)({queryKey:["infiniteFetchKnowledgeList",u],queryFn:(e=c()(o()().mark((function e(n){var t,r,a,i,c;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.pageParam,e.next=3,f.ZP.getList({page:r,page_size:30,keywords:u});case 3:return a=e.sent,i=a.data,c=null!==(t=null==i?void 0:i.data)&&void 0!==t?t:[],e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)}))),function(n){return e.apply(this,arguments)}),initialPageParam:1,getNextPageParam:function(e,n,t){if(30*t<=e.total)return t+1}}),i=a.data,s=a.error,l=a.fetchNextPage,d=a.hasNextPage,p=a.isFetching;return{data:i,loading:p,error:s,fetchNextPage:l,hasNextPage:d,isFetching:p,isFetchingNextPage:a.isFetchingNextPage,status:a.status,handleInputChange:r,searchString:t}},S=function(){var e,n=(0,m.NL)(),t=(0,v.D)({mutationKey:["createKnowledge"],mutationFn:(e=c()(o()().mark((function e(t){var r,u,a;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.ZP.createKb(t);case 2:return r=e.sent,u=r.data,0===(a=void 0===u?{}:u).code&&(_.ZP.success(d.Z.t("message.".concat(null!=t&&t.id?"modified":"created"))),n.invalidateQueries({queryKey:["fetchKnowledgeList"]})),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)}))),function(n){return e.apply(this,arguments)})});return{data:t.data,loading:t.isPending,createKnowledge:t.mutateAsync}},I=function(){var e,n=(0,m.NL)(),t=(0,v.D)({mutationKey:["deleteKnowledge"],mutationFn:(e=c()(o()().mark((function e(t){var r,u,a;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.ZP.rmKb({kb_id:t});case 2:return u=e.sent,0===(a=u.data).code&&(_.ZP.success(d.Z.t("message.deleted")),n.invalidateQueries({queryKey:["infiniteFetchKnowledgeList"]})),e.abrupt("return",null!==(r=null==a?void 0:a.data)&&void 0!==r?r:[]);case 6:case"end":return e.stop()}}),e)}))),function(n){return e.apply(this,arguments)})});return{data:t.data,loading:t.isPending,deleteKnowledge:t.mutateAsync}},N=function(){var e,n=Z(),t=(0,m.NL)(),r=(0,v.D)({mutationKey:["saveKnowledge"],mutationFn:(e=c()(o()().mark((function e(r){var a,i,c;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.ZP.updateKb(u()({kb_id:n},r));case 2:return a=e.sent,i=a.data,0===(c=void 0===i?{}:i).code&&(_.ZP.success(d.Z.t("message.updated")),t.invalidateQueries({queryKey:["fetchKnowledgeDetail"]})),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)}))),function(n){return e.apply(this,arguments)})});return{data:r.data,loading:r.isPending,saveKnowledgeConfiguration:r.mutateAsync}},F=function(){var e,n=Z(),t=(0,x.fz)(),r=t.page,a=t.size,i=(0,v.D)({mutationKey:["testChunk"],gcTime:0,mutationFn:(e=c()(o()().mark((function e(t){var i,c,s,l,d;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.ZP.retrieval_test(u()(u()({},t),{},{kb_id:null!==(i=t.kb_id)&&void 0!==i?i:n,page:r,size:a}));case 2:if(s=e.sent,0!==(l=s.data).code){e.next=7;break}return d=l.data,e.abrupt("return",u()(u()({},d),{},{documents:d.doc_aggs}));case 7:return e.abrupt("return",null!==(c=null==l?void 0:l.data)&&void 0!==c?c:{chunks:[],documents:[],total:0});case 8:case"end":return e.stop()}}),e)}))),function(n){return e.apply(this,arguments)})}),s=i.data;return{data:null!=s?s:{chunks:[],documents:[],total:0},loading:i.isPending,testChunk:i.mutateAsync}},q=function(){return(0,h.B)({mutationKey:["testChunk"]})>0},D=function(){var e;return null!==(e=(0,h.S)({filters:{mutationKey:["testChunk"]},select:function(e){return e.state.data}}).at(-1))&&void 0!==e?e:{chunks:[],documents:[],total:0}},L=function(){return"success"===(0,h.S)({filters:{mutationKey:["testChunk"]},select:function(e){return e.state.status}}).at(-1)},A=function(){var e,n=Z(),t=(0,p.a)({queryKey:["fetchTagList"],initialData:[],gcTime:0,queryFn:(e=c()(o()().mark((function e(){var t,r,u;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.QL)(n);case 2:return t=e.sent,r=t.data,u=(null==r?void 0:r.data)||[],e.abrupt("return",u);case 6:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})});return{list:t.data,loading:t.isFetching}},M=function(){var e,n=Z(),t=(0,m.NL)(),r=(0,v.D)({mutationKey:["deleteTag"],mutationFn:(e=c()(o()().mark((function e(r){var u,a,i;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.tc)(n,r);case 2:return a=e.sent,0===(i=a.data).code&&(_.ZP.success(d.Z.t("message.deleted")),t.invalidateQueries({queryKey:["fetchTagList"]})),e.abrupt("return",null!==(u=null==i?void 0:i.data)&&void 0!==u?u:[]);case 6:case"end":return e.stop()}}),e)}))),function(n){return e.apply(this,arguments)})});return{data:r.data,loading:r.isPending,deleteTag:r.mutateAsync}},E=function(){var e,n=Z(),t=(0,m.NL)(),r=(0,v.D)({mutationKey:["renameTag"],mutationFn:(e=c()(o()().mark((function e(r){var u,a,i;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.Re)(n,r);case 2:return a=e.sent,0===(i=a.data).code&&(_.ZP.success(d.Z.t("message.modified")),t.invalidateQueries({queryKey:["fetchTagList"]})),e.abrupt("return",null!==(u=null==i?void 0:i.data)&&void 0!==u?u:[]);case 6:case"end":return e.stop()}}),e)}))),function(n){return e.apply(this,arguments)})});return{data:r.data,loading:r.isPending,renameTag:r.mutateAsync}},z=function(){return(0,h.B)({mutationKey:["renameTag"]})>0},Q=function(){var e,n=(0,y.useState)([]),t=l()(n,2),r=t[0],u=t[1],a=(0,p.a)({queryKey:["fetchTagListByKnowledgeIds"],enabled:r.length>0,initialData:[],gcTime:0,queryFn:(e=c()(o()().mark((function e(){var n,t,u;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.ZP.listTagByKnowledgeIds({kb_ids:r.join(",")});case 2:return n=e.sent,t=n.data,u=(null==t?void 0:t.data)||[],e.abrupt("return",u);case 6:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})});return{list:a.data,loading:a.isFetching,setKnowledgeIds:u}};function O(){var e,n=Z(),t=(0,p.a)({queryKey:["fetchKnowledgeGraph",n],initialData:{graph:{},mind_map:{}},enabled:!!n,gcTime:0,queryFn:(e=c()(o()().mark((function e(){var t,r;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.$V)(n);case 2:return t=e.sent,r=t.data,e.abrupt("return",null==r?void 0:r.data);case 5:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})});return{data:t.data,loading:t.isFetching}}},2938:function(e,n,t){"use strict";t.d(n,{H0:function(){return A},IV:function(){return L},NT:function(){return E},Qe:function(){return F},UL:function(){return q},Y2:function(){return G},c5:function(){return M},cE:function(){return N},ox:function(){return R},sO:function(){return j},vv:function(){return Q},vy:function(){return O},y7:function(){return z},ye:function(){return D}});var r=t(19632),u=t.n(r),a=t(97857),o=t.n(a),i=t(9783),c=t.n(i),s=t(15009),l=t.n(s),d=t(99289),f=t.n(d),p=t(5574),g=t.n(p),m=t(39918),v=t(1079),h=t(40169),k=t(60806),_=t(61921),y=t(71250),w=t(45360),b=t(87066),x=t(24809),Z=t(96486),C=t(62435),K=t(67421),P=t(57632),T=t(86968),S=t(96100),I=t(39259),N=function(){var e=(0,C.useState)({}),n=g()(e,2),t=n[0],r=n[1];return{currentRecord:t,setRecord:function(e){r(e)}}},F=function(){var e=(0,C.useState)(""),n=g()(e,2),t=n[0],r=n[1];return{handleInputChange:(0,C.useCallback)((function(e){var n=e.target.value;r(n)}),[]),searchString:t}},q=function(){var e=(0,K.$G)().i18n,n=(0,I.WH)().saveSetting;return function(t){e.changeLanguage(h.Kj[t]),n({language:t})}},D=function(){var e=(0,T.qM)("common").t,n=(0,S.fz)(),t=n.setPaginationParams,r=n.page,u=n.size,a=(0,C.useCallback)((function(e,n){t(e,n)}),[t]),o=(0,C.useCallback)((function(e){t(e.page,e.pageSize)}),[t]);return{pagination:(0,C.useMemo)((function(){return{showQuickJumper:!0,total:0,showSizeChanger:!0,current:r,pageSize:u,pageSizeOptions:[1,2,10,20,50,100],onChange:a,showTotal:function(n){return"".concat(e("total")," ").concat(n)}}}),[e,a,r,u]),setPagination:o}},L=function(){var e=(0,C.useState)({}),n=g()(e,2),t=n[0],r=n[1],u=(0,C.useCallback)(f()(l()().mark((function e(){var n;return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.Z.get("/conf.json");case 2:n=e.sent,r(n.data);case 4:case"end":return e.stop()}}),e)}))),[]);return(0,C.useEffect)((function(){u()}),[u]),t},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.Z.completeConversation,n=(0,C.useState)({}),t=g()(n,2),r=t[0],u=t[1],a=(0,C.useState)(!0),i=g()(a,2),s=i[0],d=i[1],p=(0,C.useRef)(),v=(0,C.useCallback)((function(){p.current&&clearTimeout(p.current),p.current=setTimeout((function(){u({}),clearTimeout(p.current)}),1e3)}),[]),h=(0,C.useCallback)(function(){var n=f()(l()().mark((function n(t,r){var a,i,s,f,p,g,h,k,y;return l()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,d(!1),n.next=4,fetch(e,{method:"POST",headers:c()(c()({},m._n,(0,_.c)()),"Content-Type","application/json"),body:JSON.stringify(t),signal:null==r?void 0:r.signal});case 4:i=n.sent,s=i.clone().json(),f=null==i||null===(a=i.body)||void 0===a?void 0:a.pipeThrough(new TextDecoderStream).pipeThrough(new x.m).getReader();case 7:return n.next=10,null==f?void 0:f.read();case 10:if(!(p=n.sent)){n.next=18;break}if(g=p.done,h=p.value,!g){n.next=17;break}return console.info("done"),v(),n.abrupt("break",20);case 17:try{k=JSON.parse((null==h?void 0:h.data)||""),"boolean"!=typeof(y=null==k?void 0:k.data)&&(console.info("data:",y),u(o()(o()({},y),{},{conversationId:null==t?void 0:t.conversation_id})))}catch(e){console.warn(e)}case 18:n.next=7;break;case 20:return console.info("done?"),d(!0),v(),n.next=25,s;case 25:return n.t0=n.sent,n.t1=i,n.abrupt("return",{data:n.t0,response:n.t1});case 30:n.prev=30,n.t2=n.catch(0),d(!0),v(),console.warn(n.t2);case 35:case"end":return n.stop()}}),n,null,[[0,30]])})));return function(e,t){return n.apply(this,arguments)}}(),[e,v]);return{send:h,answer:r,done:s,setDone:d,resetAnswer:v}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.Z.tts,n=(0,C.useCallback)(function(){var n=f()(l()().mark((function n(t){var r,u;return l()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e,{method:"POST",headers:c()(c()({},m._n,(0,_.c)()),"Content-Type","application/json"),body:JSON.stringify(t)});case 2:return r=n.sent,n.prev=3,n.next=6,r.clone().json();case 6:0!==(null==(u=n.sent)?void 0:u.code)&&w.ZP.error(null==u?void 0:u.message),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),console.warn("ðŸš€ ~ error:",n.t0);case 13:return n.abrupt("return",r);case 14:case"end":return n.stop()}}),n,null,[[3,10]])})));return function(e){return n.apply(this,arguments)}}(),[e]);return{read:n}},E=function(){var e=(0,C.useState)(""),n=g()(e,2),t=n[0],r=n[1];return{handleInputChange:function(e){var n=e.target.value.replaceAll("\\n","\n").replaceAll("\\t","\t");r(n)},value:t,setValue:r}},z=function(){var e=(0,C.useState)([]),n=g()(e,2),t=n[0],r=n[1],a=function(e){var n=(0,C.useRef)(null),t=(0,C.useCallback)((function(){var t;e&&(null===(t=n.current)||void 0===t||t.scrollIntoView({behavior:"instant"}))}),[e]);return(0,C.useEffect)((function(){t()}),[t]),n}(t),i=(0,C.useCallback)((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";r((function(t){return[].concat(u()(t),[o()(o()({},e),{},{id:(0,y.Kj)(e)}),{role:v.Cs.Assistant,content:n,id:(0,y.Kj)(o()(o()({},e),{},{role:v.Cs.Assistant}))}])}))}),[]),c=(0,C.useCallback)((function(e){r((function(n){var t;return[].concat(u()(null!==(t=null==n?void 0:n.slice(0,-1))&&void 0!==t?t:[]),[o()({role:v.Cs.Assistant,content:e.answer,reference:e.reference,id:(0,y.Kj)({id:e.id,role:v.Cs.Assistant}),prompt:e.prompt,audio_binary:e.audio_binary},(0,Z.omit)(e,"reference"))])}))}),[]),s=(0,C.useCallback)((function(){r((function(e){var n;return null!==(n=null==e?void 0:e.slice(0,-2))&&void 0!==n?n:[]}))}),[]),l=(0,C.useCallback)((function(e){r((function(n){var t;return null!==(t=null==n?void 0:n.filter((function(n){return n.id!==e})))&&void 0!==t?t:[]}))}),[r]),d=(0,C.useCallback)((function(e){r((function(n){var t=n.findIndex((function(n){return n.id===e}));if(-1!==t){var r,a=null!==(r=n.slice(0,t+2))&&void 0!==r?r:[],i=a.at(-1);return a=i?[].concat(u()(a.slice(0,-1)),[o()(o()({},i),{},{content:"",reference:void 0,prompt:void 0})]):a}return n}))}),[r]);return{ref:a,derivedMessages:t,setDerivedMessages:r,addNewestQuestion:i,addNewestAnswer:c,removeLatestMessage:s,removeMessageById:l,removeMessagesAfterCurrentMessage:d}},Q=function(e){var n=e.removeMessagesAfterCurrentMessage,t=e.sendMessage,r=e.messages,u=(0,C.useCallback)(function(){var e=f()(l()().mark((function e(u){var a,i;return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.id&&(n(u.id),-1!==(a=r.findIndex((function(e){return e.id===u.id})))&&(i=r.slice(0,a)),t({message:o()(o()({},u),{},{id:(0,P.Z)()}),messages:i}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[n,t,r]);return{regenerateMessage:u}},O=function(e){var n=(0,C.useState)(""),t=g()(n,2),r=t[0],u=t[1],a=(0,C.useCallback)((function(e){return function(){u(e)}}),[]);return(0,C.useEffect)((function(){e&&u(e)}),[e]),{selectedId:r,handleItemClick:a}},R=function(){var e,n=(0,I.fS)(!0).data;return null!==(e=null==n?void 0:n.llm_id)&&void 0!==e?e:""},$={naive:128,knowledge_graph:8192},j=function(e){return(0,C.useCallback)((function(n){n in $&&e.setFieldValue(["parser_config","chunk_token_num"],$[n])}),[e])},G=function(e){var n=e.form,t=e.visible,r=(0,C.useRef)();(0,C.useEffect)((function(){r.current=t}),[t]);var u=r.current;(0,C.useEffect)((function(){!t&&u&&n.resetFields()}),[n,u,t])}},96100:function(e,n,t){"use strict";t.d(n,{HK:function(){return d},Uu:function(){return l},fz:function(){return m},nT:function(){return g},pE:function(){return f},wy:function(){return p}});var r=t(5574),u=t.n(r),a=t(96330),o=t(62435),i=t(24701),c=function(e){return e.Second="2",e.Third="3",e}({}),s=function(e){return(0,i.TH)().pathname.split("/")[e]||""},l=function(){return s(c.Second)},d=function(){return s(c.Third)},f=function(){var e=(0,i.lr)(),n=u()(e,1)[0];return{documentId:n.get(a.ld.DocumentId)||"",knowledgeId:n.get(a.ld.KnowledgeId)||""}},p=function(){var e=(0,i.s0)();return(0,o.useCallback)((function(n){e(n,{state:{from:n}})}),[e])},g=function(){var e=(0,i.s0)(),n=f().knowledgeId;return(0,o.useCallback)((function(){e("/knowledge/".concat(a.Rx.Dataset,"?id=").concat(n))}),[n,e])},m=function(){var e=(0,i.lr)(),n=u()(e,2),t=n[0],r=n[1],a=(0,o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1?arguments[1]:void 0;t.set("page",e.toString()),n&&t.set("size",n.toString()),r(t)}),[r,t]);return{setPaginationParams:a,page:Number(t.get("page"))||1,size:Number(t.get("size"))||10}}},73955:function(e,n,t){"use strict";t.d(n,{$V:function(){return E},QL:function(){return L},Re:function(){return M},tc:function(){return A}});var r=t(60806),u=t(66582),a=t(78158),o=r.Z.create_kb,i=r.Z.update_kb,c=r.Z.rm_kb,s=r.Z.get_kb_detail,l=r.Z.kb_list,d=r.Z.get_document_list,f=r.Z.document_change_status,p=r.Z.document_rm,g=r.Z.document_delete,m=r.Z.document_create,v=r.Z.document_change_parser,h=r.Z.document_thumbnails,k=r.Z.chunk_list,_=r.Z.create_chunk,y=r.Z.set_chunk,w=r.Z.get_chunk,b=r.Z.switch_chunk,x=r.Z.rm_chunk,Z=r.Z.retrieval_test,C=r.Z.document_rename,K=r.Z.document_run,P=r.Z.document_upload,T=r.Z.web_crawl,S=r.Z.knowledge_graph,I=r.Z.document_infos,N=r.Z.upload_and_parse,F=r.Z.listTagByKnowledgeIds,q={createKb:{url:o,method:"post"},updateKb:{url:i,method:"post"},rmKb:{url:c,method:"post"},get_kb_detail:{url:s,method:"get"},getList:{url:l,method:"get"},get_document_list:{url:d,method:"get"},document_change_status:{url:f,method:"post"},document_rm:{url:p,method:"post"},document_rename:{url:C,method:"post"},document_create:{url:m,method:"post"},document_run:{url:K,method:"post"},document_change_parser:{url:v,method:"post"},document_thumbnails:{url:h,method:"get"},document_upload:{url:P,method:"post"},web_crawl:{url:T,method:"post"},document_infos:{url:I,method:"post"},setMeta:{url:r.Z.setMeta,method:"post"},chunk_list:{url:k,method:"post"},create_chunk:{url:_,method:"post"},set_chunk:{url:y,method:"post"},get_chunk:{url:w,method:"get"},switch_chunk:{url:b,method:"post"},rm_chunk:{url:x,method:"post"},retrieval_test:{url:Z,method:"post"},knowledge_graph:{url:S,method:"get"},document_delete:{url:g,method:"delete"},upload_and_parse:{url:N,method:"post"},listTagByKnowledgeIds:{url:F,method:"get"}},D=(0,u.Z)(q,a.ZP),L=function(e){return a.ZP.get(r.Z.listTag(e))},A=function(e,n){return(0,a.v_)(r.Z.removeTag(e),{tags:n})},M=function(e,n){var t=n.fromTag,u=n.toTag;return(0,a.v_)(r.Z.renameTag(e),{fromTag:t,toTag:u})};function E(e){return a.ZP.get(r.Z.getKnowledgeGraph(e))}n.ZP=D},71250:function(e,n,t){"use strict";t.d(n,{Bl:function(){return l},CE:function(){return p},IC:function(){return c},Kj:function(){return s},mN:function(){return f},o_:function(){return d}});var r=t(97857),u=t.n(r),a=t(1079),o=t(96486),i=t(57632),c=function(e){return e!==a.Pc&&""!==e},s=function(e){return"id"in e&&e.id?e.id:(0,i.Z)()},l=function(e){var n;return null!==(n=null==e?void 0:e.map((function(e){return u()(u()({},(0,o.omit)(e,"reference")),{},{id:s(e)})})))&&void 0!==n?n:[]},d=function(){return(0,i.Z)().replace(/-/g,"")},f=function(e){return"".concat(e.role,"_").concat(e.id)},p=function(e){return e.replace(/\\\[([\s\S]*?)\\\]/g,(function(e,n){return"$$".concat(n,"$$")})).replace(/\\\(([\s\S]*?)\\\)/g,(function(e,n){return"$".concat(n,"$")}))}},86635:function(e){function n(e){return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}))}n.keys=function(){return[]},n.resolve=n,n.id=86635,e.exports=n}}]);
//# sourceMappingURL=541.3bbc0077.async.js.map