"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7510],{65862:function(e,n,t){t.d(n,{Z:function(){return m}});var a=t(19632),r=t.n(a),o=t(86968),i=t(48689),l=t(37446),s=t(42075),c=t(85418),d=t(67421),u=t(62435),_="delete___BGyWn",h=t(86074),m=function(e){var n=e.deleteItem,t=e.children,a=e.iconFontSize,m=void 0===a?30:a,p=e.iconFontColor,x=void 0===p?"gray":p,f=e.items,v=void 0===f?[]:f,g=e.height,j=void 0===g?24:g,k=e.needsDeletionValidation,b=void 0===k||k,w=(0,d.$G)().t,Z=(0,o.I3)(),N=(0,u.useMemo)((function(){return[{key:"1",label:(0,h.jsxs)(s.Z,{children:[w("common.delete"),(0,h.jsx)(i.Z,{})]})}].concat(r()(v))}),[w,v]);return(0,h.jsx)(c.Z,{menu:{items:N,onClick:function(e){var t=e.domEvent,a=e.key;t.preventDefault(),t.stopPropagation(),"1"===a&&(b?Z({onOk:n}):n())}},children:t||(0,h.jsx)("span",{className:_,children:(0,h.jsx)(l.Z,{rotate:90,style:{fontSize:m,color:x,cursor:"pointer",height:j}})})})}},71852:function(e,n,t){t.r(n),t.d(n,{default:function(){return E}});var a=t(10541),r=t(39259),o=t(68795),i=t(24969),l=t(86250),s=t(42075),c=t(79531),d=t(15867),u=t(75081),_=t(21687),h=t(96074),m=t(32983),p=t(67421),x=t(58533),f=t(15009),v=t.n(f),g=t(99289),j=t.n(g),k=t(5574),b=t.n(k),w=t(96330),Z=t(86968),N=t(62435),C=t(24701),M=t(28382),y=t(15360),I=t(20841),P=t(4393),T=t(65862),W=t(98236),G={container:"container___eQyW8",delete:"delete___IVvZv",content:"content___BVb9e",context:"context___rx_ll",footerTop:"footerTop___zv8Sq",titleWrapper:"titleWrapper___f7thW",title:"title___rMM_S",description:"description___G_6nv",titledark:"titledark___JUbvS",descriptiondark:"descriptiondark___AWThG",card:"card___m1xzY",bottom:"bottom___oTHOs",bottomLeft:"bottomLeft___d92Vz",leftIcon:"leftIcon___nOsbs",rightText:"rightText___N4_qm",hideRibbon:"hideRibbon___cUMiA",ribbon:"ribbon___c4quV"},L=t(86074),O=function(e){var n=e.item,t=(0,C.s0)(),o=(0,p.$G)().t,i=((0,r.jd)().data,(0,W.Fg)().theme),l=(0,a.E2)().deleteKnowledge,c=function(){var e=j()(v()().mark((function e(){return v()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l(n.id));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,L.jsx)(P.Z,{className:G.card,onClick:function(){t("/knowledge/".concat(w.Rx.Dataset,"?id=").concat(n.id),{state:{from:"list"}})},children:(0,L.jsxs)("div",{className:G.container,children:[(0,L.jsxs)("div",{className:G.content,children:[(0,L.jsx)("div",{}),(0,L.jsx)(T.Z,{deleteItem:c})]}),(0,L.jsx)("div",{className:G.titleWrapper,children:(0,L.jsx)("span",{className:"dark"===i?G.titledark:G.title,children:n.name})}),(0,L.jsxs)("div",{className:G.footer,children:[(0,L.jsx)("div",{className:G.footerTop,children:(0,L.jsxs)("div",{className:G.bottomLeft,children:[(0,L.jsx)(y.Z,{className:G.leftIcon}),(0,L.jsx)("span",{className:G.rightText,children:(0,L.jsxs)(s.Z,{children:[n.doc_num,o("knowledgeList.doc")]})})]})}),(0,L.jsx)("div",{className:G.bottom,children:(0,L.jsxs)("div",{className:G.bottomLeft,children:[(0,L.jsx)(I.Z,{className:G.leftIcon}),(0,L.jsx)("span",{className:G.rightText,children:(0,M.p6)(n.update_time)})]})})]})]})})},B=t(99859),D=t(85576),S=function(e){var n=e.visible,t=e.hideModal,a=e.loading,r=e.onOk,o=B.Z.useForm(),i=b()(o,1)[0],l=(0,p.$G)("translation",{keyPrefix:"knowledgeList"}).t,s=function(){var e=j()(v()().mark((function e(){var n;return v()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.validateFields();case 2:n=e.sent,r(n.name);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,L.jsx)(D.Z,{title:l("createKnowledgeBase"),open:n,onOk:s,onCancel:t,okButtonProps:{loading:a},children:(0,L.jsx)(B.Z,{name:"Create",labelCol:{span:4},wrapperCol:{span:20},style:{maxWidth:600},autoComplete:"off",form:i,children:(0,L.jsx)(B.Z.Item,{label:l("name"),name:"name",rules:[{required:!0,message:l("namePlaceholder")}],children:(0,L.jsx)(c.Z,{placeholder:l("namePlaceholder")})})})})},z="knowledge___CaWP3",F="topWrapper___wSBFd",K="title___K81Cs",Y="description___r7Ii4",H="topButton___AGnXw",V="knowledgeCardContainer___ouwmb",q="knowledgeEmpty___YQOlB",E=function(){(0,r.jd)().data;var e,n,t,f=(0,p.$G)("translation",{keyPrefix:"knowledgeList"}).t,g=function(){var e=(0,Z.pG)(),n=e.visible,t=e.hideModal,r=e.showModal,o=(0,a.ME)(),i=o.loading,l=o.createKnowledge,s=(0,C.s0)(),c=(0,N.useCallback)(function(){var e=j()(v()().mark((function e(n){var a;return v()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({name:n});case 2:0===(null==(a=e.sent)?void 0:a.code)&&(t(),s("/knowledge/".concat(w.Rx.Configuration,"?id=").concat(a.data.kb_id)));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[l,t,s]);return{loading:i,onCreateOk:c,visible:n,hideModal:t,showModal:r}}(),k=g.visible,b=g.hideModal,M=g.showModal,y=g.onCreateOk,I=g.loading,P=(0,a.L5)(),T=P.fetchNextPage,W=P.data,G=P.hasNextPage,B=P.searchString,D=P.handleInputChange,E=P.loading,R=null!==(e=null==W||null===(n=W.pages)||void 0===n?void 0:n.flatMap((function(e){return e.kbs})))&&void 0!==e?e:[],$=(0,N.useMemo)((function(){var e;return null!==(e=null==W?void 0:W.pages.at(-1).total)&&void 0!==e?e:0}),[null==W?void 0:W.pages]);return(0,L.jsxs)(l.Z,{className:z,vertical:!0,flex:1,id:"scrollableDiv",children:[(0,L.jsxs)("div",{className:F,children:[(0,L.jsxs)("div",{children:[(0,L.jsx)("span",{className:K}),(0,L.jsx)("p",{className:Y})]}),(0,L.jsxs)(s.Z,{size:"large",children:[(0,L.jsx)(c.Z,{placeholder:f("searchKnowledgePlaceholder"),value:B,style:{width:220},allowClear:!0,onChange:D,prefix:(0,L.jsx)(o.Z,{})}),(0,L.jsx)(d.ZP,{type:"primary",icon:(0,L.jsx)(i.Z,{}),onClick:M,className:H,children:f("createKnowledgeBase")})]})]}),(0,L.jsx)(u.Z,{spinning:E,children:(0,L.jsx)(x.Z,{dataLength:null!==(t=null==R?void 0:R.length)&&void 0!==t?t:0,next:T,hasMore:G,loader:(0,L.jsx)(_.Z,{avatar:!0,paragraph:{rows:1},active:!0}),endMessage:!!$&&(0,L.jsxs)(h.Z,{plain:!0,children:[f("noMoreData")," "]}),scrollableTarget:"scrollableDiv",children:(0,L.jsx)(l.Z,{gap:"large",wrap:"wrap",className:V,children:(null==R?void 0:R.length)>0?R.map((function(e,n){return(0,L.jsx)(O,{item:e},"".concat(null==e?void 0:e.name,"-").concat(n))})):(0,L.jsx)(m.Z,{className:q})})})}),(0,L.jsx)(S,{loading:I,visible:k,hideModal:b,onOk:y})]})}},28382:function(e,n,t){t.d(n,{mr:function(){return i},p6:function(){return o}});var a=t(27484),r=t.n(a);function o(e){return e?r()(e).format("DD/MM/YYYY HH:mm:ss"):""}function i(e){return e?r()(e).format("HH:mm:ss"):""}}}]);
//# sourceMappingURL=p__knowledge__index.93735953.async.js.map