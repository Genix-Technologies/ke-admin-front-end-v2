{"version":3,"file":"p__user-setting__index.ddd928aa.async.js","mappings":"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","sources":["webpack:///./node_modules/@ant-design/icons/es/components/Icon.js","webpack:///./src/hooks/login-hooks.ts","webpack:///./src/pages/user-setting/sidebar/index.less?84da","webpack:///./src/pages/user-setting/sidebar/index.tsx","webpack:///./src/pages/user-setting/index.tsx","webpack:///./node_modules/antd/es/_util/responsiveObserver.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"className\", \"component\", \"viewBox\", \"spin\", \"rotate\", \"tabIndex\", \"onClick\", \"children\"];\n// Seems this is used for iconFont\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { useComposeRef } from \"rc-util/es/ref\";\nimport Context from \"./Context\";\nimport { svgBaseProps, warning, useInsertStyles } from \"../utils\";\nvar Icon = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var className = props.className,\n    Component = props.component,\n    viewBox = props.viewBox,\n    spin = props.spin,\n    rotate = props.rotate,\n    tabIndex = props.tabIndex,\n    onClick = props.onClick,\n    children = props.children,\n    restProps = _objectWithoutProperties(props, _excluded);\n  var iconRef = React.useRef();\n  var mergedRef = useComposeRef(iconRef, ref);\n  warning(Boolean(Component || children), 'Should have `component` prop or `children`.');\n  useInsertStyles(iconRef);\n  var _React$useContext = React.useContext(Context),\n    _React$useContext$pre = _React$useContext.prefixCls,\n    prefixCls = _React$useContext$pre === void 0 ? 'anticon' : _React$useContext$pre,\n    rootClassName = _React$useContext.rootClassName;\n  var classString = classNames(rootClassName, prefixCls, className);\n  var svgClassString = classNames(_defineProperty({}, \"\".concat(prefixCls, \"-spin\"), !!spin));\n  var svgStyle = rotate ? {\n    msTransform: \"rotate(\".concat(rotate, \"deg)\"),\n    transform: \"rotate(\".concat(rotate, \"deg)\")\n  } : undefined;\n  var innerSvgProps = _objectSpread(_objectSpread({}, svgBaseProps), {}, {\n    className: svgClassString,\n    style: svgStyle,\n    viewBox: viewBox\n  });\n  if (!viewBox) {\n    delete innerSvgProps.viewBox;\n  }\n\n  // component > children\n  var renderInnerNode = function renderInnerNode() {\n    if (Component) {\n      return /*#__PURE__*/React.createElement(Component, innerSvgProps, children);\n    }\n    if (children) {\n      warning(Boolean(viewBox) || React.Children.count(children) === 1 && /*#__PURE__*/React.isValidElement(children) && React.Children.only(children).type === 'use', 'Make sure that you provide correct `viewBox`' + ' prop (default `0 0 1024 1024`) to the icon.');\n      return /*#__PURE__*/React.createElement(\"svg\", _extends({}, innerSvgProps, {\n        viewBox: viewBox\n      }), children);\n    }\n    return null;\n  };\n  var iconTabIndex = tabIndex;\n  if (iconTabIndex === undefined && onClick) {\n    iconTabIndex = -1;\n  }\n  return /*#__PURE__*/React.createElement(\"span\", _extends({\n    role: \"img\"\n  }, restProps, {\n    ref: mergedRef,\n    tabIndex: iconTabIndex,\n    onClick: onClick,\n    className: classString\n  }), renderInnerNode());\n});\nIcon.displayName = 'AntdIcon';\nexport default Icon;","import { Authorization } from '@/constants/authorization';\nimport userService from '@/services/user-service';\nimport authorizationUtil from '@/utils/authorization-util';\nimport { useMutation } from '@tanstack/react-query';\nimport { Form, message } from 'antd';\nimport { FormInstance } from 'antd/lib';\nimport { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { history } from 'umi';\n\nexport interface ILoginRequestBody {\n  email: string;\n  password: string;\n}\n\nexport interface IRegisterRequestBody extends ILoginRequestBody {\n  nickname: string;\n}\n\nexport const useLogin = () => {\n  const { t } = useTranslation();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['login'],\n    mutationFn: async (params: { email: string; password: string }) => {\n      \n      const { data: res = {}, response } = await userService.login(params);\n      \n      alert(JSON.stringify(response));\n\n      if (res.code === 0) {\n        const { data } = res;\n        \n        const authorization = response.headers.get(Authorization);\n        if (!authorization) {\n          message.error('Invalid authentication header');\n          return;\n        }\n        message.success(t('message.logged'));\n        const token = data.access_token;\n        const userInfo = {\n          avatar: data.avatar,\n          name: data.nickname,\n          email: data.email,\n        };\n        authorizationUtil.setItems({\n          Authorization: authorization,\n          userInfo: JSON.stringify(userInfo),\n          Token: token,\n        });\n      }\n      return res.code;\n    },\n  });\n\n  return { data, loading, login: mutateAsync };\n};\n\nexport const useRegister = () => {\n  const { t } = useTranslation();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['register'],\n    mutationFn: async (params: {\n      email: string;\n      password: string;\n      nickname: string;\n    }) => {\n      const { data = {} } = await userService.register(params);\n      if (data.code === 0) {\n        message.success(t('message.registered'));\n      }\n      return data.code;\n    },\n  });\n\n  return { data, loading, register: mutateAsync };\n};\n\nexport const useLogout = () => {\n  const { t } = useTranslation();\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['logout'],\n    mutationFn: async () => {\n      const { data = {} } = await userService.logout();\n      if (data.code === 0) {\n        message.success(t('message.logout'));\n        authorizationUtil.removeAll();\n        history.push('/login');\n      }\n      return data.code;\n    },\n  });\n\n  return { data, loading, logout: mutateAsync };\n};\n\nexport const useHandleSubmittable = (form: FormInstance) => {\n  const [submittable, setSubmittable] = useState<boolean>(false);\n\n  // Watch all values\n  const values = Form.useWatch([], form);\n\n  useEffect(() => {\n    form\n      .validateFields({ validateOnly: true })\n      .then(() => setSubmittable(true))\n      .catch(() => setSubmittable(false));\n  }, [form, values]);\n\n  return { submittable };\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"sideBarWrapper\":\"sideBarWrapper___pApYb\",\"version\":\"version___uhL2R\"};","import { Domain } from '@/constants/common';\nimport { useTranslate } from '@/hooks/common-hooks';\nimport { useLogout } from '@/hooks/login-hooks';\nimport { useSecondPathName } from '@/hooks/route-hook';\nimport { useFetchSystemVersion } from '@/hooks/user-setting-hooks';\nimport type { MenuProps } from 'antd';\nimport { Flex, Menu } from 'antd';\nimport React, { useEffect, useMemo } from 'react';\nimport { useNavigate } from 'umi';\nimport {\n  UserSettingBaseKey,\n  UserSettingIconMap,\n  UserSettingRouteKey,\n} from '../constants';\nimport styles from './index.less';\n\ntype MenuItem = Required<MenuProps>['items'][number];\n\nconst SideBar = () => {\n  const navigate = useNavigate();\n  const pathName = useSecondPathName();\n  const { logout } = useLogout();\n  const { t } = useTranslate('setting');\n  const { version, fetchSystemVersion } = useFetchSystemVersion();\n\n  useEffect(() => {\n    if (location.host !== Domain) {\n      fetchSystemVersion();\n    }\n  }, [fetchSystemVersion]);\n\n  function getItem(\n    label: string,\n    key: React.Key,\n    icon?: React.ReactNode,\n    children?: MenuItem[],\n    type?: 'group',\n  ): MenuItem {\n    return {\n      key,\n      icon,\n      children,\n      label: (\n        <Flex justify={'space-between'}>\n          {t(label)}\n          <span className={styles.version}>\n            {label === 'system' && version}\n          </span>\n        </Flex>\n      ),\n      type,\n    } as MenuItem;\n  }\n\n  const items: MenuItem[] = Object.values(UserSettingRouteKey).map((value) =>\n    getItem(value, value, UserSettingIconMap[value]),\n  );\n\n  const handleMenuClick: MenuProps['onClick'] = ({ key }) => {\n    if (key === UserSettingRouteKey.Logout) {\n      logout();\n    } else {\n      navigate(`/${UserSettingBaseKey}/${key}`);\n    }\n  };\n\n  const selectedKeys = useMemo(() => {\n    return [pathName];\n  }, [pathName]);\n\n  return (\n    <section className={styles.sideBarWrapper}>\n      <Menu\n        selectedKeys={selectedKeys}\n        mode=\"inline\"\n        items={items}\n        onClick={handleMenuClick}\n        style={{ width: 312 }}\n      />\n    </section>\n  );\n};\n\nexport default SideBar;\n","import { Flex } from 'antd';\nimport { Outlet } from 'umi';\nimport SideBar from './sidebar';\n\nimport styles from './index.less';\n\nconst UserSetting = () => {\n  return (\n    <Flex className={styles.settingWrapper}>\n      <SideBar></SideBar>\n      <Flex flex={1} className={styles.outletWrapper}>\n        <Outlet></Outlet>\n      </Flex>\n    </Flex>\n  );\n};\n\nexport default UserSetting;\n","import React from 'react';\nimport { useToken } from '../theme/internal';\nexport const responsiveArray = ['xxl', 'xl', 'lg', 'md', 'sm', 'xs'];\nconst getResponsiveMap = token => ({\n  xs: `(max-width: ${token.screenXSMax}px)`,\n  sm: `(min-width: ${token.screenSM}px)`,\n  md: `(min-width: ${token.screenMD}px)`,\n  lg: `(min-width: ${token.screenLG}px)`,\n  xl: `(min-width: ${token.screenXL}px)`,\n  xxl: `(min-width: ${token.screenXXL}px)`\n});\n/**\n * Ensures that the breakpoints token are valid, in good order\n * For each breakpoint : screenMin <= screen <= screenMax and screenMax <= nextScreenMin\n */\nconst validateBreakpoints = token => {\n  const indexableToken = token;\n  const revBreakpoints = [].concat(responsiveArray).reverse();\n  revBreakpoints.forEach((breakpoint, i) => {\n    const breakpointUpper = breakpoint.toUpperCase();\n    const screenMin = `screen${breakpointUpper}Min`;\n    const screen = `screen${breakpointUpper}`;\n    if (!(indexableToken[screenMin] <= indexableToken[screen])) {\n      throw new Error(`${screenMin}<=${screen} fails : !(${indexableToken[screenMin]}<=${indexableToken[screen]})`);\n    }\n    if (i < revBreakpoints.length - 1) {\n      const screenMax = `screen${breakpointUpper}Max`;\n      if (!(indexableToken[screen] <= indexableToken[screenMax])) {\n        throw new Error(`${screen}<=${screenMax} fails : !(${indexableToken[screen]}<=${indexableToken[screenMax]})`);\n      }\n      const nextBreakpointUpperMin = revBreakpoints[i + 1].toUpperCase();\n      const nextScreenMin = `screen${nextBreakpointUpperMin}Min`;\n      if (!(indexableToken[screenMax] <= indexableToken[nextScreenMin])) {\n        throw new Error(`${screenMax}<=${nextScreenMin} fails : !(${indexableToken[screenMax]}<=${indexableToken[nextScreenMin]})`);\n      }\n    }\n  });\n  return token;\n};\nexport default function useResponsiveObserver() {\n  const [, token] = useToken();\n  const responsiveMap = getResponsiveMap(validateBreakpoints(token));\n  // To avoid repeat create instance, we add `useMemo` here.\n  return React.useMemo(() => {\n    const subscribers = new Map();\n    let subUid = -1;\n    let screens = {};\n    return {\n      matchHandlers: {},\n      dispatch(pointMap) {\n        screens = pointMap;\n        subscribers.forEach(func => func(screens));\n        return subscribers.size >= 1;\n      },\n      subscribe(func) {\n        if (!subscribers.size) this.register();\n        subUid += 1;\n        subscribers.set(subUid, func);\n        func(screens);\n        return subUid;\n      },\n      unsubscribe(paramToken) {\n        subscribers.delete(paramToken);\n        if (!subscribers.size) this.unregister();\n      },\n      unregister() {\n        Object.keys(responsiveMap).forEach(screen => {\n          const matchMediaQuery = responsiveMap[screen];\n          const handler = this.matchHandlers[matchMediaQuery];\n          handler === null || handler === void 0 ? void 0 : handler.mql.removeListener(handler === null || handler === void 0 ? void 0 : handler.listener);\n        });\n        subscribers.clear();\n      },\n      register() {\n        Object.keys(responsiveMap).forEach(screen => {\n          const matchMediaQuery = responsiveMap[screen];\n          const listener = _ref => {\n            let {\n              matches\n            } = _ref;\n            this.dispatch(Object.assign(Object.assign({}, screens), {\n              [screen]: matches\n            }));\n          };\n          const mql = window.matchMedia(matchMediaQuery);\n          mql.addListener(listener);\n          this.matchHandlers[matchMediaQuery] = {\n            mql,\n            listener\n          };\n          listener(mql);\n        });\n      },\n      responsiveMap\n    };\n  }, [token]);\n}\nexport const matchScreen = (screens, screenSizes) => {\n  if (screenSizes && typeof screenSizes === 'object') {\n    for (let i = 0; i < responsiveArray.length; i++) {\n      const breakpoint = responsiveArray[i];\n      if (screens[breakpoint] && screenSizes[breakpoint] !== undefined) {\n        return screenSizes[breakpoint];\n      }\n    }\n  }\n};"],"names":["_excluded","Icon","props","ref","className","Component","component","viewBox","spin","rotate","tabIndex","onClick","children","restProps","iconRef","mergedRef","Boolean","_React$useContext","_React$useContext$pre","prefixCls","rootClassName","classString","svgClassString","concat","svgStyle","msTransform","transform","undefined","innerSvgProps","style","iconTabIndex","role","count","only","type","displayName","useLogin","_mutationFn","t","useTranslation","_useMutation","useMutation","mutationKey","mutationFn","_asyncToGenerator","_regeneratorRuntime","mark","_callee","params","_yield$userService$lo","_yield$userService$lo2","res","response","_data","authorization","token","userInfo","wrap","_context","prev","next","userService","login","sent","data","alert","JSON","stringify","code","headers","get","Authorization","message","error","abrupt","success","access_token","avatar","name","nickname","email","authorizationUtil","setItems","Token","stop","_x","apply","arguments","loading","isPending","mutateAsync","useRegister","_mutationFn2","_useMutation2","_callee2","_yield$userService$re","_yield$userService$re2","_context2","register","_x2","useLogout","_mutationFn3","_useMutation3","_callee3","_yield$userService$lo3","_yield$userService$lo4","_context3","logout","removeAll","history","push","useHandleSubmittable","form","_useState","useState","_useState2","_slicedToArray","submittable","setSubmittable","values","Form","useWatch","useEffect","validateFields","validateOnly","then","navigate","useNavigate","pathName","useSecondPathName","useTranslate","_useFetchSystemVersio","useFetchSystemVersion","version","fetchSystemVersion","location","host","Domain","items","Object","UserSettingRouteKey","map","value","label","key","icon","UserSettingIconMap","_jsxs","Flex","justify","_jsx","styles","selectedKeys","useMemo","Menu","mode","_ref","Logout","UserSettingBaseKey","width","settingWrapper","SideBar","flex","outletWrapper","Outlet","responsiveArray","useResponsiveObserver","responsiveMap","xs","screenXSMax","sm","screenSM","md","screenMD","lg","screenLG","xl","screenXL","xxl","screenXXL","getResponsiveMap","indexableToken","revBreakpoints","reverse","forEach","breakpoint","i","breakpointUpper","toUpperCase","screenMin","screen","Error","length","screenMax","nextScreenMin","validateBreakpoints","subscribers","Map","subUid","screens","matchHandlers","dispatch","pointMap","func","size","subscribe","this","set","unsubscribe","paramToken","delete","unregister","keys","matchMediaQuery","handler","mql","removeListener","listener","clear","matches","assign","window","matchMedia","addListener"],"sourceRoot":""}