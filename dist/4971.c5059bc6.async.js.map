{"version":3,"file":"4971.c5059bc6.async.js","mappings":"uPACA,EAA2B,mBAA3B,EAAiF,aAAjF,EAAiI,iB,WCUzHA,EAAoBC,EAAAA,EAApBD,UAAWE,EAASD,EAAAA,EAATC,KA+FnB,EA7FmB,SAAHC,GAYV,IAXJC,EAAOD,EAAPC,QACAC,EAASF,EAATE,UAASC,EAAAH,EACTI,MAAAA,OAAK,IAAAD,EAAG,GAAEA,EACVE,EAAIL,EAAJK,KAAIC,EAAAN,EACJO,KAAAA,OAAI,IAAAD,EAAG,GAAEA,EACTE,EAAOR,EAAPQ,QAOQC,GAAMC,EAAAA,EAAAA,IAAa,QAAnBD,EACFE,GAAcC,EAAAA,EAAAA,MAEdC,EAAO,mCAAHC,OAGHC,SAASC,OAAM,0BAAAF,OAAyBV,EAAK,UAAAU,OAAST,EAAI,UAAAS,OAASP,EAAI,uGAQxEU,EAA4B,CAChC,CACEC,IAAK,IACLC,MAAOV,EAAE,mBACTW,UACEC,EAAAA,EAAAA,KAACC,EAAAA,EAAI,CACHC,MAAOd,EAAE,yBACTe,OAAOH,EAAAA,EAAAA,KAACI,EAAAA,EAAe,CAACZ,KAAMA,IAC9Ba,UAAWC,EAAgBP,UAE3BC,EAAAA,EAAAA,KAACO,EAAAA,EAAkB,CAAAR,SAAEP,OAI3B,CACEK,IAAK,IACLC,MAAOV,EAAE,gBACTW,SAAUX,EAAE,eAEd,CACES,IAAK,IACLC,MAAOV,EAAE,kBACTW,SAAUX,EAAE,gBAQhB,OACEoB,EAAAA,EAAAA,MAACC,EAAAA,EAAK,CACJP,MAAOd,EAAE,gBAAiB,CAAEsB,UAAW,WACvCC,KAAM/B,EACNgC,MAAO,CAAEC,IAAK,KACdC,MAAO,OACPC,KAAMlC,EACNmC,SAAUnC,EAAUkB,SAAA,EAEpBC,EAAAA,EAAAA,KAACiB,EAAAA,EAAI,CAACC,iBAAiB,IAAItB,MAAOA,EAAOuB,SAb5B,SAACtB,GAChBuB,QAAQC,IAAIxB,EACd,KAYIW,EAAAA,EAAAA,MAAA,OAAKH,UAAU,kCAAiCN,SAAA,CAC7CX,EAAED,EAAU,OAAS,OAAQ,CAAEuB,UAAW,YAC3CV,EAAAA,EAAAA,KAAA,QAAMK,UAAU,oBAAmBN,SAAC,WAEtCC,EAAAA,EAAAA,KAACxB,EAAS,CACR8C,SAAU,CAAE9B,KAAMT,GAClBsB,WAAWkB,EAAAA,EAAAA,IAAGjB,EAASkB,IAAA,GACpBlB,EAAgBhB,IAChBS,SAEFhB,KAEHiB,EAAAA,EAAAA,KAACtB,EAAI,CACH+C,KACEtC,EACI,2EACA,oFAENuC,OAAO,SAAQ3B,SAEdX,EAAE,WAAY,CAAEsB,UAAWvB,EAAU,OAAS,aAIvD,C,0OCvFawC,EAAmB,SAACC,EAAeC,GAC9C,IAAQC,GAAgBC,EAAAA,EAAAA,MAAhBD,YACRE,GAAkDC,EAAAA,EAAAA,MAA1CC,EAAWF,EAAXE,YAAsBC,EAAeH,EAAxBI,QACrBC,GAAkDC,EAAAA,EAAAA,MAApCC,EAASF,EAAfG,KAA0BC,EAAWJ,EAApBD,QAEnBM,GAAoBC,EAAAA,EAAAA,MAY1B,MAAO,CACLb,YAXoB,SAAC/C,GACrB2D,EAAkB,CAChB3B,KAAM,kBAAMe,EAAY/C,EAAM,GAElC,EAQEmD,aANoBU,EAAAA,EAAAA,cAAY,WAChCV,EAAWV,IAAC,CAAC,EAAEI,EAAQC,GACzB,GAAG,CAACK,EAAaN,EAAOC,IAKtBU,UAAAA,EACAJ,gBAAAA,EACAM,YAAAA,EAEJ,EA8CMI,EAAmC,WACvC,IAvBQzD,EAuBA0D,GAvBA1D,GAAMC,EAAAA,EAAAA,IAAa,QAAnBD,EAKD,CAAE0D,qBAHmBF,EAAAA,EAAAA,cAAY,WACtCG,EAAAA,GAAQC,MAAM5D,EAAE,cAClB,GAAG,CAACA,MAmBI0D,oBACRG,EAhBmC,WACnC,IAAQ7D,GAAMC,EAAAA,EAAAA,IAAa,QAAnBD,EAKR,MAAO,CAAE8D,oBAHkBN,EAAAA,EAAAA,cAAY,WACrCG,EAAAA,GAAQC,MAAM5D,EAAE,aAClB,GAAG,CAACA,IAEN,CASiC+D,GAAvBD,EAAkBD,EAAlBC,mBAERE,GACEC,EAAAA,EAAAA,KADYd,EAASa,EAAfZ,KAAiBc,EAAoBF,EAApBE,qBAIvBpE,EAAO,GAyBT,OAvBIqE,MAAMC,QAAQjB,IAAcA,EAAUkB,OAAS,IACzClB,EAAU,GAAGxD,MACrBG,EAAOqD,EAAU,GAAGrD,MAqBf,CACLH,MAlBAwE,MAAMC,QAAQjB,IAAcA,EAAUkB,OAAS,EAAIlB,EAAU,GAAGxD,MAAQ,GAmBxEG,KAAAA,EACAwE,eAlBoBd,EAAAA,EAAAA,aAAWe,IAAAC,MAAAC,MAAC,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAA,OAAAL,MAAAM,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACdf,IAAsB,OACxB,GADVS,EAAGI,EAAAG,KACHN,EAAOD,IACTR,MAAMC,QAAQQ,IAASA,EAAKP,OAAS,GAAC,CAAAU,EAAAE,KAAA,YACnCL,EAAK,GAAG9E,KAAM,CAAFiF,EAAAE,KAAA,QACM,OAArBnB,IAAqBiB,EAAAI,OAAA,UACd,GAAK,cAAAJ,EAAAI,OAAA,SAEA,QAFAN,EAEPD,EAAK,UAAE,IAAAC,OAAA,EAAPA,EAASlF,OAAK,QAEC,OAAtB+D,IAAsBqB,EAAAI,OAAA,UACf,GAAK,yBAAAJ,EAAAK,OAAA,GAAAV,EAAA,KAEb,CAACR,EAAsBJ,EAAoBJ,IAOhD,EAEa2B,EAAoB,WAC/B,IAAAC,GAIIC,EAAAA,EAAAA,MAHOC,EAAYF,EAArB9F,QACWiG,EAAcH,EAAzB7F,UACWiG,EAAcJ,EAAzBK,UAGFC,EAAuCnC,IAA/Ba,EAAasB,EAAbtB,cAAe3E,EAAKiG,EAALjG,MAAOG,EAAI8F,EAAJ9F,KAS9B,MAAO,CACL4F,gBAR2BlC,EAAAA,EAAAA,aAAWe,IAAAC,MAAAC,MAAC,SAAAoB,IAAA,OAAArB,MAAAM,MAAA,SAAAgB,GAAA,cAAAA,EAAAd,KAAAc,EAAAb,MAAA,cAAAa,EAAAb,KAAA,EACjBX,IAAe,OAAxBwB,EAAAZ,MAEXQ,IACD,wBAAAI,EAAAV,OAAA,GAAAS,EAAA,KACA,CAACvB,EAAeoB,IAIjBD,eAAAA,EACAD,aAAAA,EACAO,WAAYpG,EACZG,KAAAA,EAEJ,EAEakG,EAAiB,SAACxD,GAC7B,IAAQ8B,EAAkBb,IAAlBa,cAEF/C,GAAOiC,EAAAA,EAAAA,cACX,SAACxD,GACCiG,OAAO1E,KA3EW,SAAC5B,GAAyC,IAA1BuG,EAAYC,UAAA9B,OAAA,QAAA+B,IAAAD,UAAA,GAAAA,UAAA,GAAG,OACrDE,EAA2BJ,OAAO3F,SAA1BgG,EAAQD,EAARC,SAAUC,EAAIF,EAAJE,KAClB,MAAO,GAAPlG,OAAUiG,EAAQ,MAAAjG,OAAKkG,EAAI,0BAAAlG,OAAyBV,EAAK,UAAAU,OAAS6F,EACpE,CAyEQM,CACExG,EACU,aAAVwC,EAAuBiE,EAAAA,GAAWC,MAAQD,EAAAA,GAAWE,MAEvD,SAEJ,GACA,CAACnE,IAUH,MAAO,CACLoE,eARoBpD,EAAAA,EAAAA,aAAWe,IAAAC,MAAAC,MAAC,SAAAoC,IAAA,IAAAlH,EAAA,OAAA6E,MAAAM,MAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAAA6B,EAAA7B,KAAA,EACZX,IAAe,QAA7B3E,EAAKmH,EAAA5B,OAET3D,EAAK5B,GACN,wBAAAmH,EAAA1B,OAAA,GAAAyB,EAAA,KACA,CAACvC,EAAe/C,IAKrB,C,2GCnIA,IAzC0B,WACxB,IAAQvB,GAAMC,EAAAA,EAAAA,IAAa,QAAnBD,EAQF+G,GAN0BC,EAAAA,EAAAA,KAAsB,GAA9CpC,KAMuCqC,KAAI,SAACC,GAAC,MAAM,CACzDxG,OACEE,EAAAA,EAAAA,KAACuG,EAAAA,EAAK,CAAAxG,SAEHuG,EAAEE,OAGPC,MAAOH,EAAEI,GACV,IAED,OACE1G,EAAAA,EAAAA,KAAC2G,EAAAA,EAAKC,KAAI,CACR9G,MAAOV,EAAE,kBACToH,KAAK,SACLK,QAASzH,EAAE,qBACX0H,MAAO,CACL,CACEC,UAAU,EACVhE,QAAS3D,EAAE,yBACX4H,KAAM,UAERjH,UAEFC,EAAAA,EAAAA,KAACiH,EAAAA,EAAM,CACLC,KAAK,WACLC,QAAShB,EACTiB,YAAahI,EAAE,4BAIvB,C,iRC5CA,EAAoC,4BAApC,EAAiF,yB,WCqSjF,EAnRwB,SAAHT,GAAgD,IAA1C0I,EAAM1I,EAAN0I,OAAMC,EAAA3I,EAAE4I,eAAAA,OAAc,IAAAD,EAAG,CAAC,EAACA,EAC9CtI,EAAO2H,EAAAA,EAAKa,kBACVpI,GAAMC,EAAAA,EAAAA,IAAa,QAAnBD,EACFqI,EAAmBC,OAAOC,OAAOC,EAAAA,IAAmBvB,KAAI,SAACC,GAAC,MAAM,CACpExG,MAAOV,EAAEyI,IAAUvB,IACnBG,MAAOH,EACR,IAEKwB,GAAyBlF,EAAAA,EAAAA,cAC7B,SAAC6D,GACC,IAAMsB,EAAWC,EAAAA,GAAwBvB,GACrCwB,EAAoCF,EACpCV,IACFY,EAAYzG,IAAA,GAAM6F,EAASU,IAE7B/I,EAAKkJ,eAAeD,EACtB,GACA,CAACjJ,EAAMqI,IAGHc,GAAkBC,EAAAA,EAAAA,UAAQ,kBAAOf,EAAS,CAACA,GAAU,EAAE,GAAG,CAACA,IAE3DgB,GAAeC,EAAAA,EAAAA,GAAiC,CACpDC,EAAAA,GAAaxC,KACbwC,EAAAA,GAAaC,aAGf,OACEhI,EAAAA,EAAAA,MAAAiI,EAAAA,SAAA,CAAA1I,SAAA,EACEC,EAAAA,EAAAA,KAAC2G,EAAAA,EAAKC,KAAI8B,IAAAA,IAAA,CACR5I,MAAOV,EAAE,SACToH,KAAK,SACLK,QAASzH,EAAE,aACPmI,GAAc,IAClBT,MAAO,CAAC,CAAEC,UAAU,EAAMhE,QAAS3D,EAAE,kBAAmBW,UAExDC,EAAAA,EAAAA,KAACiH,EAAAA,EAAM,CAACE,QAASkB,EAAcM,YAAU,QAE3C3I,EAAAA,EAAAA,KAAC4I,EAAAA,EAAO,KACR5I,EAAAA,EAAAA,KAAC2G,EAAAA,EAAKC,KAAI8B,IAAAA,IAAA,CACR5I,MAAOV,EAAE,WACToH,KAAK,YACLK,QAASzH,EAAE,eACPmI,GAAc,IAClBsB,aAAcjB,EAAAA,GAAkBkB,QAAQ/I,UAExCC,EAAAA,EAAAA,KAACiH,EAAAA,EAAM,CACLE,QAASM,EACTtG,SAAU2G,QAGd9H,EAAAA,EAAAA,KAAC2G,EAAAA,EAAKC,KAAI8B,IAAAA,IAAA,CACR5I,MAAOV,EAAE,eACTyH,QAASzH,EAAE,mBACPmI,GAAc,IAAAxH,UAElBS,EAAAA,EAAAA,MAACuI,EAAAA,EAAI,CAACC,IAAK,GAAIC,MAAM,SAAQlJ,SAAA,EAC3BC,EAAAA,EAAAA,KAAC2G,EAAAA,EAAKC,KAAI,CACRJ,KAAM,qBACN0C,cAAc,UACdC,SAAO,EAAApJ,UAEPC,EAAAA,EAAAA,KAACoJ,EAAAA,EAAM,CAACC,KAAK,aAEfrJ,EAAAA,EAAAA,KAAC2G,EAAAA,EAAKC,KAAI,CAACuC,SAAO,EAACG,aAAc,CAAC,sBAAsBvJ,SACrD,SAAAwJ,GAAuB,IAChBC,IAAYC,EADHF,EAAbE,eAC8B,sBAChC,OACEjJ,EAAAA,EAAAA,MAAAiI,EAAAA,SAAA,CAAA1I,SAAA,EACEC,EAAAA,EAAAA,KAAC+I,EAAAA,EAAI,CAACW,KAAM,EAAE3J,UACZC,EAAAA,EAAAA,KAAC2G,EAAAA,EAAKC,KAAI,CACRJ,KAAI,GAAA/G,OAAAkK,IAAMxB,GAAe,CAAE,gBAC3BgB,SAAO,EAAApJ,UAEPC,EAAAA,EAAAA,KAAC4J,EAAAA,EAAM,CACLvJ,UAAWC,EACXuJ,IAAK,EACLC,KAAM,IACNN,SAAUA,SAIhBxJ,EAAAA,EAAAA,KAAC2G,EAAAA,EAAKC,KAAI,CAACJ,KAAI,GAAA/G,OAAAkK,IAAMxB,GAAe,CAAE,gBAAgBgB,SAAO,EAAApJ,UAC3DC,EAAAA,EAAAA,KAAC+J,EAAAA,EAAW,CACV1J,UAAWC,EACXuJ,IAAK,EACLG,IAAK,EACLF,KAAM,IACNN,SAAUA,QAKpB,WAINxJ,EAAAA,EAAAA,KAAC2G,EAAAA,EAAKC,KAAI8B,IAAAA,IAAA,CAAC5I,MAAOV,EAAE,QAASyH,QAASzH,EAAE,YAAgBmI,GAAc,IAAAxH,UACpES,EAAAA,EAAAA,MAACuI,EAAAA,EAAI,CAACC,IAAK,GAAIC,MAAM,SAAQlJ,SAAA,EAC3BC,EAAAA,EAAAA,KAAC2G,EAAAA,EAAKC,KAAI,CAACJ,KAAM,cAAe0C,cAAc,UAAUC,SAAO,EAAApJ,UAC7DC,EAAAA,EAAAA,KAACoJ,EAAAA,EAAM,CAACC,KAAK,aAEfrJ,EAAAA,EAAAA,KAAC2G,EAAAA,EAAKC,KAAI,CAACuC,SAAO,EAACG,aAAc,CAAC,eAAevJ,SAC9C,SAAAkK,GAAuB,IAChBT,IAAYC,EADHQ,EAAbR,eAC8B,eAChC,OACEjJ,EAAAA,EAAAA,MAAAiI,EAAAA,SAAA,CAAA1I,SAAA,EACEC,EAAAA,EAAAA,KAAC+I,EAAAA,EAAI,CAACW,KAAM,EAAE3J,UACZC,EAAAA,EAAAA,KAAC2G,EAAAA,EAAKC,KAAI,CAACJ,KAAI,GAAA/G,OAAAkK,IAAMxB,GAAe,CAAE,UAAUgB,SAAO,EAAApJ,UACrDC,EAAAA,EAAAA,KAAC4J,EAAAA,EAAM,CACLvJ,UAAWC,EACXuJ,IAAK,EACLC,KAAM,IACNN,SAAUA,SAIhBxJ,EAAAA,EAAAA,KAAC2G,EAAAA,EAAKC,KAAI,CAACJ,KAAI,GAAA/G,OAAAkK,IAAMxB,GAAe,CAAE,UAAUgB,SAAO,EAAApJ,UACrDC,EAAAA,EAAAA,KAAC+J,EAAAA,EAAW,CACV1J,UAAWC,EACXuJ,IAAK,EACLG,IAAK,EACLF,KAAM,IACNN,SAAUA,QAKpB,WAINxJ,EAAAA,EAAAA,KAAC2G,EAAAA,EAAKC,KAAI8B,IAAAA,IAAA,CACR5I,MAAOV,EAAE,mBACTyH,QAASzH,EAAE,uBACPmI,GAAc,IAAAxH,UAElBS,EAAAA,EAAAA,MAACuI,EAAAA,EAAI,CAACC,IAAK,GAAIC,MAAM,SAAQlJ,SAAA,EAC3BC,EAAAA,EAAAA,KAAC2G,EAAAA,EAAKC,KAAI,CACRJ,KAAM,yBACN0C,cAAc,UACdC,SAAO,EAAApJ,UAEPC,EAAAA,EAAAA,KAACoJ,EAAAA,EAAM,CAACC,KAAK,aAEfrJ,EAAAA,EAAAA,KAAC2G,EAAAA,EAAKC,KAAI,CAACuC,SAAO,EAACG,aAAc,CAAC,0BAA0BvJ,SACzD,SAAAmK,GAAuB,IAChBV,IAAYC,EADHS,EAAbT,eAC8B,0BAChC,OACEjJ,EAAAA,EAAAA,MAAAiI,EAAAA,SAAA,CAAA1I,SAAA,EACEC,EAAAA,EAAAA,KAAC+I,EAAAA,EAAI,CAACW,KAAM,EAAE3J,UACZC,EAAAA,EAAAA,KAAC2G,EAAAA,EAAKC,KAAI,CACRJ,KAAI,GAAA/G,OAAAkK,IAAMxB,GAAe,CAAE,qBAC3BgB,SAAO,EAAApJ,UAEPC,EAAAA,EAAAA,KAAC4J,EAAAA,EAAM,CACLvJ,UAAWC,EACXuJ,IAAK,EACLC,KAAM,IACNN,SAAUA,SAIhBxJ,EAAAA,EAAAA,KAAC2G,EAAAA,EAAKC,KAAI,CACRJ,KAAI,GAAA/G,OAAAkK,IAAMxB,GAAe,CAAE,qBAC3BgB,SAAO,EAAApJ,UAEPC,EAAAA,EAAAA,KAAC+J,EAAAA,EAAW,CACV1J,UAAWC,EACXuJ,IAAK,EACLG,IAAK,EACLF,KAAM,IACNN,SAAUA,QAKpB,WAINxJ,EAAAA,EAAAA,KAAC2G,EAAAA,EAAKC,KAAI8B,IAAAA,IAAA,CACR5I,MAAOV,EAAE,oBACTyH,QAASzH,EAAE,wBACPmI,GAAc,IAAAxH,UAElBS,EAAAA,EAAAA,MAACuI,EAAAA,EAAI,CAACC,IAAK,GAAIC,MAAM,SAAQlJ,SAAA,EAC3BC,EAAAA,EAAAA,KAAC2G,EAAAA,EAAKC,KAAI,CACRJ,KAAM,0BACN0C,cAAc,UACdC,SAAO,EAAApJ,UAEPC,EAAAA,EAAAA,KAACoJ,EAAAA,EAAM,CAACC,KAAK,aAEfrJ,EAAAA,EAAAA,KAAC2G,EAAAA,EAAKC,KAAI,CAACuC,SAAO,EAACG,aAAc,CAAC,2BAA2BvJ,SAC1D,SAAAoK,GAAuB,IAChBX,IAAYC,EADHU,EAAbV,eAC8B,2BAChC,OACEjJ,EAAAA,EAAAA,MAAAiI,EAAAA,SAAA,CAAA1I,SAAA,EACEC,EAAAA,EAAAA,KAAC+I,EAAAA,EAAI,CAACW,KAAM,EAAE3J,UACZC,EAAAA,EAAAA,KAAC2G,EAAAA,EAAKC,KAAI,CACRJ,KAAI,GAAA/G,OAAAkK,IAAMxB,GAAe,CAAE,sBAC3BgB,SAAO,EAAApJ,UAEPC,EAAAA,EAAAA,KAAC4J,EAAAA,EAAM,CACLvJ,UAAWC,EACXuJ,IAAK,EACLC,KAAM,IACNN,SAAUA,SAIhBxJ,EAAAA,EAAAA,KAAC2G,EAAAA,EAAKC,KAAI,CACRJ,KAAI,GAAA/G,OAAAkK,IAAMxB,GAAe,CAAE,sBAC3BgB,SAAO,EAAApJ,UAEPC,EAAAA,EAAAA,KAAC+J,EAAAA,EAAW,CACV1J,UAAWC,EACXuJ,IAAK,EACLG,IAAK,EACLF,KAAM,IACNN,SAAUA,QAKpB,WAINxJ,EAAAA,EAAAA,KAAC2G,EAAAA,EAAKC,KAAI8B,IAAAA,IAAA,CACR5I,MAAOV,EAAE,aACTyH,QAASzH,EAAE,iBACPmI,GAAc,IAAAxH,UAElBS,EAAAA,EAAAA,MAACuI,EAAAA,EAAI,CAACC,IAAK,GAAIC,MAAM,SAAQlJ,SAAA,EAC3BC,EAAAA,EAAAA,KAAC2G,EAAAA,EAAKC,KAAI,CAACJ,KAAM,mBAAoB0C,cAAc,UAAUC,SAAO,EAAApJ,UAClEC,EAAAA,EAAAA,KAACoJ,EAAAA,EAAM,CAACC,KAAK,aAEfrJ,EAAAA,EAAAA,KAAC2G,EAAAA,EAAKC,KAAI,CAACuC,SAAO,EAACG,aAAc,CAAC,oBAAoBvJ,SACnD,SAAAqK,GAAuB,IAChBZ,IAAYC,EADHW,EAAbX,eAC8B,oBAEhC,OACEjJ,EAAAA,EAAAA,MAAAiI,EAAAA,SAAA,CAAA1I,SAAA,EACEC,EAAAA,EAAAA,KAAC+I,EAAAA,EAAI,CAACW,KAAM,EAAE3J,UACZC,EAAAA,EAAAA,KAAC2G,EAAAA,EAAKC,KAAI,CACRJ,KAAI,GAAA/G,OAAAkK,IAAMxB,GAAe,CAAE,eAC3BgB,SAAO,EAAApJ,UAEPC,EAAAA,EAAAA,KAAC4J,EAAAA,EAAM,CACLvJ,UAAWC,EACXuJ,IAAK,MACLL,SAAUA,SAIhBxJ,EAAAA,EAAAA,KAAC2G,EAAAA,EAAKC,KAAI,CAACJ,KAAI,GAAA/G,OAAAkK,IAAMxB,GAAe,CAAE,eAAegB,SAAO,EAAApJ,UAC1DC,EAAAA,EAAAA,KAAC+J,EAAAA,EAAW,CACVP,SAAUA,EACVnJ,UAAWC,EACXuJ,IAAK,MACLG,IAAK,QAKf,YAMZ,C,qFC3PA,IA5ByB,SAAHrL,GAGR,IAAA0L,EAAA1L,EAFZ2L,eAAAA,OAAc,IAAAD,GAAQA,EAAAE,EAAA5L,EACtB6L,2BAAAA,OAA0B,IAAAD,EAAG,2BAA0BA,EAE/CnL,GAAMC,EAAAA,EAAAA,IAAa,oBAAnBD,EAER,OACEoB,EAAAA,EAAAA,MAAAiI,EAAAA,SAAA,CAAA1I,SAAA,EACEC,EAAAA,EAAAA,KAAC2G,EAAAA,EAAKC,KAAI,CACR9G,MAAOV,EAAE,uBACToH,KAAM,uBACNK,QAASyD,GAAkBlL,EAAE,0BAC7ByJ,aAAc,GAAI9I,UAElBC,EAAAA,EAAAA,KAAC4J,EAAAA,EAAM,CAACC,IAAK,EAAGC,KAAM,SAExB9J,EAAAA,EAAAA,KAAC2G,EAAAA,EAAKC,KAAI,CACR9G,MAAOV,EAAE,0BACToH,KAAMgE,EACN3B,aAAc,GACdhC,QAASyD,GAAkBlL,EAAE,6BAA6BW,UAE1DC,EAAAA,EAAAA,KAAC4J,EAAAA,EAAM,CAACC,IAAK,EAAGC,KAAM,UAI9B,C,qFCZA,IAfiB,SAAHnL,GAA+C,IAAA8L,EAAA9L,EAAzCkK,aAAAA,OAAY,IAAA4B,EAAG,EAACA,EAAAC,EAAA/L,EAAEkL,IAAAA,OAAG,IAAAa,EAAG,GAAEA,EACpCtL,GAAMC,EAAAA,EAAAA,IAAa,QAAnBD,EAER,OACEY,EAAAA,EAAAA,KAAC2G,EAAAA,EAAKC,KAAI,CACR9G,MAAOV,EAAE,QACToH,KAAM,QACNqC,aAAcA,EACdhC,QAASzH,EAAE,WAAWW,UAEtBC,EAAAA,EAAAA,KAAC4J,EAAAA,EAAM,CAACC,IAAKA,KAGnB,C,sQCzBac,EAAc,CACzBC,IAAK,UACLC,GAAI,SACJC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,KAAM,WACNC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,KAAM,WACNC,KAAM,WACNC,KAAM,WACNC,KAAM,WACNC,IAAK,UACLC,GAAI,SACJC,KAAM,WACNC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,KAAM,WACNC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,KAAM,WACNC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,IAAK,UACLC,KAAM,WACNC,IAAK,UACLC,IAAK,UACLC,KAAM,WACNC,IAAK,UACLC,KAAM,WACNC,IAAK,WAGMC,EAAe,CAC1B,UACA,kBAUWC,EAAc,CACzBC,QAAS,UACTC,eAAgB,UASLC,EAAyB,CACpCF,QAAS,KACTG,QAAS,KACT,sBAAuB,iBACvBC,UAAW,KACXC,QAAS,KACTC,WAAY,KACZC,SAAU,KACV,gBAAiB,SAGPC,EAAY,SAAZA,GAAY,OAAZA,EAAY,gBAAZA,EAAY,eAAZA,EAAY,8CAAZA,EAAY,yBAAZA,EAAY,+EAAZA,EAAY,gBAAZA,EAAY,eAAZA,EAAY,iBAAZA,EAAY,gBAAZA,EAAY,kBAAZA,EAAY,sBAAZA,EAAY,gBAAZA,EAAY,oCAAZA,EAAY,iFAAZA,EAAY,kBAAZA,EAAY,iBAAZA,EAAY,+BAAZA,EAAY,yEAAZA,EAAY,gBAAZA,EAAY,wBAAZA,CAAY,MAuBXC,EAAS,kBAGTC,EAAS,CACpB,MACA,OACA,MACA,MACA,MACA,MACA,OACA,OAEA,OAIWC,EAAgB,CAAC,OAAQ,MAAO,MAAO,QAAMtO,OAAKqO,GAElDE,EAA6BrE,IAAOoE,E,0eChGpCE,EAAkB,SAC7BC,GAEA,IAGSC,EAHTC,GAAiBC,EAAAA,EAAAA,GAAS,CACxBC,SAAU,CAAC,WACXC,YAAa,CAAC,EACdC,SAAOL,EAAAxK,IAAAC,MAAAC,MAAE,SAAAC,IAAA,IAAA2K,EAAAC,EAAAlM,EAAA,OAAAoB,MAAAM,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACgBsK,EAAAA,GAAYC,SAAS,CAAEC,WAAYX,IAAY,OAA1D,OAA0DQ,EAAAvK,EAAAG,KAA9D9B,EAAIkM,EAAJlM,KAAI2B,EAAAI,OAAA,SAEK,QAFLkK,EAELjM,aAAI,EAAJA,EAAMA,YAAI,IAAAiM,EAAAA,EAAI,CAAC,GAAC,wBAAAtK,EAAAK,OAAA,GAAAV,EAAA,KACxB,kBAAAqK,EAAAW,MAAA,KAAAvJ,UAAA,KAGH,OAVY6I,EAAJ5L,IAWV,EA6BauM,EAAiC,WAC5C,IAAMC,EAAoCf,IAEpCgB,EAA0B,SAACf,GAC/B,OAAOxG,OAAOwH,QAAQF,GACnBG,QAAO,SAAAlF,GAAA,IAAIxD,EAAJ2I,IAAAnF,EAAA,GAAS,UACfiE,GAAYzH,EAAM4I,MAAK,SAAC/I,GAAC,OAAKA,EAAEuI,WAAWS,SAASpB,EAAU,GAAQ,IAEvE7H,KAAI,SAAA8D,GAAkB,IAAAC,EAAAgF,IAAAjF,EAAA,GACrB,MAAO,CACLrK,MAFMsK,EAAA,GAGNjD,QAHaiD,EAAA,GAIV+E,QACC,SAAC7I,GAAC,QACC4H,GAAY5H,EAAEuI,WAAWS,SAASpB,KACnC5H,EAAEiJ,SAAS,IAEdlJ,KAAI,SAACC,GAAC,MAAM,CACXxG,OACEU,EAAAA,EAAAA,MAACuI,EAAAA,EAAI,CAACE,MAAM,SAASD,IAAK,EAAEjJ,SAAA,EAC1BC,EAAAA,EAAAA,KAACwP,EAAAA,EAAO,CACNhJ,MA7BIiJ,EA6BiBnJ,EAAEmJ,IA7BNC,EA6BWpJ,EAAEoJ,SA5BpC,cAARD,EAC8B,QAAhCE,EAAOD,EAASE,MAAM,KAAKC,GAAG,UAAE,IAAAF,EAAAA,EAAI,GAG/BF,GAyBW3O,MAAO,GACPgP,OAAQ,GACRzG,KAAM,WAERrJ,EAAAA,EAAAA,KAAA,QAAAD,SAAOuG,EAAEoJ,cAGbjJ,MAAO,GAAFhH,OAAK6G,EAAEoJ,SAAQ,KAAAjQ,OAAI6G,EAAEmJ,KAC1BjG,UAAWlD,EAAEiJ,WAtCJ,IAACE,EAAaC,EACVC,CAsCd,IAEP,IACCR,QAAO,SAAC7I,GAAC,OAAKA,EAAEa,QAAQ1D,OAAS,CAAC,GACvC,EAEA,OAAAjC,IAAAA,IAAAA,IAAAA,IAAAA,IAAAA,IAAA,GACG+G,EAAAA,GAAaxC,KAAOkJ,EAAwB1G,EAAAA,GAAaxC,OACzDwC,EAAAA,GAAawH,UAAYd,EAAwB1G,EAAAA,GAAawH,YAC9DxH,EAAAA,GAAaC,WAAayG,EAAwB1G,EAAAA,GAAaC,aAC/DD,EAAAA,GAAayH,YAAcf,EAC1B1G,EAAAA,GAAayH,cAEdzH,EAAAA,GAAa0H,OAAShB,EAAwB1G,EAAAA,GAAa0H,SAC3D1H,EAAAA,GAAa2H,IAAMjB,EAAwB1G,EAAAA,GAAa2H,KAE7D,EAEa5H,EAAmC,SAC9C6H,GAEA,IAAMC,EAAarB,IAEnB,OAAOoB,EAAWE,QAA4B,SAACC,EAAKC,GAWlD,OAVgBH,EAAWG,GACnBC,SAAQ,SAAClK,GACf,IACUmK,EADJC,EAAOJ,EAAIK,MAAK,SAACC,GAAC,OAAKA,EAAE9Q,QAAUwG,EAAExG,KAAK,IAC5C4Q,GACFD,EAAAC,EAAKvJ,SAAQ0J,KAAI/B,MAAA2B,EAAA9G,IAAIrD,EAAEa,UAEvBmJ,EAAIO,KAAKvK,EAEb,IAEOgK,CACT,GAAG,GACL,EAoCaQ,EAAmB,WAC9B,IAXSC,EAJTC,EAfSC,EAJTC,EAkCAC,GAfAH,GAAsC3C,EAAAA,EAAAA,GAAS,CAC7CC,SAAU,CAAC,aACXC,YAAa,CAAC,EACd6C,OAAQ,EACR5C,SAAOuC,EAAApN,IAAAC,MAAAC,MAAE,SAAAoC,IAAA,IAAAoL,EAAAC,EAAA9O,EAAA,OAAAoB,MAAAM,MAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAAA6B,EAAA7B,KAAA,EACgBsK,EAAAA,GAAY4C,SAAQ,OAA/B,OAA+BD,EAAApL,EAAA5B,KAAnC9B,EAAI8O,EAAJ9O,KAAI0D,EAAA3B,OAAA,SAEK,QAFL8M,EAEL7O,aAAI,EAAJA,EAAMA,YAAI,IAAA6O,EAAAA,EAAI,CAAC,GAAC,wBAAAnL,EAAA1B,OAAA,GAAAyB,EAAA,KACxB,kBAAA8K,EAAAjC,MAAA,KAAAvJ,UAAA,KAGI,CAAE/C,KAXGwO,EAAJxO,KAWOJ,QAXkB4O,EAAnBQ,aAeAC,EAASN,EAAf3O,KAA0BkP,EAAgBP,EAAzB/O,QACzBuP,GAnCAT,GAAsC7C,EAAAA,EAAAA,GAAS,CAC7CC,SAAU,CAAC,eACXC,YAAa,GACb6C,OAAQ,EACR5C,SAAOyC,EAAAtN,IAAAC,MAAAC,MAAE,SAAAoB,IAAA,IAAA2M,EAAAC,EAAArP,EAAA,OAAAoB,MAAAM,MAAA,SAAAgB,GAAA,cAAAA,EAAAd,KAAAc,EAAAb,MAAA,cAAAa,EAAAb,KAAA,EACgBsK,EAAAA,GAAYmD,iBAAgB,OAAvC,OAAuCD,EAAA3M,EAAAZ,KAA3C9B,EAAIqP,EAAJrP,KAAI0C,EAAAX,OAAA,SAEK,QAFLqN,EAELpP,aAAI,EAAJA,EAAMA,YAAI,IAAAoP,EAAAA,EAAI,IAAE,wBAAA1M,EAAAV,OAAA,GAAAS,EAAA,KACxB,kBAAAgM,EAAAnC,MAAA,KAAAvJ,UAAA,KAGI,CAAE/C,KAXG0O,EAAJ1O,KAWOJ,QAXkB8O,EAAnBM,aAmCAO,EAAWJ,EAAjBnP,KAA4BwP,EAAkBL,EAA3BvP,QAkB3B,MAAO,CACLqP,WAhBoCrJ,EAAAA,EAAAA,UAAQ,WAC5C,OAAOV,OAAOwH,QAAQuC,GAAWpL,KAAI,SAAA4L,GAAA,IAAAC,EAAAC,EAAAC,EAAAhD,IAAA6C,EAAA,GAAEpS,EAAGuS,EAAA,GAAE3L,EAAK2L,EAAA,UAAA1J,IAAA,CAC/ClC,KAAM3G,EACNwS,KAAmD,QAA/CH,EAAyC,QAAzCC,EAAEJ,EAAYpB,MAAK,SAACrK,GAAC,OAAKA,EAAEE,OAAS3G,CAAG,WAAC,IAAAsS,OAAA,EAAvCA,EAAyCE,YAAI,IAAAH,EAAAA,EAAI,IACpDzL,EAAK,GAEZ,GAAG,CAACgL,EAAWM,IAWbA,aATsB3J,EAAAA,EAAAA,UAAQ,WAC9B,IAAMkK,EAAcP,EAAY5C,QAAO,SAAC7I,GAAC,OACvCoB,OAAO6K,KAAKd,GAAWe,OAAM,SAAC5B,GAAC,OAAKA,IAAMtK,EAAEE,IAAI,GAAC,IAEnD,OAAOiM,EAAAA,EAAAA,IAAmCH,EAC5C,GAAG,CAACP,EAAaN,IAKfrP,QAASsP,GAAoBM,EAEjC,EAUaU,EAAgB,WAC3B,IAQYC,EARNC,GAAcC,EAAAA,EAAAA,MACZzT,GAAM0T,EAAAA,EAAAA,MAAN1T,EACR2T,GAIIC,EAAAA,EAAAA,GAAY,CACdC,YAAa,CAAC,cACdC,YAAUP,EAAAhP,IAAAC,MAAAC,MAAE,SAAAsP,EAAOC,GAA2B,IAAAC,EAAA7Q,EAAA,OAAAoB,MAAAM,MAAA,SAAAoP,GAAA,cAAAA,EAAAlP,KAAAkP,EAAAjP,MAAA,cAAAiP,EAAAjP,KAAA,EACrBsK,EAAAA,GAAY4E,YAAYH,GAAO,OAKrD,OALqDC,EAAAC,EAAAhP,KACpC,KADV9B,EAAI6Q,EAAJ7Q,MACCgR,OACPzQ,EAAAA,GAAQ0Q,QAAQrU,EAAE,qBAClBwT,EAAYc,kBAAkB,CAAEpF,SAAU,CAAC,eAC3CsE,EAAYc,kBAAkB,CAAEpF,SAAU,CAAC,kBAC5CgF,EAAA/O,OAAA,SACM/B,EAAKgR,MAAI,wBAAAF,EAAA9O,OAAA,GAAA2O,EAAA,KACjB,SAAAQ,GAAA,OAAAhB,EAAA7D,MAAA,KAAAvJ,UAAA,KAGH,MAAO,CAAE/C,KAhBHuQ,EAAJvQ,KAgBaJ,QAfK2Q,EAAlBa,UAesBC,WAdXd,EAAXe,YAeJ,EAWaC,EAAoB,WAC/B,IAOYC,EAPJ5U,GAAM0T,EAAAA,EAAAA,MAAN1T,EACR6U,GAIIjB,EAAAA,EAAAA,GAAY,CACdC,YAAa,CAAC,kBACdC,YAAUc,EAAArQ,IAAAC,MAAAC,MAAE,SAAAqQ,EAAOd,GAAuC,IAAAe,EAAA3R,EAAA,OAAAoB,MAAAM,MAAA,SAAAkQ,GAAA,cAAAA,EAAAhQ,KAAAgQ,EAAA/P,MAAA,cAAA+P,EAAA/P,KAAA,EACjCsK,EAAAA,GAAY0F,gBAAgBjB,GAAO,OAGzD,OAHyDe,EAAAC,EAAA9P,KACxC,KADV9B,EAAI2R,EAAJ3R,MACCgR,MACPzQ,EAAAA,GAAQ0Q,QAAQrU,EAAE,qBACnBgV,EAAA7P,OAAA,SACM/B,EAAKgR,MAAI,wBAAAY,EAAA5P,OAAA,GAAA0P,EAAA,KACjB,SAAAI,GAAA,OAAAN,EAAAlF,MAAA,KAAAvJ,UAAA,KAGH,MAAO,CAAE/C,KAdHyR,EAAJzR,KAcaJ,QAbK6R,EAAlBL,UAasBW,eAZXN,EAAXH,YAaJ,EAEaU,EAAY,WACvB,IAQYC,EARN7B,GAAcC,EAAAA,EAAAA,MACZzT,GAAM0T,EAAAA,EAAAA,MAAN1T,EACRsV,GAII1B,EAAAA,EAAAA,GAAY,CACdC,YAAa,CAAC,UACdC,YAAUuB,EAAA9Q,IAAAC,MAAAC,MAAE,SAAA8Q,EAAOvB,GAA0B,IAAAwB,EAAApS,EAAA,OAAAoB,MAAAM,MAAA,SAAA2Q,GAAA,cAAAA,EAAAzQ,KAAAyQ,EAAAxQ,MAAA,cAAAwQ,EAAAxQ,KAAA,EACpBsK,EAAAA,GAAYmG,QAAQ1B,GAAO,OAKjD,OALiDwB,EAAAC,EAAAvQ,KAChC,KADV9B,EAAIoS,EAAJpS,MACCgR,OACPZ,EAAYc,kBAAkB,CAAEpF,SAAU,CAAC,eAC3CsE,EAAYc,kBAAkB,CAAEpF,SAAU,CAAC,iBAC3CvL,EAAAA,GAAQ0Q,QAAQrU,EAAE,sBACnByV,EAAAtQ,OAAA,SACM/B,EAAKgR,MAAI,wBAAAqB,EAAArQ,OAAA,GAAAmQ,EAAA,KACjB,SAAAI,GAAA,OAAAN,EAAA3F,MAAA,KAAAvJ,UAAA,KAGH,MAAO,CAAE/C,KAhBHkS,EAAJlS,KAgBaJ,QAfKsS,EAAlBd,UAesBoB,OAdXN,EAAXZ,YAeJ,EAEamB,EAAe,WAC1B,IAQYC,EARNtC,GAAcC,EAAAA,EAAAA,MACZzT,GAAM0T,EAAAA,EAAAA,MAAN1T,EACR+V,GAIInC,EAAAA,EAAAA,GAAY,CACdC,YAAa,CAAC,aACdC,YAAUgC,EAAAvR,IAAAC,MAAAC,MAAE,SAAAuR,EAAOhC,GAA6B,IAAAiC,EAAA7S,EAAA,OAAAoB,MAAAM,MAAA,SAAAoR,GAAA,cAAAA,EAAAlR,KAAAkR,EAAAjR,MAAA,cAAAiR,EAAAjR,KAAA,EACvBsK,EAAAA,GAAY4G,WAAWnC,GAAO,OAKpD,OALoDiC,EAAAC,EAAAhR,KACnC,KADV9B,EAAI6S,EAAJ7S,MACCgR,OACPZ,EAAYc,kBAAkB,CAAEpF,SAAU,CAAC,eAC3CsE,EAAYc,kBAAkB,CAAEpF,SAAU,CAAC,iBAC3CvL,EAAAA,GAAQ0Q,QAAQrU,EAAE,qBACnBkW,EAAA/Q,OAAA,SACM/B,EAAKgR,MAAI,wBAAA8B,EAAA9Q,OAAA,GAAA4Q,EAAA,KACjB,SAAAI,GAAA,OAAAN,EAAApG,MAAA,KAAAvJ,UAAA,KAGH,MAAO,CAAE/C,KAhBH2S,EAAJ3S,KAgBaJ,QAfK+S,EAAlBvB,UAesB6B,UAdXN,EAAXrB,YAeJ,EAEa4B,EAAmB,WAC9B,IAQYC,EARN/C,GAAcC,EAAAA,EAAAA,MACZzT,GAAM0T,EAAAA,EAAAA,MAAN1T,EACRwW,GAII5C,EAAAA,EAAAA,GAAY,CACdC,YAAa,CAAC,iBACdC,YAAUyC,EAAAhS,IAAAC,MAAAC,MAAE,SAAAgS,EAAOzC,GAA6B,IAAA0C,EAAAtT,EAAA,OAAAoB,MAAAM,MAAA,SAAA6R,GAAA,cAAAA,EAAA3R,KAAA2R,EAAA1R,MAAA,cAAA0R,EAAA1R,KAAA,EACvBsK,EAAAA,GAAYqH,cAAc5C,GAAO,OAKvD,OALuD0C,EAAAC,EAAAzR,KACtC,KADV9B,EAAIsT,EAAJtT,MACCgR,OACPZ,EAAYc,kBAAkB,CAAEpF,SAAU,CAAC,eAC3CsE,EAAYc,kBAAkB,CAAEpF,SAAU,CAAC,iBAC3CvL,EAAAA,GAAQ0Q,QAAQrU,EAAE,qBACnB2W,EAAAxR,OAAA,SACM/B,EAAKgR,MAAI,wBAAAuC,EAAAvR,OAAA,GAAAqR,EAAA,KACjB,SAAAI,GAAA,OAAAN,EAAA7G,MAAA,KAAAvJ,UAAA,KAGH,MAAO,CAAE/C,KAhBHoT,EAAJpT,KAgBaJ,QAfKwT,EAAlBhC,UAesBoC,cAdXJ,EAAX9B,YAeJ,C,sjBCxSaoC,EAAmB,WAC9B,IAMS/H,EANDgI,GAASrD,EAAAA,EAAAA,MAATqD,KAER/H,GAAsCC,EAAAA,EAAAA,GAAS,CAC7CC,SAAU,CAAC,YACXC,YAAa,CAAC,EACd6C,OAAQ,EACR5C,SAAOL,EAAAxK,IAAAC,MAAAC,MAAE,SAAAC,IAAA,IAAA2K,EAAA2H,EAAA5T,EAAA,OAAAoB,MAAAM,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACgBsK,EAAAA,GAAY0H,YAAW,OAO7C,OAP6CD,EAAAjS,EAAAG,KAC5B,KADV9B,EAAI4T,EAAJ5T,MACCgR,MACP2C,EAAKG,eACHhJ,EAAAA,GACE9K,EAAKA,KAAK+T,WAGfpS,EAAAI,OAAA,SACgB,QADhBkK,EACMjM,aAAI,EAAJA,EAAMA,YAAI,IAAAiM,EAAAA,EAAI,CAAC,GAAC,wBAAAtK,EAAAK,OAAA,GAAAV,EAAA,KACxB,kBAAAqK,EAAAW,MAAA,KAAAvJ,UAAA,KAGH,MAAO,CAAE/C,KAjBG4L,EAAJ5L,KAiBOJ,QAjBkBgM,EAAnBoD,WAkBhB,EAEagF,EAAqB,WAEC,IAMxBvF,EAPTwF,EAAkBlR,UAAA9B,OAAA,QAAA+B,IAAAD,UAAA,IAAAA,UAAA,GAElBmR,GAAc5D,EAAAA,EAAAA,MACd5B,GADSwF,EAADtX,GAC8BiP,EAAAA,EAAAA,GAAS,CAC7CC,SAAU,CAAC,cACXC,YAAa,CAAC,EACd6C,OAAQ,EACR5C,SAAOyC,EAAAtN,IAAAC,MAAAC,MAAE,SAAAoB,IAAA,IAAA0R,EAAAC,EAAAC,EAAA,OAAAjT,MAAAM,MAAA,SAAAgB,GAAA,cAAAA,EAAAd,KAAAc,EAAAb,MAAA,cAAAa,EAAAb,KAAA,EACqBsK,EAAAA,GAAYmI,kBAAiB,OAA7C,GAA6CH,EAAAzR,EAAAZ,KACxC,KADHsS,EAAGD,EAATnU,MACAgR,KAAU,CAAAtO,EAAAb,KAAA,SAuBkB,OApB1B7B,EAASoU,EAATpU,KAENiU,KACCM,EAAAA,EAAAA,SAAQvU,EAAKwU,WAAYD,EAAAA,EAAAA,SAAQvU,EAAKyU,SAgBzCzU,EAAK0U,QAAU1U,EAAKyU,OACpBzU,EAAK2U,eAAiB3U,EAAK4U,OAAOlS,EAAAX,OAAA,SAE3B/B,GAAI,eAAA0C,EAAAX,OAAA,SAGNqS,GAAG,yBAAA1R,EAAAV,OAAA,GAAAS,EAAA,KACX,kBAAAgM,EAAAnC,MAAA,KAAAvJ,UAAA,MAnCK/C,EAAI0O,EAAJ1O,KAAkBJ,EAAO8O,EAAnBM,WAsCd,MAAO,CAAEhP,KAAAA,EAAMJ,QAAAA,EACjB,EAEaiV,EAAsB,WAIjC,IAAcC,EAAed,GAAmB,GAAxChU,KAUR,OARmB4F,EAAAA,EAAAA,UAAQ,WAAM,IAAAmP,EAAAC,EAE/B,OADqE,QAArCD,EAAGD,SAAsB,QAAZE,EAAVF,EAAYG,kBAAU,IAAAD,OAAA,EAAtBA,EAAwB5H,MAAM,YAAI,IAAA2H,EAAAA,EAAI,IACtDlR,KAAI,SAACC,GACtB,IAAMoR,EAAMpR,EAAEsJ,MAAM,KACpB,MAAO,CAAEnJ,MAAOiR,EAAI,GAAI5X,MAAO4X,EAAI,GACrC,GACF,GAAG,CAACJ,GAGN,EAEaK,EAAiB,WAC5B,IAQYhF,EARNC,GAAcC,EAAAA,EAAAA,MACZzT,GAAM0T,EAAAA,EAAAA,MAAN1T,EACR2T,GAIIC,EAAAA,EAAAA,GAAY,CACdC,YAAa,CAAC,eACdC,YAAUP,EAAAhP,IAAAC,MAAAC,MAAE,SAAAoC,EACV2R,GAAuD,IAAAvE,EAAA7Q,EAAA,OAAAoB,MAAAM,MAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAAA6B,EAAA7B,KAAA,EAEhCsK,EAAAA,GAAYkJ,QAAQD,GAAS,OAInD,OAJmDvE,EAAAnN,EAAA5B,KAClC,KADV9B,EAAI6Q,EAAJ7Q,MACCgR,OACPzQ,EAAAA,GAAQ0Q,QAAQrU,EAAE,qBAClBwT,EAAYc,kBAAkB,CAAEpF,SAAU,CAAC,eAC5CpI,EAAA3B,OAAA,SACM/B,aAAI,EAAJA,EAAMgR,MAAI,wBAAAtN,EAAA1B,OAAA,GAAAyB,EAAA,KAClB,SAAA0N,GAAA,OAAAhB,EAAA7D,MAAA,KAAAvJ,UAAA,KAGH,MAAO,CAAE/C,KAjBHuQ,EAAJvQ,KAiBaJ,QAhBK2Q,EAAlBa,UAgBsBkE,YAfX/E,EAAXe,YAgBJ,EAEaiE,EAAwB,WACnC,IAAAC,GAA8BC,EAAAA,EAAAA,UAAS,IAAGC,EAAA9I,IAAA4I,EAAA,GAAnCG,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GAC1BG,GAA8BJ,EAAAA,EAAAA,WAAS,GAAMK,EAAAlJ,IAAAiJ,EAAA,GAAtCjW,EAAOkW,EAAA,GAAEC,EAAUD,EAAA,GAe1B,MAAO,CAAEE,oBAbkB5V,EAAAA,EAAAA,aAAWe,IAAAC,MAAAC,MAAC,SAAAsP,IAAA,IAAAsF,EAAAjW,EAAA,OAAAoB,MAAAM,MAAA,SAAAoP,GAAA,cAAAA,EAAAlP,KAAAkP,EAAAjP,MAAA,OAElB,OAFkBiP,EAAAlP,KAAA,EAEnCmU,GAAW,GAAMjF,EAAAjP,KAAA,EACMsK,EAAAA,GAAY+J,mBAAkB,OAAAD,EAAAnF,EAAAhP,KACnC,KADV9B,EAAIiW,EAAJjW,MACCgR,OACP4E,EAAW5V,EAAKA,MAChB+V,GAAW,IACZjF,EAAAjP,KAAA,gBAAAiP,EAAAlP,KAAA,EAAAkP,EAAAqF,GAAArF,EAAA,SAEDiF,GAAW,GAAO,yBAAAjF,EAAA9O,OAAA,GAAA2O,EAAA,kBAEnB,IAE0BgF,QAAAA,EAAS/V,QAAAA,EACxC,EAEawW,EAAuB,WAClC,IAAAC,GAAwCZ,EAAAA,EAAAA,UACtC,CAAC,GACFa,EAAA1J,IAAAyJ,EAAA,GAFME,EAAYD,EAAA,GAAEE,EAAeF,EAAA,GAGpCG,GAA8BhB,EAAAA,EAAAA,WAAS,GAAMiB,EAAA9J,IAAA6J,EAAA,GAAtC7W,EAAO8W,EAAA,GAAEX,EAAUW,EAAA,GAW1B,MAAO,CACLH,aAAAA,EACAI,mBAXwBvW,EAAAA,EAAAA,aAAWe,IAAAC,MAAAC,MAAC,SAAAqQ,IAAA,IAAAkF,EAAA5W,EAAA,OAAAoB,MAAAM,MAAA,SAAAkQ,GAAA,cAAAA,EAAAhQ,KAAAgQ,EAAA/P,MAAA,OACnB,OAAjBkU,GAAW,GAAMnE,EAAA/P,KAAA,EACMsK,EAAAA,GAAY0K,kBAAiB,OAAAD,EAAAhF,EAAA9P,KAClC,KADV9B,EAAI4W,EAAJ5W,MACCgR,OACPwF,EAAgBxW,EAAKA,MACrB+V,GAAW,IACZ,wBAAAnE,EAAA5P,OAAA,GAAA0P,EAAA,KACA,IAKD9R,QAAAA,EAEJ,EAEaiB,EAAgC,WAC3C,IAMY2Q,EANZC,GAIIjB,EAAAA,EAAAA,GAAY,CACdC,YAAa,CAAC,8BACdC,YAAUc,EAAArQ,IAAAC,MAAAC,MAAE,SAAA8Q,IAAA,IAAA/C,EAAA0H,EAAA9W,EAAA,OAAAoB,MAAAM,MAAA,SAAA2Q,GAAA,cAAAA,EAAAzQ,KAAAyQ,EAAAxQ,MAAA,cAAAwQ,EAAAxQ,KAAA,EACasK,EAAAA,GAAY4K,YAAW,OAAlC,OAAkCD,EAAAzE,EAAAvQ,KAAtC9B,EAAI8W,EAAJ9W,KAAIqS,EAAAtQ,OAAA,SAEK,QAFLqN,EAELpP,aAAI,EAAJA,EAAMA,YAAI,IAAAoP,EAAAA,EAAI,IAAE,wBAAAiD,EAAArQ,OAAA,GAAAmQ,EAAA,KACxB,kBAAAX,EAAAlF,MAAA,KAAAvJ,UAAA,KAGH,MAAO,CAAE/C,KAZHyR,EAAJzR,KAYaJ,QAXK6R,EAAlBL,UAWsBtQ,qBAVX2Q,EAAXH,YAWJ,EAEaxR,EAA0B,WACrC,IAQSyO,EARTC,GAII3C,EAAAA,EAAAA,GAAmB,CACrBC,SAAU,CAAC,wBACXC,YAAa,GACb6C,OAAQ,EACR5C,SAAOuC,EAAApN,IAAAC,MAAAC,MAAE,SAAAuR,IAAA,IAAA/D,EAAAmI,EAAAhX,EAAA,OAAAoB,MAAAM,MAAA,SAAAoR,GAAA,cAAAA,EAAAlR,KAAAkR,EAAAjR,MAAA,cAAAiR,EAAAjR,KAAA,EACgBsK,EAAAA,GAAY4K,YAAW,OAAlC,OAAkCC,EAAAlE,EAAAhR,KAAtC9B,EAAIgX,EAAJhX,KAAI8S,EAAA/Q,OAAA,SAEK,QAFL8M,EAEL7O,aAAI,EAAJA,EAAMA,YAAI,IAAA6O,EAAAA,EAAI,IAAE,wBAAAiE,EAAA9Q,OAAA,GAAA4Q,EAAA,KACxB,kBAAArE,EAAAjC,MAAA,KAAAvJ,UAAA,KAGH,MAAO,CAAE/C,KAdHwO,EAAJxO,KAcaJ,QAbM4O,EAAnBQ,WAasBiI,QAZfzI,EAAPyI,QAaJ,EAEa1X,EAAuB,WAClC,IASY0S,EATN7B,GAAcC,EAAAA,EAAAA,MACZzT,GAAM0T,EAAAA,EAAAA,MAAN1T,EAERsV,GAII1B,EAAAA,EAAAA,GAAY,CACdC,YAAa,CAAC,qBACdC,YAAUuB,EAAA9Q,IAAAC,MAAAC,MAAE,SAAAgS,EAAO9W,GAAa,IAAA2a,EAAAC,EAAAnX,EAAA,OAAAoB,MAAAM,MAAA,SAAA6R,GAAA,cAAAA,EAAA3R,KAAA2R,EAAA1R,MAAA,cAAA0R,EAAA1R,KAAA,EACPsK,EAAAA,GAAY7M,YAAY,CAAC,EAAG/C,GAAM,OAIxD,OAJwD4a,EAAA5D,EAAAzR,KACvC,KADV9B,EAAImX,EAAJnX,MACCgR,OACPzQ,EAAAA,GAAQ0Q,QAAQrU,EAAE,oBAClBwT,EAAYc,kBAAkB,CAAEpF,SAAU,CAAC,2BAC5CyH,EAAAxR,OAAA,SACgB,QADhBmV,EACMlX,aAAI,EAAJA,EAAMA,YAAI,IAAAkX,EAAAA,EAAI,IAAE,wBAAA3D,EAAAvR,OAAA,GAAAqR,EAAA,KACxB,SAAAvB,GAAA,OAAAG,EAAA3F,MAAA,KAAAvJ,UAAA,KAGH,MAAO,CAAE/C,KAfHkS,EAAJlS,KAeaJ,QAdKsS,EAAlBd,UAcsB9R,YAbX4S,EAAXZ,YAcJ,EAEa7R,EAAuB,WAClC,IAQYiT,EARNtC,GAAcC,EAAAA,EAAAA,MAEpBsC,GAIInC,EAAAA,EAAAA,GAAY,CACdC,YAAa,CAAC,qBACdC,YAAUgC,EAAAvR,IAAAC,MAAAC,MAAE,SAAA+V,EAAOxG,GAA2B,IAAAyG,EAAAC,EAAAtX,EAAA,OAAAoB,MAAAM,MAAA,SAAA6V,GAAA,cAAAA,EAAA3V,KAAA2V,EAAA1V,MAAA,cAAA0V,EAAA1V,KAAA,EACrBsK,EAAAA,GAAYzM,YAAYkR,GAAO,OAGrD,OAHqD0G,EAAAC,EAAAzV,KACpC,KADV9B,EAAIsX,EAAJtX,MACCgR,MACPZ,EAAYc,kBAAkB,CAAEpF,SAAU,CAAC,0BAC5CyL,EAAAxV,OAAA,SACgB,QADhBsV,EACMrX,aAAI,EAAJA,EAAMA,YAAI,IAAAqX,EAAAA,EAAI,IAAE,wBAAAE,EAAAvV,OAAA,GAAAoV,EAAA,KACxB,SAAA7E,GAAA,OAAAG,EAAApG,MAAA,KAAAvJ,UAAA,KAGH,MAAO,CAAE/C,KAdH2S,EAAJ3S,KAcaJ,QAbK+S,EAAlBvB,UAasB1R,YAZXiT,EAAXrB,YAaJ,EAEakG,EAAoB,WAC/B,IAWSC,EAVHC,EADuB1D,IAArBhU,KACoB2X,UAC5BC,GAII/L,EAAAA,EAAAA,GAAwB,CAC1BC,SAAU,CAAC,iBAAkB4L,GAC7B3L,YAAa,GACb6C,OAAQ,EACRiJ,UAAWH,EACX1L,SAAOyL,EAAAtW,IAAAC,MAAAC,MAAE,SAAAyW,IAAA,IAAAC,EAAAC,EAAAhY,EAAA,OAAAoB,MAAAM,MAAA,SAAAuW,GAAA,cAAAA,EAAArW,KAAAqW,EAAApW,MAAA,cAAAoW,EAAApW,KAAA,GACgBqW,EAAAA,EAAAA,IAAeR,GAAS,OAAnC,OAAmCM,EAAAC,EAAAnW,KAAvC9B,EAAIgY,EAAJhY,KAAIiY,EAAAlW,OAAA,SAEK,QAFLgW,EAEL/X,aAAI,EAAJA,EAAMA,YAAI,IAAA+X,EAAAA,EAAI,IAAE,wBAAAE,EAAAjW,OAAA,GAAA8V,EAAA,KACxB,kBAAAL,EAAAnL,MAAA,KAAAvJ,UAAA,KAGH,MAAO,CAAE/C,KAfH4X,EAAJ5X,KAeaJ,QAdMgY,EAAnB5I,WAcsBiI,QAbfW,EAAPX,QAcJ,EAEakB,EAAmB,WAC9B,IAQYhF,EARE2B,EAAed,IAArBhU,KACFoQ,GAAcC,EAAAA,EAAAA,MACpB+C,GAII5C,EAAAA,EAAAA,GAAY,CACdC,YAAa,CAAC,iBACdC,YAAUyC,EAAAhS,IAAAC,MAAAC,MAAE,SAAA+W,EAAOC,GAAa,IAAAC,EAAAtY,EAAA,OAAAoB,MAAAM,MAAA,SAAA6W,GAAA,cAAAA,EAAA3W,KAAA2W,EAAA1W,MAAA,cAAA0W,EAAA1W,KAAA,GACP2W,EAAAA,EAAAA,IAAc1D,EAAW6C,UAAWU,GAAM,OAGhE,OAHgEC,EAAAC,EAAAzW,KAC/C,KADV9B,EAAIsY,EAAJtY,MACCgR,MACPZ,EAAYc,kBAAkB,CAAEpF,SAAU,CAAC,oBAC5CyM,EAAAxW,OAAA,SACM/B,aAAI,EAAJA,EAAMgR,MAAI,wBAAAuH,EAAAvW,OAAA,GAAAoW,EAAA,KAClB,SAAApF,GAAA,OAAAG,EAAA7G,MAAA,KAAAvJ,UAAA,KAGH,MAAO,CAAE/C,KAdHoT,EAAJpT,KAcaJ,QAbKwT,EAAlBhC,UAasBoH,cAZXpF,EAAX9B,YAaJ,EAEamH,EAAsB,WACjC,IAUYC,EAVE5D,EAAed,IAArBhU,KACFoQ,GAAcC,EAAAA,EAAAA,MACZzT,GAAM0T,EAAAA,EAAAA,MAAN1T,EAER+b,GAIInI,EAAAA,EAAAA,GAAY,CACdC,YAAa,CAAC,oBACdC,YAAUgI,EAAAvX,IAAAC,MAAAC,MAAE,SAAAuX,EAAAnR,GAAA,IAAAoR,EAAAC,EAAApB,EAAAqB,EAAA/Y,EAAA,OAAAoB,MAAAM,MAAA,SAAAsX,GAAA,cAAAA,EAAApX,KAAAoX,EAAAnX,MAAA,OAEF,OADRiX,EAAMrR,EAANqR,OACApB,EAAQjQ,EAARiQ,SAAQsB,EAAAnX,KAAA,GAKeoX,EAAAA,EAAAA,IAAiB,CACtCvB,SAAUA,QAAAA,EAAY5C,EAAW6C,UACjCmB,OAAAA,IACA,OAKD,OALCC,EAAAC,EAAAlX,KACgB,KAJV9B,EAAI+Y,EAAJ/Y,MAICgR,OACPzQ,EAAAA,GAAQ0Q,QAAQrU,EAAE,oBAClBwT,EAAYc,kBAAkB,CAAEpF,SAAU,CAAC,oBAC3CsE,EAAYc,kBAAkB,CAAEpF,SAAU,CAAC,iBAC5CkN,EAAAjX,OAAA,SACgB,QADhB8W,EACM7Y,aAAI,EAAJA,EAAMA,YAAI,IAAA6Y,EAAAA,EAAI,IAAE,wBAAAG,EAAAhX,OAAA,GAAA4W,EAAA,KACxB,SAAAnF,GAAA,OAAAiF,EAAApM,MAAA,KAAAvJ,UAAA,KAGH,MAAO,CAAE/C,KAzBH2Y,EAAJ3Y,KAyBaJ,QAxBK+Y,EAAlBvH,UAwBsB6H,iBAvBXN,EAAXrH,YAwBJ,EAEa4H,EAAgB,WAC3B,IAWSC,EAVHzB,EADuB1D,IAArBhU,KACoB2X,UAC5ByB,GAIIvN,EAAAA,EAAAA,GAAoB,CACtBC,SAAU,CAAC,aAAc4L,GACzB3L,YAAa,GACb6C,OAAQ,EACRiJ,UAAWH,EACX1L,SAAOmN,EAAAhY,IAAAC,MAAAC,MAAE,SAAAgY,IAAA,IAAAC,EAAAC,EAAAvZ,EAAA,OAAAoB,MAAAM,MAAA,SAAA8X,GAAA,cAAAA,EAAA5X,KAAA4X,EAAA3X,MAAA,cAAA2X,EAAA3X,KAAA,GACgB4X,EAAAA,EAAAA,MAAY,OAAvB,OAAuBF,EAAAC,EAAA1X,KAA3B9B,EAAIuZ,EAAJvZ,KAAIwZ,EAAAzX,OAAA,SAEK,QAFLuX,EAELtZ,aAAI,EAAJA,EAAMA,YAAI,IAAAsZ,EAAAA,EAAI,IAAE,wBAAAE,EAAAxX,OAAA,GAAAqX,EAAA,KACxB,kBAAAF,EAAA7M,MAAA,KAAAvJ,UAAA,KAGH,MAAO,CAAE/C,KAfHoZ,EAAJpZ,KAeaJ,QAdMwZ,EAAnBpK,WAcsBiI,QAbfmC,EAAPnC,QAcJ,EAEayC,EAAiB,WAC5B,IASYC,EATNvJ,GAAcC,EAAAA,EAAAA,MACZzT,GAAM0T,EAAAA,EAAAA,MAAN1T,EAERgd,GAIIpJ,EAAAA,EAAAA,GAAY,CACdC,YAAa,CAAC,eACdC,YAAUiJ,EAAAxY,IAAAC,MAAAC,MAAE,SAAAwY,EAAOnC,GAAgB,IAAAoC,EAAAC,EAAA/Z,EAAA,OAAAoB,MAAAM,MAAA,SAAAsY,GAAA,cAAAA,EAAApY,KAAAoY,EAAAnY,MAAA,cAAAmY,EAAAnY,KAAA,GACVoY,EAAAA,EAAAA,IAAYvC,GAAS,OAI3C,OAJ2CqC,EAAAC,EAAAlY,KAC1B,KADV9B,EAAI+Z,EAAJ/Z,MACCgR,OACPzQ,EAAAA,GAAQ0Q,QAAQrU,EAAE,qBAClBwT,EAAYc,kBAAkB,CAAEpF,SAAU,CAAC,iBAC5CkO,EAAAjY,OAAA,SACgB,QADhB+X,EACM9Z,aAAI,EAAJA,EAAMA,YAAI,IAAA8Z,EAAAA,EAAI,IAAE,wBAAAE,EAAAhY,OAAA,GAAA6X,EAAA,KACxB,SAAAK,GAAA,OAAAP,EAAArN,MAAA,KAAAvJ,UAAA,KAGH,MAAO,CAAE/C,KAfH4Z,EAAJ5Z,KAeaJ,QAdKga,EAAlBxI,UAcsB6I,YAbXL,EAAXtI,YAcJ,C,2MCnXE6I,EAmBEC,EAAAA,EAnBFD,MACAE,EAkBED,EAAAA,EAlBFC,OACAC,EAiBEF,EAAAA,EAjBFE,SACAjF,EAgBE+E,EAAAA,EAhBF/E,QACAxB,EAeEuG,EAAAA,EAfFvG,UACA0G,EAcEH,EAAAA,EAdFG,YACAjL,EAaE8K,EAAAA,EAbF9K,eACAlD,EAYEgO,EAAAA,EAZFhO,SACA2C,EAWEqL,EAAAA,EAXFrL,OACAgC,EAUEqJ,EAAAA,EAVFrJ,YACAc,EASEuI,EAAAA,EATFvI,gBACAS,EAQE8H,EAAAA,EARF9H,QACAS,EAOEqH,EAAAA,EAPFrH,WACAS,EAME4G,EAAAA,EANF5G,cACAqD,EAKEuD,EAAAA,EALFvD,gBACAX,EAIEkE,EAAAA,EAJFlE,iBACAsE,EAGEJ,EAAAA,EAHFI,mBACAC,EAEEL,EAAAA,EAFFK,kBAIIC,EAAU,CACdP,MAAO,CACLQ,IAAKR,EACLS,OAAQ,QAEVP,OAAQ,CACNM,IAAKN,EACLO,OAAQ,OAEVN,SAAU,CACRK,IAAKL,EACLM,OAAQ,QAEVvF,QAAS,CACPsF,IAAKtF,EACLuF,OAAQ,QAEV/G,UAAW,CACT8G,IAAK9G,EACL+G,OAAQ,OAEVtG,gBAAiB,CACfqG,IAAKJ,EACLK,OAAQ,OAEV/I,gBAAiB,CACf8I,IAAK9I,EACL+I,OAAQ,QAEVtL,eAAgB,CACdqL,IAAKrL,EACLsL,OAAQ,OAEVxO,SAAU,CACRuO,IAAKvO,EACLwO,OAAQ,OAEV7L,OAAQ,CACN4L,IAAK5L,EACL6L,OAAQ,OAEV7J,YAAa,CACX4J,IAAK5J,EACL6J,OAAQ,QAEVtI,QAAS,CACPqI,IAAKrI,EACLsI,OAAQ,QAEV7H,WAAY,CACV4H,IAAK5H,EACL6H,OAAQ,QAEV/D,gBAAiB,CACf8D,IAAK9D,EACL+D,OAAQ,OAEV1E,iBAAkB,CAChByE,IAAKzE,EACL0E,OAAQ,OAEVpH,cAAe,CACbmH,IAAKnH,EACLoH,OAAQ,QAEV7D,UAAW,CACT4D,IAAKH,EACLI,OAAQ,OAEVlb,YAAa,CACXib,IAxEAP,EAAAA,EADFS,kBA0EED,OAAQ,QAEVtb,YAAa,CACXqb,IAAKF,EACLG,OAAQ,WAINzO,GAAc2O,EAAAA,EAAAA,GAAqCJ,EAASK,EAAAA,IAErD7C,EAAiB,SAACR,GAAgB,OAC7CqD,EAAAA,GAAAA,IAAYX,EAAAA,EAAIlC,eAAeR,GAAU,EAE9Bc,EAAgB,SAACd,EAAkBW,GAAa,OAC3D2C,EAAAA,EAAAA,IAAKZ,EAAAA,EAAI5B,cAAcd,GAAW,CAAEW,MAAAA,GAAQ,EAEjCY,EAAmB,SAAH9c,GAAA,IAC3Bub,EAAQvb,EAARub,SACAoB,EAAM3c,EAAN2c,OAAM,OAIFiC,EAAAA,GAAO,OAAQX,EAAAA,EAAInB,iBAAiBvB,EAAUoB,GAAQ,EAE/CW,EAAa,WAAH,OAASsB,EAAAA,GAAAA,IAAYX,EAAAA,EAAIX,WAAW,EAE9CQ,EAAc,SAACvC,GAAgB,OAC1CqD,EAAAA,GAAAA,IAAYX,EAAAA,EAAIH,YAAYvC,GAAU,EAExC,M,qEC9HA,IAAIuD,EAAW,sDAIf,KAEEd,MAAO,GAAFld,OAAKge,EAAQ,eAClBZ,OAAQ,GAAFpd,OAAKge,EAAQ,gBACnBX,SAAU,GAAFrd,OAAKge,EAAQ,kBACrB5F,QAAS,GAAFpY,OAAKge,EAAQ,iBACpBpH,UAAW,GAAF5W,OAAKge,EAAQ,cACtBV,YAAa,GAAFtd,OAAKge,EAAQ,qBACxBpJ,gBAAiB,GAAF5U,OAAKge,EAAQ,yBAG5BzC,cAAe,SAACd,GAAgB,SAAAza,OAAQge,EAAQ,YAAAhe,OAAWya,EAAQ,UACnEQ,eAAgB,SAACR,GAAgB,SAAAza,OAC5Bge,EAAQ,YAAAhe,OAAWya,EAAQ,eAChCuB,iBAAkB,SAACvB,EAAkBoB,GAAc,SAAA7b,OAC9Cge,EAAQ,YAAAhe,OAAWya,EAAQ,UAAAza,OAAS6b,EAAM,EAC/CW,WAAY,GAAFxc,OAAKge,EAAQ,gBACvBhB,YAAa,SAACvC,GAAgB,SAAAza,OAAQge,EAAQ,kBAAAhe,OAAiBya,EAAQ,EAGvEpI,eAAgB,GAAFrS,OAAKge,EAAQ,kBAC3B7O,SAAU,GAAFnP,OAAKge,EAAQ,aACrBlM,OAAQ,GAAF9R,OAAKge,EAAQ,gBACnBlK,YAAa,GAAF9T,OAAKge,EAAQ,oBACxB3I,QAAS,GAAFrV,OAAKge,EAAQ,gBACpBlI,WAAY,GAAF9V,OAAKge,EAAQ,mBACvBzH,cAAe,GAAFvW,OAAKge,EAAQ,uBAG1BC,QAAS,GAAFje,OAAKge,EAAQ,YACpBE,UAAW,GAAFle,OAAKge,EAAQ,cACtBG,UAAW,GAAFne,OAAKge,EAAQ,cACtBI,MAAO,GAAFpe,OAAKge,EAAQ,UAClBK,cAAe,GAAFre,OAAKge,EAAQ,cAC1BM,kBAAmB,SAACC,GAAmB,SAAAve,OAClCge,EAAQ,QAAAhe,OAAOue,EAAW,qBAG/BC,QAAS,SAACD,GAAmB,SAAAve,OAAQge,EAAQ,QAAAhe,OAAOue,EAAW,UAC/DE,sBAAuB,GAAFze,OAAKge,EAAQ,YAClCU,UAAW,SAACH,GAAmB,SAAAve,OAAQge,EAAQ,QAAAhe,OAAOue,EAAW,aACjEI,UAAW,SAACJ,GAAmB,SAAAve,OAC1Bge,EAAQ,QAAAhe,OAAOue,EAAW,gBAG/BK,WAAY,GAAF5e,OAAKge,EAAQ,eACvBa,aAAc,GAAF7e,OAAKge,EAAQ,iBACzBc,UAAW,GAAF9e,OAAKge,EAAQ,cACtBe,UAAW,GAAF/e,OAAKge,EAAQ,cACtBgB,aAAc,GAAFhf,OAAKge,EAAQ,iBACzBiB,SAAU,GAAFjf,OAAKge,EAAQ,aACrBkB,eAAgB,GAAFlf,OAAKge,EAAQ,yBAC3BmB,gBAAiB,GAAFnf,OAAKge,EAAQ,0BAG5BoB,kBAAmB,GAAFpf,OAAKge,EAAQ,kBAC9BqB,uBAAwB,GAAFrf,OAAKge,EAAQ,2BACnCsB,YAAa,GAAFtf,OAAKge,EAAQ,gBACxBuB,gBAAiB,GAAFvf,OAAKge,EAAQ,iBAC5BwB,gBAAiB,GAAFxf,OAAKge,EAAQ,oBAC5ByB,gBAAiB,GAAFzf,OAAKge,EAAQ,oBAC5B0B,aAAc,GAAF1f,OAAKge,EAAQ,iBACzB2B,uBAAwB,GAAF3f,OAAKge,EAAQ,2BACnC4B,oBAAqB,GAAF5f,OAAKge,EAAQ,wBAChC6B,kBAAmB,GAAF7f,OAAKge,EAAQ,iBAC9B8B,gBAAiB,GAAF9f,OAAKge,EAAQ,oBAC5B+B,UAAW,GAAF/f,OAAKge,EAAQ,uBACtBgC,eAAgB,GAAFhgB,OAAKge,EAAQ,mBAC3BiC,iBAAkB,GAAFjgB,OAAKge,EAAQ,8BAC7BkC,MAAO,GAAFlgB,OAAKge,EAAQ,mBAClBmC,QAAS,GAAFngB,OAAKge,EAAQ,sBAGpBoC,UAAW,GAAFpgB,OAAKge,EAAQ,eACtBqC,UAAW,GAAFrgB,OAAKge,EAAQ,eACtBsC,aAAc,GAAFtgB,OAAKge,EAAQ,cACzBuC,WAAY,GAAFvgB,OAAKge,EAAQ,gBACvBwC,gBAAiB,GAAFxgB,OAAKge,EAAQ,qBAC5ByC,gBAAiB,GAAFzgB,OAAKge,EAAQ,qBAC5B0C,mBAAoB,GAAF1gB,OAAKge,EAAQ,wBAC/B2C,iBAAkB,GAAF3gB,OAAKge,EAAQ,sBAC7B4C,mBAAoB,GAAF5gB,OAAKge,EAAQ,oBAC/B6C,qBAAsB,GAAF7gB,OAAKge,EAAQ,4BACjC8C,cAAe,GAAF9gB,OAAKge,EAAQ,4BAC1B+C,QAAS,GAAF/gB,OAAKge,EAAQ,yBACpBgD,IAAK,GAAFhhB,OAAKge,EAAQ,qBAChBiD,IAAK,GAAFjhB,OAAKge,EAAQ,qBAChBkD,QAAS,GAAFlhB,OAAKge,EAAQ,yBACpBmD,oBAAqB,GAAFnhB,OAAKge,EAAQ,mCAEhCvb,YAAa,GAAFzC,OAAKge,EAAQ,kBACxBlE,UAAW,GAAF9Z,OAAKge,EAAQ,mBACtB3b,YAAa,GAAFrC,OAAKge,EAAQ,WACxBoD,SAAU,GAAFphB,OAAKge,EAAQ,cACrBqD,2BAA4B,GAAFrhB,OAAKge,EAAQ,yBACvCsD,wBAAyB,GAAFthB,OAAKge,EAAQ,qBACpCuD,6BAA8B,GAAFvhB,OAAKge,EAAQ,mBACzCwD,uBAAwB,GAAFxhB,OAAKge,EAAQ,kCAInCyD,SAAU,GAAFzhB,OAAKge,EAAQ,iBACrB0D,WAAY,GAAF1hB,OAAKge,EAAQ,gBACvB2D,WAAY,GAAF3hB,OAAKge,EAAQ,YACvB4D,WAAY,GAAF5hB,OAAKge,EAAQ,gBACvB6D,mBAAoB,GAAF7hB,OAAKge,EAAQ,2BAC/B8D,aAAc,GAAF9hB,OAAKge,EAAQ,gBACzB+D,uBAAwB,GAAF/hB,OAAKge,EAAQ,0BACnCgE,QAAS,GAAFhiB,OAAKge,EAAQ,aACpBiE,SAAU,GAAFjiB,OAAKge,EAAQ,YAGrB/E,iBAAkB,GAAFjZ,OAAKge,EAAQ,mBAC7BpE,gBAAiB,GAAF5Z,OAAKge,EAAQ,kBAC5BT,mBAAoB,GAAFvd,OAAKge,EAAQ,sBAC/BJ,kBAAmB,GAAF5d,OAAKge,EAAQ,qBAC9BkE,gBAAiB,GAAFliB,OAAKge,EAAQ,sBAC5BR,kBAAmB,GAAFxd,OAAKge,EAAQ,iBAG9BmE,cAAe,GAAFniB,OAAKge,EAAQ,qBAC1BoE,WAAY,GAAFpiB,OAAKge,EAAQ,gBACvBqE,UAAW,GAAFriB,OAAKge,EAAQ,eACtBsE,aAAc,GAAFtiB,OAAKge,EAAQ,kBACzBuE,aAAc,GAAFviB,OAAKge,EAAQ,cACzBwE,UAAW,GAAFxiB,OAAKge,EAAQ,eACtByE,YAAa,GAAFziB,OAAKge,EAAQ,iBACxB0E,UAAW,GAAF1iB,OAAKge,EAAQ,sBACtB2E,cAAe,GAAF3iB,OAAKge,EAAQ,2BAC1B4E,iBAAkB,GAAF5iB,OAAKge,EAAQ,0BAC7B6E,MAAO,GAAF7iB,OAAKge,EAAQ,iB,2HCnHP8E,EAAgC,SAAC5a,EAAaN,GACzD,IAAMmb,EAAkBC,IAAK9a,EAAQ,GAAFlI,OAAAkK,IAC9BjC,OAAO6K,KAAKmQ,EAAAA,KAAwB,CACvC,aAAW/Y,IAlB0B,WAGpC,IAFHhC,EAAWpC,UAAA9B,OAAA,QAAA+B,IAAAD,UAAA,GAAAA,UAAA,GAAG,CAAC,EACf8B,EAAM9B,UAAA9B,OAAA,QAAA+B,IAAAD,UAAA,GAAAA,UAAA,GAAG,eAEHod,EACJjb,OAAO6K,KAAKmQ,EAAAA,IAAyBvT,QAAO,SAACtP,GAAG,OAAM8H,EAAO9H,EAAI,IAInE,OAAO8iB,EAAgBtc,KACrB,SAACxG,GAAG,SAAAJ,OAAQ4H,GAAM5H,OAAGijB,EAAAA,GAAwB7iB,GAAI,GAErD,CAOO+iB,CAA0Bjb,EAAQN,MAGvC,OAAOmb,CACT,C,iFCnBMK,EAAU,CAAC,OAAQ,SAAU,OAgCnC,IA9BuB,SACrBC,EACAvF,GAEA,IAAMwF,EAAqB,CAAC,EAAgBC,EAAA,SAAAnjB,GAE1CkjB,EAAOljB,GAAO,SAACuT,EAAc6P,GAC3B,IAAI9F,EAAM2F,EAAIjjB,GAAKsd,IACb+F,EAAiBJ,EAAIjjB,GAI3B,OAHIojB,IACF9F,EAAMA,EAAM,IAAM8F,GAEhBJ,EAAQxT,MAAK,SAAC/I,GAAC,OAAKA,IAAMwc,EAAIjjB,GAAKud,OAAO+F,aAAa,IAClD5F,EAAQJ,EAAK,CAClBC,OAAQ0F,EAAIjjB,GAAKud,OACjB5a,KAAM4Q,IAIc,QAApB0P,EAAIjjB,GAAKud,QAAwC,QAApB0F,EAAIjjB,GAAKud,OACjCG,EAAQ6F,IAAIjG,EAAGzU,IAAAA,IAAA,GACjB+Z,IAAKS,EAAgB,CAAC,SAAU,SAAO,IAC1C9P,OAAAA,UAHJ,CAMF,CACF,EArBA,IAAK,IAAIvT,KAAOijB,EAAGE,EAAAnjB,GAsBnB,OAAOkjB,CACT,C,iPCzBMM,EAAiB,CACrB,IAAKlN,EAAAA,EAAK/W,EAAE,eACZ,IAAK+W,EAAAA,EAAK/W,EAAE,eACZ,IAAK+W,EAAAA,EAAK/W,EAAE,eACZ,IAAK+W,EAAAA,EAAK/W,EAAE,eACZ,IAAK+W,EAAAA,EAAK/W,EAAE,eACZ,IAAK+W,EAAAA,EAAK/W,EAAE,eACZ,IAAK+W,EAAAA,EAAK/W,EAAE,eACZ,IAAK+W,EAAAA,EAAK/W,EAAE,eACZ,IAAK+W,EAAAA,EAAK/W,EAAE,eACZ,IAAK+W,EAAAA,EAAK/W,EAAE,eACZ,IAAK+W,EAAAA,EAAK/W,EAAE,eACZ,IAAK+W,EAAAA,EAAK/W,EAAE,eACZ,IAAK+W,EAAAA,EAAK/W,EAAE,eACZ,IAAK+W,EAAAA,EAAK/W,EAAE,eACZ,IAAK+W,EAAAA,EAAK/W,EAAE,eACZ,IAAK+W,EAAAA,EAAK/W,EAAE,gBA4CRme,GAAyB+F,EAAAA,EAAAA,IAAO,CACpCC,aAzBmB,SAACvgB,GAIpB,IAAQwgB,EAAaxgB,EAAbwgB,SACR,GA3CsB,oBA2ClBxgB,EAAMD,QACR0gB,EAAAA,EAAazgB,MAAM,CACjB0gB,YAAavN,EAAAA,EAAK/W,EAAE,qCACpB2D,QAASoT,EAAAA,EAAK/W,EAAE,iCAGlB,GAAIokB,GAAYA,EAASG,OAAQ,CAC/B,IAAMC,EACJP,EAAeG,EAASG,SAAyBH,EAASK,WACpDF,EAAgBH,EAAhBG,OAAQxG,EAAQqG,EAARrG,IAChBsG,EAAAA,EAAazgB,MAAM,CACjBD,QAAS,GAAFtD,OAAK0W,EAAAA,EAAK/W,EAAE,wBAAuB,KAAAK,OAAIkkB,EAAM,MAAAlkB,OAAK0d,GACzDuG,YAAaE,GAEjB,CAEF,OAAOJ,CACT,EAIEM,QAAS,IACTC,aAAa,IAGfxG,EAAQyG,aAAazG,QAAQ0G,KAAI,SAAC9G,EAAahW,GAC7C,IAAM3E,GAAO0hB,EAAAA,EAAAA,IAAiC/c,EAAQ3E,MAChD4Q,GAAS8Q,EAAAA,EAAAA,IAAiC/c,EAAQiM,QAExD,MAAO,CACL+J,IAAAA,EACAhW,QAAOuB,IAAAA,IAAA,GACFvB,GAAO,IACV3E,KAAAA,EACA4Q,OAAAA,EACA+Q,QAAOzb,IAAAA,IAAA,GACDvB,EAAQid,eACR5e,EAAShE,IAAA,GACN6iB,EAAAA,IAAgBC,EAAAA,EAAAA,OACpBnd,EAAQgd,SAEbH,cAAc,IAGpB,IAEAzG,EAAQyG,aAAaR,SAASS,IAAG,eAAA1a,EAAA5F,IAAAC,MAAAC,MAAC,SAAAC,EAAO0f,EAAerc,GAAO,IAAAod,EAAA/hB,EAAA,OAAAoB,MAAAM,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAG5D,GAFwB,OAArBmf,aAAQ,EAARA,EAAUG,SAAuC,OAArBH,aAAQ,EAARA,EAAUG,SACxC5gB,EAAAA,GAAQC,MAAMqgB,EAAeG,aAAQ,EAARA,EAAUG,SAGZ,SAAzBxc,EAAQqd,aAAuB,CAAArgB,EAAAE,KAAA,eAAAF,EAAAI,OAAA,SAC1Bif,GAAQ,cAAArf,EAAAE,KAAA,EAGgBmf,SAAiB,QAATe,EAARf,EAAUiB,eAAO,IAAAF,OAAA,EAAjBA,EAAmBzY,OAAM,OAiBzD,OAhBkB,OAAftJ,OADEA,EAAkB2B,EAAAG,WAChB,EAAJ9B,EAAMgR,MACRzQ,EAAAA,GAAQC,MAAMR,aAAI,EAAJA,EAAMO,SACI,OAAfP,aAAI,EAAJA,EAAMgR,OACfiQ,EAAAA,EAAazgB,MAAM,CACjBD,QAASP,aAAI,EAAJA,EAAMO,QACf2gB,YAAalhB,aAAI,EAAJA,EAAMO,QACnB2hB,SAAU,IAEZC,EAAAA,EAAkBC,YAClBC,EAAAA,GAAQhU,KAAK,WACW,KAAfrO,aAAI,EAAJA,EAAMgR,OACfiQ,EAAAA,EAAazgB,MAAM,CACjBD,QAAS,GAAFtD,OAAK0W,EAAAA,EAAK/W,EAAE,gBAAe,OAAAK,OAAM+C,aAAI,EAAJA,EAAMgR,MAC9CkQ,YAAalhB,aAAI,EAAJA,EAAMO,QACnB2hB,SAAU,IAEbvgB,EAAAI,OAAA,SACMif,GAAQ,wBAAArf,EAAAK,OAAA,GAAAV,EAAA,KAChB,gBAAA6P,EAAAW,GAAA,OAAA/K,EAAAuF,MAAA,KAAAvJ,UAAA,EA5BgC,IA8BjC,OAEO,IAIMiY,EAAO,SAACL,EAAa2H,GAChC,OAAOvH,EAAQC,KAAKL,EAAK,CAAE3a,KAAMsiB,GACnC,C","sources":["webpack:///./src/components/api-service/embed-modal/index.less?e4ca","webpack:///./src/components/api-service/embed-modal/index.tsx","webpack:///./src/components/api-service/hooks.ts","webpack:///./src/components/knowledge-base-item.tsx","webpack:///./src/components/llm-setting-items/index.less?f964","webpack:///./src/components/llm-setting-items/index.tsx","webpack:///./src/components/similarity-slider/index.tsx","webpack:///./src/components/top-n-item.tsx","webpack:///./src/constants/common.ts","webpack:///./src/hooks/llm-hooks.tsx","webpack:///./src/hooks/user-setting-hooks.tsx","webpack:///./src/services/user-service.ts","webpack:///./src/utils/api.ts","webpack:///./src/utils/form.ts","webpack:///./src/utils/register-server.ts","webpack:///./src/utils/request.ts"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"codeCard\":\"codeCard___TMIpT\",\"codeText\":\"codeText___pRkMI\",\"id\":\"id___EtPCm\",\"darkBg\":\"darkBg___aK5gz\",\"darkId\":\"darkId___ASEvo\"};","import CopyToClipboard from '@/components/copy-to-clipboard';\nimport HightLightMarkdown from '@/components/highlight-markdown';\nimport { SharedFrom } from '@/constants/chat';\nimport { useTranslate } from '@/hooks/common-hooks';\nimport { IModalProps } from '@/interfaces/common';\nimport { Card, Modal, Tabs, TabsProps, Typography } from 'antd';\n\nimport { useIsDarkTheme } from '@/components/theme-provider';\nimport { cn } from '@/lib/utils';\nimport styles from './index.less';\n\nconst { Paragraph, Link } = Typography;\n\nconst EmbedModal = ({\n  visible,\n  hideModal,\n  token = '',\n  form,\n  beta = '',\n  isAgent,\n}: IModalProps<any> & {\n  token: string;\n  form: SharedFrom;\n  beta: string;\n  isAgent: boolean;\n}) => {\n  const { t } = useTranslate('chat');\n  const isDarkTheme = useIsDarkTheme();\n\n  const text = `\n  ~~~ html\n  <iframe\n  src=\"${location.origin}/chat/share?shared_id=${token}&from=${form}&auth=${beta}\"\n  style=\"width: 100%; height: 100%; min-height: 600px\"\n  frameborder=\"0\"\n>\n</iframe>\n~~~\n  `;\n\n  const items: TabsProps['items'] = [\n    {\n      key: '1',\n      label: t('fullScreenTitle'),\n      children: (\n        <Card\n          title={t('fullScreenDescription')}\n          extra={<CopyToClipboard text={text}></CopyToClipboard>}\n          className={styles.codeCard}\n        >\n          <HightLightMarkdown>{text}</HightLightMarkdown>\n        </Card>\n      ),\n    },\n    {\n      key: '2',\n      label: t('partialTitle'),\n      children: t('comingSoon'),\n    },\n    {\n      key: '3',\n      label: t('extensionTitle'),\n      children: t('comingSoon'),\n    },\n  ];\n\n  const onChange = (key: string) => {\n    console.log(key);\n  };\n\n  return (\n    <Modal\n      title={t('embedIntoSite', { keyPrefix: 'common' })}\n      open={visible}\n      style={{ top: 300 }}\n      width={'50vw'}\n      onOk={hideModal}\n      onCancel={hideModal}\n    >\n      <Tabs defaultActiveKey=\"1\" items={items} onChange={onChange} />\n      <div className=\"text-base font-medium mt-4 mb-1\">\n        {t(isAgent ? 'flow' : 'chat', { keyPrefix: 'header' })}\n        <span className=\"ml-1 inline-block\">ID</span>\n      </div>\n      <Paragraph\n        copyable={{ text: token }}\n        className={cn(styles.id, {\n          [styles.darkId]: isDarkTheme,\n        })}\n      >\n        {token}\n      </Paragraph>\n      <Link\n        href={\n          isAgent\n            ? 'https://ragflow.io/docs/dev/http_api_reference#create-session-with-agent'\n            : 'https://ragflow.io/docs/dev/http_api_reference#create-session-with-chat-assistant'\n        }\n        target=\"_blank\"\n      >\n        {t('howUseId', { keyPrefix: isAgent ? 'flow' : 'chat' })}\n      </Link>\n    </Modal>\n  );\n};\n\nexport default EmbedModal;\n","import { SharedFrom } from '@/constants/chat';\nimport {\n  useSetModalState,\n  useShowDeleteConfirm,\n  useTranslate,\n} from '@/hooks/common-hooks';\nimport {\n  useCreateSystemToken,\n  useFetchManualSystemTokenList,\n  useFetchSystemTokenList,\n  useRemoveSystemToken,\n} from '@/hooks/user-setting-hooks';\nimport { IStats } from '@/interfaces/database/chat';\nimport { useQueryClient } from '@tanstack/react-query';\nimport { message } from 'antd';\nimport { useCallback } from 'react';\n\nexport const useOperateApiKey = (idKey: string, dialogId?: string) => {\n  const { removeToken } = useRemoveSystemToken();\n  const { createToken, loading: creatingLoading } = useCreateSystemToken();\n  const { data: tokenList, loading: listLoading } = useFetchSystemTokenList();\n\n  const showDeleteConfirm = useShowDeleteConfirm();\n\n  const onRemoveToken = (token: string) => {\n    showDeleteConfirm({\n      onOk: () => removeToken(token),\n    });\n  };\n\n  const onCreateToken = useCallback(() => {\n    createToken({ [idKey]: dialogId });\n  }, [createToken, idKey, dialogId]);\n\n  return {\n    removeToken: onRemoveToken,\n    createToken: onCreateToken,\n    tokenList,\n    creatingLoading,\n    listLoading,\n  };\n};\n\ntype ChartStatsType = {\n  [k in keyof IStats]: Array<{ xAxis: string; yAxis: number }>;\n};\n\nexport const useSelectChartStatsList = (): ChartStatsType => {\n  const queryClient = useQueryClient();\n  const data = queryClient.getQueriesData({ queryKey: ['fetchStats'] });\n  const stats: IStats = (data.length > 0 ? data[0][1] : {}) as IStats;\n\n  return Object.keys(stats).reduce((pre, cur) => {\n    const item = stats[cur as keyof IStats];\n    if (item.length > 0) {\n      pre[cur as keyof IStats] = item.map((x) => ({\n        xAxis: x[0] as string,\n        yAxis: x[1] as number,\n      }));\n    }\n    return pre;\n  }, {} as ChartStatsType);\n};\n\nexport const useShowTokenEmptyError = () => {\n  const { t } = useTranslate('chat');\n\n  const showTokenEmptyError = useCallback(() => {\n    message.error(t('tokenError'));\n  }, [t]);\n  return { showTokenEmptyError };\n};\n\nexport const useShowBetaEmptyError = () => {\n  const { t } = useTranslate('chat');\n\n  const showBetaEmptyError = useCallback(() => {\n    message.error(t('betaError'));\n  }, [t]);\n  return { showBetaEmptyError };\n};\n\nconst getUrlWithToken = (token: string, from: string = 'chat') => {\n  const { protocol, host } = window.location;\n  return `${protocol}//${host}/chat/share?shared_id=${token}&from=${from}`;\n};\n\nconst useFetchTokenListBeforeOtherStep = () => {\n  const { showTokenEmptyError } = useShowTokenEmptyError();\n  const { showBetaEmptyError } = useShowBetaEmptyError();\n\n  const { data: tokenList, fetchSystemTokenList } =\n    useFetchManualSystemTokenList();\n\n  let token = '',\n    beta = '';\n\n  if (Array.isArray(tokenList) && tokenList.length > 0) {\n    token = tokenList[0].token;\n    beta = tokenList[0].beta;\n  }\n\n  token =\n    Array.isArray(tokenList) && tokenList.length > 0 ? tokenList[0].token : '';\n\n  const handleOperate = useCallback(async () => {\n    const ret = await fetchSystemTokenList();\n    const list = ret;\n    if (Array.isArray(list) && list.length > 0) {\n      if (!list[0].beta) {\n        showBetaEmptyError();\n        return false;\n      }\n      return list[0]?.token;\n    } else {\n      showTokenEmptyError();\n      return false;\n    }\n  }, [fetchSystemTokenList, showBetaEmptyError, showTokenEmptyError]);\n\n  return {\n    token,\n    beta,\n    handleOperate,\n  };\n};\n\nexport const useShowEmbedModal = () => {\n  const {\n    visible: embedVisible,\n    hideModal: hideEmbedModal,\n    showModal: showEmbedModal,\n  } = useSetModalState();\n\n  const { handleOperate, token, beta } = useFetchTokenListBeforeOtherStep();\n\n  const handleShowEmbedModal = useCallback(async () => {\n    const succeed = await handleOperate();\n    if (succeed) {\n      showEmbedModal();\n    }\n  }, [handleOperate, showEmbedModal]);\n\n  return {\n    showEmbedModal: handleShowEmbedModal,\n    hideEmbedModal,\n    embedVisible,\n    embedToken: token,\n    beta,\n  };\n};\n\nexport const usePreviewChat = (idKey: string) => {\n  const { handleOperate } = useFetchTokenListBeforeOtherStep();\n\n  const open = useCallback(\n    (t: string) => {\n      window.open(\n        getUrlWithToken(\n          t,\n          idKey === 'canvasId' ? SharedFrom.Agent : SharedFrom.Chat,\n        ),\n        '_blank',\n      );\n    },\n    [idKey],\n  );\n\n  const handlePreview = useCallback(async () => {\n    const token = await handleOperate();\n    if (token) {\n      open(token);\n    }\n  }, [handleOperate, open]);\n\n  return {\n    handlePreview,\n  };\n};\n","import { DocumentParserType } from '@/constants/knowledge';\nimport { useTranslate } from '@/hooks/common-hooks';\nimport { useFetchKnowledgeList } from '@/hooks/knowledge-hooks';\nimport { UserOutlined } from '@ant-design/icons';\nimport { Avatar, Form, Select, Space } from 'antd';\n\nconst KnowledgeBaseItem = () => {\n  const { t } = useTranslate('chat');\n\n  const { list: knowledgeList } = useFetchKnowledgeList(false);\n //const { list: knowledgeList } = useFetchKnowledgeList(true);\n  const filteredKnowledgeList = knowledgeList;//.filter(\n   // (x) => x.parser_id !== DocumentParserType.Tag,\n // );\n\n  const knowledgeOptions = filteredKnowledgeList.map((x) => ({\n    label: (\n      <Space>\n        {/*<Avatar size={20} icon={<UserOutlined />} src={x.avatar} />*/}\n        {x.name}\n      </Space>\n    ),\n    value: x.id,\n  }));\n\n  return (\n    <Form.Item\n      label={t('knowledgeBases')}\n      name=\"kb_ids\"\n      tooltip={t('knowledgeBasesTip')}\n      rules={[\n        {\n          required: true,\n          message: t('knowledgeBasesMessage'),\n          type: 'array',\n        },\n      ]}\n    >\n      <Select\n        mode=\"multiple\"\n        options={knowledgeOptions}\n        placeholder={t('knowledgeBasesMessage')}\n      ></Select>\n    </Form.Item>\n  );\n};\n\nexport default KnowledgeBaseItem;\n","// extracted by mini-css-extract-plugin\nexport default {\"sliderInputNumber\":\"sliderInputNumber___ZMqQO\",\"variableSlider\":\"variableSlider___MglII\"};","import {\n  LlmModelType,\n  ModelVariableType,\n  settledModelVariableMap,\n} from '@/constants/knowledge';\nimport { Divider, Flex, Form, InputNumber, Select, Slider, Switch } from 'antd';\nimport camelCase from 'lodash/camelCase';\n\nimport { useTranslate } from '@/hooks/common-hooks';\nimport { useComposeLlmOptionsByModelTypes } from '@/hooks/llm-hooks';\nimport { useCallback, useMemo } from 'react';\nimport styles from './index.less';\n\ninterface IProps {\n  prefix?: string;\n  formItemLayout?: any;\n  handleParametersChange?(value: ModelVariableType): void;\n}\n\nconst LlmSettingItems = ({ prefix, formItemLayout = {} }: IProps) => {\n  const form = Form.useFormInstance();\n  const { t } = useTranslate('chat');\n  const parameterOptions = Object.values(ModelVariableType).map((x) => ({\n    label: t(camelCase(x)),\n    value: x,\n  }));\n\n  const handleParametersChange = useCallback(\n    (value: ModelVariableType) => {\n      const variable = settledModelVariableMap[value];\n      let nextVariable: Record<string, any> = variable;\n      if (prefix) {\n        nextVariable = { [prefix]: variable };\n      }\n      form.setFieldsValue(nextVariable);\n    },\n    [form, prefix],\n  );\n\n  const memorizedPrefix = useMemo(() => (prefix ? [prefix] : []), [prefix]);\n\n  const modelOptions = useComposeLlmOptionsByModelTypes([\n    LlmModelType.Chat,\n    LlmModelType.Image2text,\n  ]);\n\n  return (\n    <>\n      <Form.Item\n        label={t('model')}\n        name=\"llm_id\"\n        tooltip={t('modelTip')}\n        {...formItemLayout}\n        rules={[{ required: true, message: t('modelMessage') }]}\n      >\n        <Select options={modelOptions} showSearch />\n      </Form.Item>\n      <Divider></Divider>\n      <Form.Item\n        label={t('freedom')}\n        name=\"parameter\"\n        tooltip={t('freedomTip')}\n        {...formItemLayout}\n        initialValue={ModelVariableType.Precise}\n      >\n        <Select<ModelVariableType>\n          options={parameterOptions}\n          onChange={handleParametersChange}\n        />\n      </Form.Item>\n      <Form.Item\n        label={t('temperature')}\n        tooltip={t('temperatureTip')}\n        {...formItemLayout}\n      >\n        <Flex gap={20} align=\"center\">\n          <Form.Item\n            name={'temperatureEnabled'}\n            valuePropName=\"checked\"\n            noStyle\n          >\n            <Switch size=\"small\" />\n          </Form.Item>\n          <Form.Item noStyle dependencies={['temperatureEnabled']}>\n            {({ getFieldValue }) => {\n              const disabled = !getFieldValue('temperatureEnabled');\n              return (\n                <>\n                  <Flex flex={1}>\n                    <Form.Item\n                      name={[...memorizedPrefix, 'temperature']}\n                      noStyle\n                    >\n                      <Slider\n                        className={styles.variableSlider}\n                        max={1}\n                        step={0.01}\n                        disabled={disabled}\n                      />\n                    </Form.Item>\n                  </Flex>\n                  <Form.Item name={[...memorizedPrefix, 'temperature']} noStyle>\n                    <InputNumber\n                      className={styles.sliderInputNumber}\n                      max={1}\n                      min={0}\n                      step={0.01}\n                      disabled={disabled}\n                    />\n                  </Form.Item>\n                </>\n              );\n            }}\n          </Form.Item>\n        </Flex>\n      </Form.Item>\n      <Form.Item label={t('topP')} tooltip={t('topPTip')} {...formItemLayout}>\n        <Flex gap={20} align=\"center\">\n          <Form.Item name={'topPEnabled'} valuePropName=\"checked\" noStyle>\n            <Switch size=\"small\" />\n          </Form.Item>\n          <Form.Item noStyle dependencies={['topPEnabled']}>\n            {({ getFieldValue }) => {\n              const disabled = !getFieldValue('topPEnabled');\n              return (\n                <>\n                  <Flex flex={1}>\n                    <Form.Item name={[...memorizedPrefix, 'top_p']} noStyle>\n                      <Slider\n                        className={styles.variableSlider}\n                        max={1}\n                        step={0.01}\n                        disabled={disabled}\n                      />\n                    </Form.Item>\n                  </Flex>\n                  <Form.Item name={[...memorizedPrefix, 'top_p']} noStyle>\n                    <InputNumber\n                      className={styles.sliderInputNumber}\n                      max={1}\n                      min={0}\n                      step={0.01}\n                      disabled={disabled}\n                    />\n                  </Form.Item>\n                </>\n              );\n            }}\n          </Form.Item>\n        </Flex>\n      </Form.Item>\n      <Form.Item\n        label={t('presencePenalty')}\n        tooltip={t('presencePenaltyTip')}\n        {...formItemLayout}\n      >\n        <Flex gap={20} align=\"center\">\n          <Form.Item\n            name={'presencePenaltyEnabled'}\n            valuePropName=\"checked\"\n            noStyle\n          >\n            <Switch size=\"small\" />\n          </Form.Item>\n          <Form.Item noStyle dependencies={['presencePenaltyEnabled']}>\n            {({ getFieldValue }) => {\n              const disabled = !getFieldValue('presencePenaltyEnabled');\n              return (\n                <>\n                  <Flex flex={1}>\n                    <Form.Item\n                      name={[...memorizedPrefix, 'presence_penalty']}\n                      noStyle\n                    >\n                      <Slider\n                        className={styles.variableSlider}\n                        max={1}\n                        step={0.01}\n                        disabled={disabled}\n                      />\n                    </Form.Item>\n                  </Flex>\n                  <Form.Item\n                    name={[...memorizedPrefix, 'presence_penalty']}\n                    noStyle\n                  >\n                    <InputNumber\n                      className={styles.sliderInputNumber}\n                      max={1}\n                      min={0}\n                      step={0.01}\n                      disabled={disabled}\n                    />\n                  </Form.Item>\n                </>\n              );\n            }}\n          </Form.Item>\n        </Flex>\n      </Form.Item>\n      <Form.Item\n        label={t('frequencyPenalty')}\n        tooltip={t('frequencyPenaltyTip')}\n        {...formItemLayout}\n      >\n        <Flex gap={20} align=\"center\">\n          <Form.Item\n            name={'frequencyPenaltyEnabled'}\n            valuePropName=\"checked\"\n            noStyle\n          >\n            <Switch size=\"small\" />\n          </Form.Item>\n          <Form.Item noStyle dependencies={['frequencyPenaltyEnabled']}>\n            {({ getFieldValue }) => {\n              const disabled = !getFieldValue('frequencyPenaltyEnabled');\n              return (\n                <>\n                  <Flex flex={1}>\n                    <Form.Item\n                      name={[...memorizedPrefix, 'frequency_penalty']}\n                      noStyle\n                    >\n                      <Slider\n                        className={styles.variableSlider}\n                        max={1}\n                        step={0.01}\n                        disabled={disabled}\n                      />\n                    </Form.Item>\n                  </Flex>\n                  <Form.Item\n                    name={[...memorizedPrefix, 'frequency_penalty']}\n                    noStyle\n                  >\n                    <InputNumber\n                      className={styles.sliderInputNumber}\n                      max={1}\n                      min={0}\n                      step={0.01}\n                      disabled={disabled}\n                    />\n                  </Form.Item>\n                </>\n              );\n            }}\n          </Form.Item>\n        </Flex>\n      </Form.Item>\n      <Form.Item\n        label={t('maxTokens')}\n        tooltip={t('maxTokensTip')}\n        {...formItemLayout}\n      >\n        <Flex gap={20} align=\"center\">\n          <Form.Item name={'maxTokensEnabled'} valuePropName=\"checked\" noStyle>\n            <Switch size=\"small\" />\n          </Form.Item>\n          <Form.Item noStyle dependencies={['maxTokensEnabled']}>\n            {({ getFieldValue }) => {\n              const disabled = !getFieldValue('maxTokensEnabled');\n\n              return (\n                <>\n                  <Flex flex={1}>\n                    <Form.Item\n                      name={[...memorizedPrefix, 'max_tokens']}\n                      noStyle\n                    >\n                      <Slider\n                        className={styles.variableSlider}\n                        max={128000}\n                        disabled={disabled}\n                      />\n                    </Form.Item>\n                  </Flex>\n                  <Form.Item name={[...memorizedPrefix, 'max_tokens']} noStyle>\n                    <InputNumber\n                      disabled={disabled}\n                      className={styles.sliderInputNumber}\n                      max={128000}\n                      min={0}\n                    />\n                  </Form.Item>\n                </>\n              );\n            }}\n          </Form.Item>\n        </Flex>\n      </Form.Item>\n    </>\n  );\n};\n\nexport default LlmSettingItems;\n","import { useTranslate } from '@/hooks/common-hooks';\nimport { Form, Slider } from 'antd';\n\ntype FieldType = {\n  similarity_threshold?: number;\n  // vector_similarity_weight?: number;\n};\n\ninterface IProps {\n  isTooltipShown?: boolean;\n  vectorSimilarityWeightName?: string;\n}\n\nconst SimilaritySlider = ({\n  isTooltipShown = false,\n  vectorSimilarityWeightName = 'vector_similarity_weight',\n}: IProps) => {\n  const { t } = useTranslate('knowledgeDetails');\n\n  return (\n    <>\n      <Form.Item<FieldType>\n        label={t('similarityThreshold')}\n        name={'similarity_threshold'}\n        tooltip={isTooltipShown && t('similarityThresholdTip')}\n        initialValue={0.2}\n      >\n        <Slider max={1} step={0.01} />\n      </Form.Item>\n      <Form.Item\n        label={t('vectorSimilarityWeight')}\n        name={vectorSimilarityWeightName}\n        initialValue={1 - 0.3}\n        tooltip={isTooltipShown && t('vectorSimilarityWeightTip')}\n      >\n        <Slider max={1} step={0.01} />\n      </Form.Item>\n    </>\n  );\n};\n\nexport default SimilaritySlider;\n","import { useTranslate } from '@/hooks/common-hooks';\nimport { Form, Slider } from 'antd';\n\ntype FieldType = {\n  top_n?: number;\n};\n\ninterface IProps {\n  initialValue?: number;\n  max?: number;\n}\n\nconst TopNItem = ({ initialValue = 8, max = 30 }: IProps) => {\n  const { t } = useTranslate('chat');\n\n  return (\n    <Form.Item<FieldType>\n      label={t('topN')}\n      name={'top_n'}\n      initialValue={initialValue}\n      tooltip={t('topNTip')}\n    >\n      <Slider max={max} />\n    </Form.Item>\n  );\n};\n\nexport default TopNItem;\n","export const fileIconMap = {\n  aep: 'aep.svg',\n  ai: 'ai.svg',\n  avi: 'avi.svg',\n  css: 'css.svg',\n  csv: 'csv.svg',\n  dmg: 'dmg.svg',\n  doc: 'doc.svg',\n  docx: 'docx.svg',\n  eps: 'eps.svg',\n  exe: 'exe.svg',\n  fig: 'fig.svg',\n  gif: 'gif.svg',\n  html: 'html.svg',\n  indd: 'indd.svg',\n  java: 'java.svg',\n  jpeg: 'jpeg.svg',\n  jpg: 'jpg.svg',\n  js: 'js.svg',\n  json: 'json.svg',\n  mkv: 'mkv.svg',\n  mp3: 'mp3.svg',\n  mp4: 'mp4.svg',\n  mpeg: 'mpeg.svg',\n  pdf: 'pdf.svg',\n  png: 'png.svg',\n  ppt: 'ppt.svg',\n  pptx: 'pptx.svg',\n  psd: 'psd.svg',\n  rss: 'rss.svg',\n  sql: 'sql.svg',\n  svg: 'svg.svg',\n  tiff: 'tiff.svg',\n  txt: 'txt.svg',\n  wav: 'wav.svg',\n  webp: 'webp.svg',\n  xls: 'xls.svg',\n  xlsx: 'xlsx.svg',\n  xml: 'xml.svg',\n};\n\nexport const LanguageList = [\n  'English',\n  'Other_language',\n  /*'Chinese',\n  'Traditional Chinese',\n  'Indonesia',\n  'Spanish',\n  'Vietnamese',\n  'Japanese',\n  'Portuguese BR',*/\n];\n\nexport const LanguageMap = {\n  English: 'English',\n  Other_language: 'Lang 2'\n /*  'Traditional Chinese': '',\n  Indonesia: 'Indonesia',\n  Spanish: 'Espaol',\n  Vietnamese: 'Ting vit',\n  Japanese: '',\n  'Portuguese BR': 'Portugus BR',*/\n};\n\nexport const LanguageTranslationMap = {\n  English: 'en',\n  Chinese: 'zh',\n  'Traditional Chinese': 'zh-TRADITIONAL',\n  Indonesia: 'id',\n  Spanish: 'es',\n  Vietnamese: 'vi',\n  Japanese: 'ja',\n  'Portuguese BR': 'pt-br',\n};\n\nexport enum FileMimeType {\n  Bmp = 'image/bmp',\n  Csv = 'text/csv',\n  Odt = 'application/vnd.oasis.opendocument.text',\n  Doc = 'application/msword',\n  Docx = 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n  Gif = 'image/gif',\n  Htm = 'text/htm',\n  Html = 'text/html',\n  Jpg = 'image/jpg',\n  Jpeg = 'image/jpeg',\n  Pdf = 'application/pdf',\n  Png = 'image/png',\n  Ppt = 'application/vnd.ms-powerpoint',\n  Pptx = 'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n  Tiff = 'image/tiff',\n  Txt = 'text/plain',\n  Xls = 'application/vnd.ms-excel',\n  Xlsx = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n  Mp4 = 'video/mp4',\n  Json = 'application/json',\n}\n\nexport const Domain = 'demo.ragflow.io';\n\n//#region file preview\nexport const Images = [\n  'jpg',\n  'jpeg',\n  'png',\n  'gif',\n  'bmp',\n  'tif',\n  'tiff',\n  'webp',\n  // 'svg',\n  'ico',\n];\n\n// Without FileViewer\nexport const ExceptiveType = ['xlsx', 'xls', 'pdf', 'docx', ...Images];\n\nexport const SupportedPreviewDocumentTypes = [...ExceptiveType];\n//#endregion\n","import { LlmIcon } from '@/components/svg-icon';\nimport { LlmModelType } from '@/constants/knowledge';\nimport { ResponseGetType } from '@/interfaces/database/base';\nimport {\n  IFactory,\n  IMyLlmValue,\n  IThirdOAIModelCollection as IThirdAiModelCollection,\n  IThirdOAIModelCollection,\n} from '@/interfaces/database/llm';\nimport {\n  IAddLlmRequestBody,\n  IDeleteLlmRequestBody,\n} from '@/interfaces/request/llm';\nimport userService from '@/services/user-service';\nimport { sortLLmFactoryListBySpecifiedOrder } from '@/utils/common-util';\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport { Flex, message } from 'antd';\nimport { DefaultOptionType } from 'antd/es/select';\nimport { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nexport const useFetchLlmList = (\n  modelType?: LlmModelType,\n): IThirdAiModelCollection => {\n  const { data } = useQuery({\n    queryKey: ['llmList'],\n    initialData: {},\n    queryFn: async () => {\n      const { data } = await userService.llm_list({ model_type: modelType });\n\n      return data?.data ?? {};\n    },\n  });\n\n  return data;\n};\n\nexport const useSelectLlmOptions = () => {\n  const llmInfo: IThirdOAIModelCollection = useFetchLlmList();\n\n  const embeddingModelOptions = useMemo(() => {\n    return Object.entries(llmInfo).map(([key, value]) => {\n      return {\n        label: key,\n        options: value.map((x) => ({\n          label: x.llm_name,\n          value: `${x.llm_name}@${x.fid}`,\n          disabled: !x.available,\n        })),\n      };\n    });\n  }, [llmInfo]);\n\n  return embeddingModelOptions;\n};\n\nconst getLLMIconName = (fid: string, llm_name: string) => {\n  if (fid === 'FastEmbed') {\n    return llm_name.split('/').at(0) ?? '';\n  }\n\n  return fid;\n};\n\nexport const useSelectLlmOptionsByModelType = () => {\n  const llmInfo: IThirdOAIModelCollection = useFetchLlmList();\n\n  const groupOptionsByModelType = (modelType: LlmModelType) => {\n    return Object.entries(llmInfo)\n      .filter(([, value]) =>\n        modelType ? value.some((x) => x.model_type.includes(modelType)) : true,\n      )\n      .map(([key, value]) => {\n        return {\n          label: key,\n          options: value\n            .filter(\n              (x) =>\n                (modelType ? x.model_type.includes(modelType) : true) &&\n                x.available,\n            )\n            .map((x) => ({\n              label: (\n                <Flex align=\"center\" gap={6}>\n                  <LlmIcon\n                    name={getLLMIconName(x.fid, x.llm_name)}\n                    width={26}\n                    height={26}\n                    size={'small'}\n                  />\n                  <span>{x.llm_name}</span>\n                </Flex>\n              ),\n              value: `${x.llm_name}@${x.fid}`,\n              disabled: !x.available,\n            })),\n        };\n      })\n      .filter((x) => x.options.length > 0);\n  };\n\n  return {\n    [LlmModelType.Chat]: groupOptionsByModelType(LlmModelType.Chat),\n    [LlmModelType.Embedding]: groupOptionsByModelType(LlmModelType.Embedding),\n    [LlmModelType.Image2text]: groupOptionsByModelType(LlmModelType.Image2text),\n    [LlmModelType.Speech2text]: groupOptionsByModelType(\n      LlmModelType.Speech2text,\n    ),\n    [LlmModelType.Rerank]: groupOptionsByModelType(LlmModelType.Rerank),\n    [LlmModelType.TTS]: groupOptionsByModelType(LlmModelType.TTS),\n  };\n};\n\nexport const useComposeLlmOptionsByModelTypes = (\n  modelTypes: LlmModelType[],\n) => {\n  const allOptions = useSelectLlmOptionsByModelType();\n\n  return modelTypes.reduce<DefaultOptionType[]>((pre, cur) => {\n    const options = allOptions[cur];\n    options.forEach((x) => {\n      const item = pre.find((y) => y.label === x.label);\n      if (item) {\n        item.options.push(...x.options);\n      } else {\n        pre.push(x);\n      }\n    });\n\n    return pre;\n  }, []);\n};\n\nexport const useFetchLlmFactoryList = (): ResponseGetType<IFactory[]> => {\n  const { data, isFetching: loading } = useQuery({\n    queryKey: ['factoryList'],\n    initialData: [],\n    gcTime: 0,\n    queryFn: async () => {\n      const { data } = await userService.factories_list();\n\n      return data?.data ?? [];\n    },\n  });\n\n  return { data, loading };\n};\n\nexport type LlmItem = { name: string; logo: string } & IMyLlmValue;\n\nexport const useFetchMyLlmList = (): ResponseGetType<\n  Record<string, IMyLlmValue>\n> => {\n  const { data, isFetching: loading } = useQuery({\n    queryKey: ['myLlmList'],\n    initialData: {},\n    gcTime: 0,\n    queryFn: async () => {\n      const { data } = await userService.my_llm();\n\n      return data?.data ?? {};\n    },\n  });\n\n  return { data, loading };\n};\n\nexport const useSelectLlmList = () => {\n  const { data: myLlmList, loading: myLlmListLoading } = useFetchMyLlmList();\n  const { data: factoryList, loading: factoryListLoading } =\n    useFetchLlmFactoryList();\n\n  const nextMyLlmList: Array<LlmItem> = useMemo(() => {\n    return Object.entries(myLlmList).map(([key, value]) => ({\n      name: key,\n      logo: factoryList.find((x) => x.name === key)?.logo ?? '',\n      ...value,\n    }));\n  }, [myLlmList, factoryList]);\n\n  const nextFactoryList = useMemo(() => {\n    const currentList = factoryList.filter((x) =>\n      Object.keys(myLlmList).every((y) => y !== x.name),\n    );\n    return sortLLmFactoryListBySpecifiedOrder(currentList);\n  }, [factoryList, myLlmList]);\n\n  return {\n    myLlmList: nextMyLlmList,\n    factoryList: nextFactoryList,\n    loading: myLlmListLoading || factoryListLoading,\n  };\n};\n\nexport interface IApiKeySavingParams {\n  llm_factory: string;\n  api_key: string;\n  llm_name?: string;\n  model_type?: string;\n  base_url?: string;\n}\n\nexport const useSaveApiKey = () => {\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['saveApiKey'],\n    mutationFn: async (params: IApiKeySavingParams) => {\n      const { data } = await userService.set_api_key(params);\n      if (data.code === 0) {\n        message.success(t('message.modified'));\n        queryClient.invalidateQueries({ queryKey: ['myLlmList'] });\n        queryClient.invalidateQueries({ queryKey: ['factoryList'] });\n      }\n      return data.code;\n    },\n  });\n\n  return { data, loading, saveApiKey: mutateAsync };\n};\n\nexport interface ISystemModelSettingSavingParams {\n  tenant_id: string;\n  name?: string;\n  asr_id: string;\n  embd_id: string;\n  img2txt_id: string;\n  llm_id: string;\n}\n\nexport const useSaveTenantInfo = () => {\n  const { t } = useTranslation();\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['saveTenantInfo'],\n    mutationFn: async (params: ISystemModelSettingSavingParams) => {\n      const { data } = await userService.set_tenant_info(params);\n      if (data.code === 0) {\n        message.success(t('message.modified'));\n      }\n      return data.code;\n    },\n  });\n\n  return { data, loading, saveTenantInfo: mutateAsync };\n};\n\nexport const useAddLlm = () => {\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['addLlm'],\n    mutationFn: async (params: IAddLlmRequestBody) => {\n      const { data } = await userService.add_llm(params);\n      if (data.code === 0) {\n        queryClient.invalidateQueries({ queryKey: ['myLlmList'] });\n        queryClient.invalidateQueries({ queryKey: ['factoryList'] });\n        message.success(t('message.modified'));\n      }\n      return data.code;\n    },\n  });\n\n  return { data, loading, addLlm: mutateAsync };\n};\n\nexport const useDeleteLlm = () => {\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['deleteLlm'],\n    mutationFn: async (params: IDeleteLlmRequestBody) => {\n      const { data } = await userService.delete_llm(params);\n      if (data.code === 0) {\n        queryClient.invalidateQueries({ queryKey: ['myLlmList'] });\n        queryClient.invalidateQueries({ queryKey: ['factoryList'] });\n        message.success(t('message.deleted'));\n      }\n      return data.code;\n    },\n  });\n\n  return { data, loading, deleteLlm: mutateAsync };\n};\n\nexport const useDeleteFactory = () => {\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['deleteFactory'],\n    mutationFn: async (params: IDeleteLlmRequestBody) => {\n      const { data } = await userService.deleteFactory(params);\n      if (data.code === 0) {\n        queryClient.invalidateQueries({ queryKey: ['myLlmList'] });\n        queryClient.invalidateQueries({ queryKey: ['factoryList'] });\n        message.success(t('message.deleted'));\n      }\n      return data.code;\n    },\n  });\n\n  return { data, loading, deleteFactory: mutateAsync };\n};\n","import { LanguageTranslationMap } from '@/constants/common';\nimport { ResponseGetType } from '@/interfaces/database/base';\nimport { IToken } from '@/interfaces/database/chat';\nimport { ITenantInfo } from '@/interfaces/database/knowledge';\nimport {\n  ISystemStatus,\n  ITenant,\n  ITenantUser,\n  IUserInfo,\n} from '@/interfaces/database/user-setting';\nimport userService, {\n  addTenantUser,\n  agreeTenant,\n  deleteTenantUser,\n  listTenant,\n  listTenantUser,\n} from '@/services/user-service';\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport { Modal, message } from 'antd';\nimport DOMPurify from 'dompurify';\nimport { isEmpty } from 'lodash';\nimport { useCallback, useMemo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { history } from 'umi';\n\nexport const useFetchUserInfo = (): ResponseGetType<IUserInfo> => {\n  const { i18n } = useTranslation();\n\n  const { data, isFetching: loading } = useQuery({\n    queryKey: ['userInfo'],\n    initialData: {},\n    gcTime: 0,\n    queryFn: async () => {\n      const { data } = await userService.user_info();\n      if (data.code === 0) {\n        i18n.changeLanguage(\n          LanguageTranslationMap[\n            data.data.language as keyof typeof LanguageTranslationMap\n          ],\n        );\n      }\n      return data?.data ?? {};\n    },\n  });\n\n  return { data, loading };\n};\n\nexport const useFetchTenantInfo = (\n  showEmptyModelWarn = false,\n): ResponseGetType<ITenantInfo> => {\n  const { t } = useTranslation();\n  const { data, isFetching: loading } = useQuery({\n    queryKey: ['tenantInfo'],\n    initialData: {},\n    gcTime: 0,\n    queryFn: async () => {\n      const { data: res } = await userService.get_tenant_info();\n      if (res.code === 0) {\n        // llm_id is chat_id\n        // asr_id is speech2txt\n        const { data } = res;\n        if (\n          showEmptyModelWarn &&\n          (isEmpty(data.embd_id) || isEmpty(data.llm_id))\n        ) {\n          /*Modal.warning({\n            title: t('common.warn'),\n            content: (\n              <div\n                dangerouslySetInnerHTML={{\n                  __html: DOMPurify.sanitize(t('setting.modelProvidersWarn')),\n                }}\n              ></div>\n            ),\n            onOk() {\n              history.push('/user-setting/model');\n            },\n          });*/\n        }\n        data.chat_id = data.llm_id;\n        data.speech2text_id = data.asr_id;\n\n        return data;\n      }\n\n      return res;\n    },\n  });\n\n  return { data, loading };\n};\n\nexport const useSelectParserList = (): Array<{\n  value: string;\n  label: string;\n}> => {\n  const { data: tenantInfo } = useFetchTenantInfo(true);\n\n  const parserList = useMemo(() => {\n    const parserArray: Array<string> = tenantInfo?.parser_ids?.split(',') ?? [];\n    return parserArray.map((x) => {\n      const arr = x.split(':');\n      return { value: arr[0], label: arr[1] };\n    });\n  }, [tenantInfo]);\n\n  return parserList;\n};\n\nexport const useSaveSetting = () => {\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['saveSetting'],\n    mutationFn: async (\n      userInfo: { new_password: string } | Partial<IUserInfo>,\n    ) => {\n      const { data } = await userService.setting(userInfo);\n      if (data.code === 0) {\n        message.success(t('message.modified'));\n        queryClient.invalidateQueries({ queryKey: ['userInfo'] });\n      }\n      return data?.code;\n    },\n  });\n\n  return { data, loading, saveSetting: mutateAsync };\n};\n\nexport const useFetchSystemVersion = () => {\n  const [version, setVersion] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const fetchSystemVersion = useCallback(async () => {\n    try {\n      setLoading(true);\n      const { data } = await userService.getSystemVersion();\n      if (data.code === 0) {\n        setVersion(data.data);\n        setLoading(false);\n      }\n    } catch (error) {\n      setLoading(false);\n    }\n  }, []);\n\n  return { fetchSystemVersion, version, loading };\n};\n\nexport const useFetchSystemStatus = () => {\n  const [systemStatus, setSystemStatus] = useState<ISystemStatus>(\n    {} as ISystemStatus,\n  );\n  const [loading, setLoading] = useState(false);\n\n  const fetchSystemStatus = useCallback(async () => {\n    setLoading(true);\n    const { data } = await userService.getSystemStatus();\n    if (data.code === 0) {\n      setSystemStatus(data.data);\n      setLoading(false);\n    }\n  }, []);\n\n  return {\n    systemStatus,\n    fetchSystemStatus,\n    loading,\n  };\n};\n\nexport const useFetchManualSystemTokenList = () => {\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['fetchManualSystemTokenList'],\n    mutationFn: async () => {\n      const { data } = await userService.listToken();\n\n      return data?.data ?? [];\n    },\n  });\n\n  return { data, loading, fetchSystemTokenList: mutateAsync };\n};\n\nexport const useFetchSystemTokenList = () => {\n  const {\n    data,\n    isFetching: loading,\n    refetch,\n  } = useQuery<IToken[]>({\n    queryKey: ['fetchSystemTokenList'],\n    initialData: [],\n    gcTime: 0,\n    queryFn: async () => {\n      const { data } = await userService.listToken();\n\n      return data?.data ?? [];\n    },\n  });\n\n  return { data, loading, refetch };\n};\n\nexport const useRemoveSystemToken = () => {\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['removeSystemToken'],\n    mutationFn: async (token: string) => {\n      const { data } = await userService.removeToken({}, token);\n      if (data.code === 0) {\n        message.success(t('message.deleted'));\n        queryClient.invalidateQueries({ queryKey: ['fetchSystemTokenList'] });\n      }\n      return data?.data ?? [];\n    },\n  });\n\n  return { data, loading, removeToken: mutateAsync };\n};\n\nexport const useCreateSystemToken = () => {\n  const queryClient = useQueryClient();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['createSystemToken'],\n    mutationFn: async (params: Record<string, any>) => {\n      const { data } = await userService.createToken(params);\n      if (data.code === 0) {\n        queryClient.invalidateQueries({ queryKey: ['fetchSystemTokenList'] });\n      }\n      return data?.data ?? [];\n    },\n  });\n\n  return { data, loading, createToken: mutateAsync };\n};\n\nexport const useListTenantUser = () => {\n  const { data: tenantInfo } = useFetchTenantInfo();\n  const tenantId = tenantInfo.tenant_id;\n  const {\n    data,\n    isFetching: loading,\n    refetch,\n  } = useQuery<ITenantUser[]>({\n    queryKey: ['listTenantUser', tenantId],\n    initialData: [],\n    gcTime: 0,\n    enabled: !!tenantId,\n    queryFn: async () => {\n      const { data } = await listTenantUser(tenantId);\n\n      return data?.data ?? [];\n    },\n  });\n\n  return { data, loading, refetch };\n};\n\nexport const useAddTenantUser = () => {\n  const { data: tenantInfo } = useFetchTenantInfo();\n  const queryClient = useQueryClient();\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['addTenantUser'],\n    mutationFn: async (email: string) => {\n      const { data } = await addTenantUser(tenantInfo.tenant_id, email);\n      if (data.code === 0) {\n        queryClient.invalidateQueries({ queryKey: ['listTenantUser'] });\n      }\n      return data?.code;\n    },\n  });\n\n  return { data, loading, addTenantUser: mutateAsync };\n};\n\nexport const useDeleteTenantUser = () => {\n  const { data: tenantInfo } = useFetchTenantInfo();\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['deleteTenantUser'],\n    mutationFn: async ({\n      userId,\n      tenantId,\n    }: {\n      userId: string;\n      tenantId?: string;\n    }) => {\n      const { data } = await deleteTenantUser({\n        tenantId: tenantId ?? tenantInfo.tenant_id,\n        userId,\n      });\n      if (data.code === 0) {\n        message.success(t('message.deleted'));\n        queryClient.invalidateQueries({ queryKey: ['listTenantUser'] });\n        queryClient.invalidateQueries({ queryKey: ['listTenant'] });\n      }\n      return data?.data ?? [];\n    },\n  });\n\n  return { data, loading, deleteTenantUser: mutateAsync };\n};\n\nexport const useListTenant = () => {\n  const { data: tenantInfo } = useFetchTenantInfo();\n  const tenantId = tenantInfo.tenant_id;\n  const {\n    data,\n    isFetching: loading,\n    refetch,\n  } = useQuery<ITenant[]>({\n    queryKey: ['listTenant', tenantId],\n    initialData: [],\n    gcTime: 0,\n    enabled: !!tenantId,\n    queryFn: async () => {\n      const { data } = await listTenant();\n\n      return data?.data ?? [];\n    },\n  });\n\n  return { data, loading, refetch };\n};\n\nexport const useAgreeTenant = () => {\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['agreeTenant'],\n    mutationFn: async (tenantId: string) => {\n      const { data } = await agreeTenant(tenantId);\n      if (data.code === 0) {\n        message.success(t('message.operated'));\n        queryClient.invalidateQueries({ queryKey: ['listTenant'] });\n      }\n      return data?.data ?? [];\n    },\n  });\n\n  return { data, loading, agreeTenant: mutateAsync };\n};\n","import api from '@/utils/api';\nimport registerServer from '@/utils/register-server';\nimport request, { post } from '@/utils/request';\n\nconst {\n  login,\n  logout,\n  register,\n  setting,\n  user_info,\n  tenant_info,\n  factories_list,\n  llm_list,\n  my_llm,\n  set_api_key,\n  set_tenant_info,\n  add_llm,\n  delete_llm,\n  deleteFactory,\n  getSystemStatus,\n  getSystemVersion,\n  getSystemTokenList,\n  removeSystemToken,\n  createSystemToken,\n} = api;\n\nconst methods = {\n  login: {\n    url: login,\n    method: 'post',\n  },\n  logout: {\n    url: logout,\n    method: 'get',\n  },\n  register: {\n    url: register,\n    method: 'post',\n  },\n  setting: {\n    url: setting,\n    method: 'post',\n  },\n  user_info: {\n    url: user_info,\n    method: 'get',\n  },\n  get_tenant_info: {\n    url: tenant_info,\n    method: 'get',\n  },\n  set_tenant_info: {\n    url: set_tenant_info,\n    method: 'post',\n  },\n  factories_list: {\n    url: factories_list,\n    method: 'get',\n  },\n  llm_list: {\n    url: llm_list,\n    method: 'get',\n  },\n  my_llm: {\n    url: my_llm,\n    method: 'get',\n  },\n  set_api_key: {\n    url: set_api_key,\n    method: 'post',\n  },\n  add_llm: {\n    url: add_llm,\n    method: 'post',\n  },\n  delete_llm: {\n    url: delete_llm,\n    method: 'post',\n  },\n  getSystemStatus: {\n    url: getSystemStatus,\n    method: 'get',\n  },\n  getSystemVersion: {\n    url: getSystemVersion,\n    method: 'get',\n  },\n  deleteFactory: {\n    url: deleteFactory,\n    method: 'post',\n  },\n  listToken: {\n    url: getSystemTokenList,\n    method: 'get',\n  },\n  createToken: {\n    url: createSystemToken,\n    method: 'post',\n  },\n  removeToken: {\n    url: removeSystemToken,\n    method: 'delete',\n  },\n} as const;\n\nconst userService = registerServer<keyof typeof methods>(methods, request);\n\nexport const listTenantUser = (tenantId: string) =>\n  request.get(api.listTenantUser(tenantId));\n\nexport const addTenantUser = (tenantId: string, email: string) =>\n  post(api.addTenantUser(tenantId), { email });\n\nexport const deleteTenantUser = ({\n  tenantId,\n  userId,\n}: {\n  tenantId: string;\n  userId: string;\n}) => request.delete(api.deleteTenantUser(tenantId, userId));\n\nexport const listTenant = () => request.get(api.listTenant);\n\nexport const agreeTenant = (tenantId: string) =>\n  request.put(api.agreeTenant(tenantId));\n\nexport default userService;\n","let api_host = `http://ec2-54-174-67-117.compute-1.amazonaws.com/v1`; //\"http://localhost:9380/v1\"; //\n\nexport { api_host }; \n\nexport default {\n  // user\n  login: `${api_host}/user/login`,\n  logout: `${api_host}/user/logout`,\n  register: `${api_host}/user/register`,\n  setting: `${api_host}/user/setting`,\n  user_info: `${api_host}/user/info`,\n  tenant_info: `${api_host}/user/tenant_info`,\n  set_tenant_info: `${api_host}/user/set_tenant_info`,\n\n  // team\n  addTenantUser: (tenantId: string) => `${api_host}/tenant/${tenantId}/user`,\n  listTenantUser: (tenantId: string) =>\n    `${api_host}/tenant/${tenantId}/user/list`,\n  deleteTenantUser: (tenantId: string, userId: string) =>\n    `${api_host}/tenant/${tenantId}/user/${userId}`,\n  listTenant: `${api_host}/tenant/list`,\n  agreeTenant: (tenantId: string) => `${api_host}/tenant/agree/${tenantId}`,\n\n  // llm model\n  factories_list: `${api_host}/llm/factories`,\n  llm_list: `${api_host}/llm/list`,\n  my_llm: `${api_host}/llm/my_llms`,\n  set_api_key: `${api_host}/llm/set_api_key`,\n  add_llm: `${api_host}/llm/add_llm`,\n  delete_llm: `${api_host}/llm/delete_llm`,\n  deleteFactory: `${api_host}/llm/delete_factory`,\n\n  // knowledge base\n  kb_list: `${api_host}/kb/list`,\n  create_kb: `${api_host}/kb/create`,\n  update_kb: `${api_host}/kb/update`,\n  rm_kb: `${api_host}/kb/rm`,\n  get_kb_detail: `${api_host}/kb/detail`,\n  getKnowledgeGraph: (knowledgeId: string) =>\n    `${api_host}/kb/${knowledgeId}/knowledge_graph`,\n\n  // tags\n  listTag: (knowledgeId: string) => `${api_host}/kb/${knowledgeId}/tags`,\n  listTagByKnowledgeIds: `${api_host}/kb/tags`,\n  removeTag: (knowledgeId: string) => `${api_host}/kb/${knowledgeId}/rm_tags`,\n  renameTag: (knowledgeId: string) =>\n    `${api_host}/kb/${knowledgeId}/rename_tag`,\n\n  // chunk\n  chunk_list: `${api_host}/chunk/list`,\n  create_chunk: `${api_host}/chunk/create`,\n  set_chunk: `${api_host}/chunk/set`,\n  get_chunk: `${api_host}/chunk/get`,\n  switch_chunk: `${api_host}/chunk/switch`,\n  rm_chunk: `${api_host}/chunk/rm`,\n  retrieval_test: `${api_host}/chunk/retrieval_test`,\n  knowledge_graph: `${api_host}/chunk/knowledge_graph`,\n\n  // document\n  get_document_list: `${api_host}/document/list`,\n  document_change_status: `${api_host}/document/change_status`,\n  document_rm: `${api_host}/document/rm`,\n  document_delete: `${api_host}/api/document`,\n  document_rename: `${api_host}/document/rename`,\n  document_create: `${api_host}/document/create`,\n  document_run: `${api_host}/document/run`,\n  document_change_parser: `${api_host}/document/change_parser`,\n  document_thumbnails: `${api_host}/document/thumbnails`,\n  get_document_file: `${api_host}/document/get`,\n  document_upload: `${api_host}/document/upload`,\n  web_crawl: `${api_host}/document/web_crawl`,\n  document_infos: `${api_host}/document/infos`,\n  upload_and_parse: `${api_host}/document/upload_and_parse`,\n  parse: `${api_host}/document/parse`,\n  setMeta: `${api_host}/document/set_meta`,\n\n  // chat\n  setDialog: `${api_host}/dialog/set`,\n  getDialog: `${api_host}/dialog/get`,\n  removeDialog: `${api_host}/dialog/rm`,\n  listDialog: `${api_host}/dialog/list`,\n  setConversation: `${api_host}/conversation/set`,\n  getConversation: `${api_host}/conversation/get`,\n  getConversationSSE: `${api_host}/conversation/getsse`,\n  listConversation: `${api_host}/conversation/list`,\n  removeConversation: `${api_host}/conversation/rm`,\n  completeConversation: `${api_host}/conversation/completion`,\n  deleteMessage: `${api_host}/conversation/delete_msg`,\n  thumbup: `${api_host}/conversation/thumbup`,\n  tts: `${api_host}/conversation/tts`,\n  ask: `${api_host}/conversation/ask`,\n  mindmap: `${api_host}/conversation/mindmap`,\n  getRelatedQuestions: `${api_host}/conversation/related_questions`,\n  // chat for external\n  createToken: `${api_host}/api/new_token`,\n  listToken: `${api_host}/api/token_list`,\n  removeToken: `${api_host}/api/rm`,\n  getStats: `${api_host}/api/stats`,\n  createExternalConversation: `${api_host}/api/new_conversation`,\n  getExternalConversation: `${api_host}/api/conversation`,\n  completeExternalConversation: `${api_host}/api/completion`,\n  uploadAndParseExternal: `${api_host}/api/document/upload_and_parse`,\n\n  // file manager\n  //listFile: `${api_host}/file/list`,\n  listFile: `${api_host}/file/listall`,\n  uploadFile: `${api_host}/file/upload`,\n  removeFile: `${api_host}/file/rm`,\n  renameFile: `${api_host}/file/rename`,\n  getAllParentFolder: `${api_host}/file/all_parent_folder`,\n  createFolder: `${api_host}/file/create`,\n  connectFileToKnowledge: `${api_host}/file2document/convert`,\n  getFile: `${api_host}/file/get`,\n  moveFile: `${api_host}/file/mv`,\n\n  // system\n  getSystemVersion: `${api_host}/system/version`,\n  getSystemStatus: `${api_host}/system/status`,\n  getSystemTokenList: `${api_host}/system/token_list`,\n  createSystemToken: `${api_host}/system/new_token`,\n  listSystemToken: `${api_host}/system/token_list`,\n  removeSystemToken: `${api_host}/system/token`,\n\n  // flow\n  listTemplates: `${api_host}/canvas/templates`,\n  listCanvas: `${api_host}/canvas/list`,\n  getCanvas: `${api_host}/canvas/get`,\n  getCanvasSSE: `${api_host}/canvas/getsse`,\n  removeCanvas: `${api_host}/canvas/rm`,\n  setCanvas: `${api_host}/canvas/set`,\n  resetCanvas: `${api_host}/canvas/reset`,\n  runCanvas: `${api_host}/canvas/completion`,\n  testDbConnect: `${api_host}/canvas/test_db_connect`,\n  getInputElements: `${api_host}/canvas/input_elements`,\n  debug: `${api_host}/canvas/debug`,\n};\n","import { variableEnabledFieldMap } from '@/constants/chat';\nimport omit from 'lodash/omit';\n\n// chat model setting and generate operator\nexport const excludeUnEnabledVariables = (\n  values: any = {},\n  prefix = 'llm_setting.',\n) => {\n  const unEnabledFields: Array<keyof typeof variableEnabledFieldMap> =\n    Object.keys(variableEnabledFieldMap).filter((key) => !values[key]) as Array<\n      keyof typeof variableEnabledFieldMap\n    >;\n\n  return unEnabledFields.map(\n    (key) => `${prefix}${variableEnabledFieldMap[key]}`,\n  );\n};\n\n// chat model setting and generate operator\nexport const removeUselessFieldsFromValues = (values: any, prefix?: string) => {\n  const nextValues: any = omit(values, [\n    ...Object.keys(variableEnabledFieldMap),\n    'parameter',\n    ...excludeUnEnabledVariables(values, prefix),\n  ]);\n\n  return nextValues;\n};\n","import omit from 'lodash/omit';\nimport { RequestMethod } from 'umi-request';\n\ntype Service<T extends string> = Record<\n  T,\n  (params?: any, urlAppendix?: string) => any\n>;\n\nconst Methods = ['post', 'delete', 'put'];\n\nconst registerServer = <T extends string>(\n  opt: Record<T, { url: string; method: string }>,\n  request: RequestMethod,\n) => {\n  const server: Service<T> = {} as Service<T>;\n  for (let key in opt) {\n    server[key] = (params?: any, urlAppendix?: string) => {\n      let url = opt[key].url;\n      const requestOptions = opt[key];\n      if (urlAppendix) {\n        url = url + '/' + urlAppendix;\n      }\n      if (Methods.some((x) => x === opt[key].method.toLowerCase())) {\n        return request(url, {\n          method: opt[key].method,\n          data: params,\n        });\n      }\n\n      if (opt[key].method === 'get' || opt[key].method === 'GET') {\n        return request.get(url, {\n          ...omit(requestOptions, ['method', 'url']),\n          params,\n        });\n      }\n    };\n  }\n  return server;\n};\n\nexport default registerServer;\n","import { Authorization } from '@/constants/authorization';\nimport { ResponseType } from '@/interfaces/database/base';\nimport i18n from '@/locales/config';\nimport authorizationUtil, {\n  getAuthorization,\n} from '@/utils/authorization-util';\nimport { message, notification } from 'antd';\nimport { history } from 'umi';\nimport { RequestMethod, extend } from 'umi-request';\nimport { convertTheKeysOfTheObjectToSnake } from './common-util';\n\nconst FAILED_TO_FETCH = 'Failed to fetch';\n\nconst RetcodeMessage = {\n  200: i18n.t('message.200'),\n  201: i18n.t('message.201'),\n  202: i18n.t('message.202'),\n  204: i18n.t('message.204'),\n  400: i18n.t('message.400'),\n  401: i18n.t('message.401'),\n  403: i18n.t('message.403'),\n  404: i18n.t('message.404'),\n  406: i18n.t('message.406'),\n  410: i18n.t('message.410'),\n  413: i18n.t('message.413'),\n  422: i18n.t('message.422'),\n  500: i18n.t('message.500'),\n  502: i18n.t('message.502'),\n  503: i18n.t('message.503'),\n  504: i18n.t('message.504'),\n};\ntype ResultCode =\n  | 200\n  | 201\n  | 202\n  | 204\n  | 400\n  | 401\n  | 403\n  | 404\n  | 406\n  | 410\n  | 413\n  | 422\n  | 500\n  | 502\n  | 503\n  | 504;\n\nconst errorHandler = (error: {\n  response: Response;\n  message: string;\n}): Response => {\n  const { response } = error;\n  if (error.message === FAILED_TO_FETCH) {\n    notification.error({\n      description: i18n.t('message.networkAnomalyDescription'),\n      message: i18n.t('message.networkAnomaly'),\n    });\n  } else {\n    if (response && response.status) {\n      const errorText =\n        RetcodeMessage[response.status as ResultCode] || response.statusText;\n      const { status, url } = response;\n      notification.error({\n        message: `${i18n.t('message.requestError')} ${status}: ${url}`,\n        description: errorText,\n      });\n    }\n  }\n  return response;\n};\n\nconst request: RequestMethod = extend({\n  errorHandler,\n  timeout: 300000,\n  getResponse: true,\n});\n\nrequest.interceptors.request.use((url: string, options: any) => {\n  const data = convertTheKeysOfTheObjectToSnake(options.data);\n  const params = convertTheKeysOfTheObjectToSnake(options.params);\n\n  return {\n    url,\n    options: {\n      ...options,\n      data,\n      params,\n      headers: {\n        ...(options.skipToken\n          ? undefined\n          : { [Authorization]: getAuthorization() }),\n        ...options.headers,\n      },\n      interceptors: true,\n    },\n  };\n});\n\nrequest.interceptors.response.use(async (response: any, options) => {\n  if (response?.status === 413 || response?.status === 504) {\n    message.error(RetcodeMessage[response?.status as ResultCode]);\n  }\n\n  if (options.responseType === 'blob') {\n    return response;\n  }\n\n  const data: ResponseType = await response?.clone()?.json();\n  if (data?.code === 100) {\n    message.error(data?.message);\n  } else if (data?.code === 401) {\n    notification.error({\n      message: data?.message,\n      description: data?.message,\n      duration: 3,\n    });\n    authorizationUtil.removeAll();\n    history.push('/login'); // Will not jump to the login page\n  } else if (data?.code !== 0) {\n    notification.error({\n      message: `${i18n.t('message.hint')} : ${data?.code}`,\n      description: data?.message,\n      duration: 3,\n    });\n  }\n  return response;\n});\n\nexport default request;\n\nexport const get = (url: string) => {\n  return request.get(url);\n};\n\nexport const post = (url: string, body: any) => {\n  return request.post(url, { data: body });\n};\n\nexport const drop = () => {};\n\nexport const put = () => {};\n"],"names":["Paragraph","Typography","Link","_ref","visible","hideModal","_ref$token","token","form","_ref$beta","beta","isAgent","t","useTranslate","isDarkTheme","useIsDarkTheme","text","concat","location","origin","items","key","label","children","_jsx","Card","title","extra","CopyToClipboard","className","styles","HightLightMarkdown","_jsxs","Modal","keyPrefix","open","style","top","width","onOk","onCancel","Tabs","defaultActiveKey","onChange","console","log","copyable","cn","_defineProperty","href","target","useOperateApiKey","idKey","dialogId","removeToken","useRemoveSystemToken","_useCreateSystemToken","useCreateSystemToken","createToken","creatingLoading","loading","_useFetchSystemTokenL","useFetchSystemTokenList","tokenList","data","listLoading","showDeleteConfirm","useShowDeleteConfirm","useCallback","useFetchTokenListBeforeOtherStep","showTokenEmptyError","message","error","_useShowBetaEmptyErro","showBetaEmptyError","useShowBetaEmptyError","_useFetchManualSystem","useFetchManualSystemTokenList","fetchSystemTokenList","Array","isArray","length","handleOperate","_asyncToGenerator","_regeneratorRuntime","mark","_callee","ret","list","_list$","wrap","_context","prev","next","sent","abrupt","stop","useShowEmbedModal","_useSetModalState","useSetModalState","embedVisible","hideEmbedModal","showEmbedModal","showModal","_useFetchTokenListBef","_callee2","_context2","embedToken","usePreviewChat","window","from","arguments","undefined","_window$location","protocol","host","getUrlWithToken","SharedFrom","Agent","Chat","handlePreview","_callee3","_context3","knowledgeOptions","useFetchKnowledgeList","map","x","Space","name","value","id","Form","Item","tooltip","rules","required","type","Select","mode","options","placeholder","prefix","_ref$formItemLayout","formItemLayout","useFormInstance","parameterOptions","Object","values","ModelVariableType","camelCase","handleParametersChange","variable","settledModelVariableMap","nextVariable","setFieldsValue","memorizedPrefix","useMemo","modelOptions","useComposeLlmOptionsByModelTypes","LlmModelType","Image2text","_Fragment","_objectSpread","showSearch","Divider","initialValue","Precise","Flex","gap","align","valuePropName","noStyle","Switch","size","dependencies","_ref2","disabled","getFieldValue","flex","_toConsumableArray","Slider","max","step","InputNumber","min","_ref3","_ref4","_ref5","_ref6","_ref$isTooltipShown","isTooltipShown","_ref$vectorSimilarity","vectorSimilarityWeightName","_ref$initialValue","_ref$max","fileIconMap","aep","ai","avi","css","csv","dmg","doc","docx","eps","exe","fig","gif","html","indd","java","jpeg","jpg","js","json","mkv","mp3","mp4","mpeg","pdf","png","ppt","pptx","psd","rss","sql","svg","tiff","txt","wav","webp","xls","xlsx","xml","LanguageList","LanguageMap","English","Other_language","LanguageTranslationMap","Chinese","Indonesia","Spanish","Vietnamese","Japanese","FileMimeType","Domain","Images","ExceptiveType","SupportedPreviewDocumentTypes","useFetchLlmList","modelType","_queryFn","_useQuery","useQuery","queryKey","initialData","queryFn","_data$data","_yield$userService$ll","userService","llm_list","model_type","apply","useSelectLlmOptionsByModelType","llmInfo","groupOptionsByModelType","entries","filter","_slicedToArray","some","includes","available","LlmIcon","fid","llm_name","_llm_name$split$at","split","at","height","Embedding","Speech2text","Rerank","TTS","modelTypes","allOptions","reduce","pre","cur","forEach","_item$options","item","find","y","push","useSelectLlmList","_queryFn3","_useQuery3","_queryFn2","_useQuery2","_useFetchMyLlmList","gcTime","_data$data3","_yield$userService$my","my_llm","isFetching","myLlmList","myLlmListLoading","_useFetchLlmFactoryLi","_data$data2","_yield$userService$fa","factories_list","factoryList","factoryListLoading","_ref8","_factoryList$find$log","_factoryList$find","_ref9","logo","currentList","keys","every","sortLLmFactoryListBySpecifiedOrder","useSaveApiKey","_mutationFn","queryClient","useQueryClient","useTranslation","_useMutation","useMutation","mutationKey","mutationFn","_callee4","params","_yield$userService$se","_context4","set_api_key","code","success","invalidateQueries","_x","isPending","saveApiKey","mutateAsync","useSaveTenantInfo","_mutationFn2","_useMutation2","_callee5","_yield$userService$se2","_context5","set_tenant_info","_x2","saveTenantInfo","useAddLlm","_mutationFn3","_useMutation3","_callee6","_yield$userService$ad","_context6","add_llm","_x3","addLlm","useDeleteLlm","_mutationFn4","_useMutation4","_callee7","_yield$userService$de","_context7","delete_llm","_x4","deleteLlm","useDeleteFactory","_mutationFn5","_useMutation5","_callee8","_yield$userService$de2","_context8","deleteFactory","_x5","useFetchUserInfo","i18n","_yield$userService$us","user_info","changeLanguage","language","useFetchTenantInfo","showEmptyModelWarn","_useTranslation2","_yield$userService$ge","res","_data","get_tenant_info","isEmpty","embd_id","llm_id","chat_id","speech2text_id","asr_id","useSelectParserList","tenantInfo","_tenantInfo$parser_id","_tenantInfo$parser_id2","parser_ids","arr","useSaveSetting","userInfo","setting","saveSetting","useFetchSystemVersion","_useState","useState","_useState2","version","setVersion","_useState3","_useState4","setLoading","fetchSystemVersion","_yield$userService$ge2","getSystemVersion","t0","useFetchSystemStatus","_useState5","_useState6","systemStatus","setSystemStatus","_useState7","_useState8","fetchSystemStatus","_yield$userService$ge3","getSystemStatus","_yield$userService$li","listToken","_yield$userService$li2","refetch","_data$data4","_yield$userService$re","_callee9","_data$data5","_yield$userService$cr","_context9","useListTenantUser","_queryFn4","tenantId","tenant_id","_useQuery4","enabled","_callee10","_data$data6","_yield$listTenantUser","_context10","listTenantUser","useAddTenantUser","_callee11","email","_yield$addTenantUser","_context11","addTenantUser","useDeleteTenantUser","_mutationFn6","_useMutation6","_callee12","_data$data7","userId","_yield$deleteTenantUs","_context12","deleteTenantUser","useListTenant","_queryFn5","_useQuery5","_callee13","_data$data8","_yield$listTenant","_context13","listTenant","useAgreeTenant","_mutationFn7","_useMutation7","_callee14","_data$data9","_yield$agreeTenant","_context14","agreeTenant","_x6","login","api","logout","register","tenant_info","getSystemTokenList","removeSystemToken","methods","url","method","createSystemToken","registerServer","request","post","api_host","kb_list","create_kb","update_kb","rm_kb","get_kb_detail","getKnowledgeGraph","knowledgeId","listTag","listTagByKnowledgeIds","removeTag","renameTag","chunk_list","create_chunk","set_chunk","get_chunk","switch_chunk","rm_chunk","retrieval_test","knowledge_graph","get_document_list","document_change_status","document_rm","document_delete","document_rename","document_create","document_run","document_change_parser","document_thumbnails","get_document_file","document_upload","web_crawl","document_infos","upload_and_parse","parse","setMeta","setDialog","getDialog","removeDialog","listDialog","setConversation","getConversation","getConversationSSE","listConversation","removeConversation","completeConversation","deleteMessage","thumbup","tts","ask","mindmap","getRelatedQuestions","getStats","createExternalConversation","getExternalConversation","completeExternalConversation","uploadAndParseExternal","listFile","uploadFile","removeFile","renameFile","getAllParentFolder","createFolder","connectFileToKnowledge","getFile","moveFile","listSystemToken","listTemplates","listCanvas","getCanvas","getCanvasSSE","removeCanvas","setCanvas","resetCanvas","runCanvas","testDbConnect","getInputElements","debug","removeUselessFieldsFromValues","nextValues","omit","variableEnabledFieldMap","unEnabledFields","excludeUnEnabledVariables","Methods","opt","server","_loop","urlAppendix","requestOptions","toLowerCase","get","RetcodeMessage","extend","errorHandler","response","notification","description","status","errorText","statusText","timeout","getResponse","interceptors","use","convertTheKeysOfTheObjectToSnake","headers","skipToken","Authorization","getAuthorization","_response$clone","responseType","clone","duration","authorizationUtil","removeAll","history","body"],"sourceRoot":""}