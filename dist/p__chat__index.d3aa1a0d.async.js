"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8301],{3012:function(e,n,t){t.d(n,{Z:function(){return B}});var i=t(9783),r=t.n(i),a=t(19632),s=t.n(a),o=t(97857),l=t.n(o),c=t(15009),d=t.n(c),u=t(99289),m=t.n(u),p=t(5574),f=t.n(p),h=t(86968),v=t(93352),x=t(5089),g=t(51331),j=t(50888),b=t(45605),_=t(18429),Z=t(22850),k=t(86250),y=t(79531),C=t(42075),w=t(31365),I=t(15867),M=t(2487),P=t(4393),E=t(75081),N=t(93967),S=t.n(N),D=t(27361),A=t.n(D),O=t(84617),F=t(62435),R=t(3234),L={messageInputWrapper:"messageInputWrapper___nie1o",documentCard:"documentCard___JpeyA",listWrapper:"listWrapper___CSYW_",inputWrapper:"inputWrapper___xWIXi",deleteIcon:"deleteIcon___ilZaY"},T=t(86074),W=Z.Z.Text,q=function(e){return A()(e,"response.data.0")},V=function(e){return e.reduce((function(e,n){return e.concat(A()(n,"response.data",[]))}),[])},U=function(e){return new Promise((function(n,t){var i=new FileReader;i.readAsDataURL(e),i.onload=function(){return n(i.result)},i.onerror=function(e){return t(e)}}))},z=function(e){var n=e.isShared,t=void 0!==n&&n,i=e.disabled,a=e.value,o=e.onPressEnter,c=e.sendDisabled,u=e.sendLoading,p=e.onInputChange,Z=e.conversationId,N=e.showUploadIcon,D=void 0===N||N,z=e.createConversationBeforeUploadDocument,B=e.uploadMethod,$=void 0===B?"upload_and_parse":B,X=(0,h.qM)("chat").t,H=(0,v.an)().removeDocument,Y=(0,v.wO)().deleteDocument,G=(0,v.hf)(),J=G.data,K=G.setDocumentIds,Q=(0,v.tC)($).uploadAndParseDocument,ee=(0,F.useRef)(Z),ne=(0,F.useState)([]),te=f()(ne,2),ie=te[0],re=te[1],ae=function(){var e=m()(d()().mark((function e(n){return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.url||n.preview){e.next=4;break}return e.next=3,U(n.originFileObj);case 3:n.preview=e.sent;case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),se=function(){var e=m()(d()().mark((function e(n){var t,i,r,a;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.file,i=Z,!z){e.next=7;break}return e.next=5,z(t.name);case 5:0===(null==(r=e.sent)?void 0:r.code)&&(i=r.data.id);case 7:return re((function(e){return e.push(l()(l()({},t),{},{status:"uploading",originFileObj:t})),s()(e)})),e.next=10,Q({conversationId:i,fileList:[t]});case 10:a=e.sent,re((function(e){var n=e.filter((function(e){return e.uid!==t.uid}));return n.push(l()(l()({},t),{},{originFileObj:t,response:a,percent:100,status:0===(null==a?void 0:a.code)?"done":"error"})),n}));case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),oe=ie.some((function(e){return"uploading"===e.status})),le=(0,F.useCallback)(m()(d()().mark((function e(){var n;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!oe){e.next=2;break}return e.abrupt("return");case 2:n=V(ie.filter((function(e){return n=e,"number"==typeof(t=A()(n,"response.code"))&&0===t;var n,t}))),o(n),re([]);case 5:case"end":return e.stop()}}),e)}))),[ie,o,oe]),ce=(0,F.useCallback)(function(){var e=m()(d()().mark((function e(n){var i;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=A()(n,"response.data",[]),!Array.isArray(i)||!i.length){e.next=12;break}if(!t){e.next=7;break}return e.next=5,Y(i);case 5:e.next=9;break;case 7:return e.next=9,H(i[0]);case 9:re((function(e){return e.filter((function(e){return q(e)!==i[0]}))})),e.next=13;break;case 12:re((function(e){return e.filter((function(e){return e.uid!==n.uid}))}));case 13:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[H,Y,t]),de=(0,F.useCallback)((function(e){return J.find((function(n){return n.id===e}))}),[J]);return(0,F.useEffect)((function(){var e=V(ie);K(e)}),[ie,K]),(0,F.useEffect)((function(){ee.current&&Z!==ee.current&&re([]),ee.current=Z}),[Z,re]),(0,T.jsxs)(k.Z,{gap:20,vertical:!0,className:L.messageInputWrapper,children:[(0,T.jsx)(y.Z,{size:"large",placeholder:X("sendPlaceholder"),value:a,disabled:i,className:S()(r()({},L.inputWrapper,0===ie.length)),suffix:(0,T.jsxs)(C.Z,{children:[D&&(0,T.jsx)(w.Z,{onPreview:ae,onChange:se,multiple:!1,onRemove:ce,showUploadList:!1,beforeUpload:function(){return!1},children:(0,T.jsx)(I.ZP,{type:"text",disabled:i,icon:(0,T.jsx)(O.Z,{})})}),(0,T.jsx)(I.ZP,{type:"primary",onClick:le,loading:u,disabled:c||oe,children:X("send")})]}),onPressEnter:le,onChange:p}),ie.length>0&&(0,T.jsx)(M.Z,{grid:{gutter:16,xs:1,sm:1,md:1,lg:1,xl:2,xxl:4},dataSource:ie,className:L.listWrapper,renderItem:function(e){var n,t,i,r,a,s=q(e),o=de(s),l=(0,x.RT)(null!==(n=null==o?void 0:o.name)&&void 0!==n?n:""),c=null!==(t=null===(i=e.originFileObj)||void 0===i?void 0:i.name)&&void 0!==t?t:"";return(0,T.jsx)(M.Z.Item,{children:(0,T.jsxs)(P.Z,{className:L.documentCard,children:[(0,T.jsxs)(k.Z,{gap:10,align:"center",children:["uploading"===e.status?(0,T.jsx)(E.Z,{indicator:(0,T.jsx)(j.Z,{style:{fontSize:24},spin:!0})}):"error"===e.status?(0,T.jsx)(b.Z,{size:30}):(0,T.jsx)(R.Z,{id:s,name:c}),(0,T.jsxs)(k.Z,{vertical:!0,style:{width:"90%"},children:[(0,T.jsx)(W,{ellipsis:{tooltip:c},className:L.nameText,children:(0,T.jsxs)("b",{children:[" ",c]})}),"error"===e.status?X("uploadFailed"):(0,T.jsx)(T.Fragment,{children:100!==e.percent?X("uploading"):e.response?(0,T.jsxs)(C.Z,{children:[(0,T.jsxs)("span",{children:[null==l?void 0:l.toUpperCase(),","]}),(0,T.jsx)("span",{children:(0,g.td)(null!==(r=null===(a=de(s))||void 0===a?void 0:a.size)&&void 0!==r?r:0)})]}):X("parsing")})]})]}),"uploading"!==e.status&&(0,T.jsx)("span",{className:L.deleteIcon,children:(0,T.jsx)(_.Z,{onClick:function(){return ce(e)}})})]})})}})]})},B=(0,F.memo)(z)},89545:function(e,n,t){var i=t(15009),r=t.n(i),a=t(99289),s=t.n(a),o=t(5574),l=t.n(o),c=t(86968),d=t(99859),u=t(85576),m=t(79531),p=t(62435),f=t(86074);n.Z=function(e){var n=e.visible,t=e.hideModal,i=e.loading,a=e.initialName,o=e.onOk,h=d.Z.useForm(),v=l()(h,1)[0],x=(0,c.qM)("common").t,g=function(){var e=s()(r()().mark((function e(){var n;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.validateFields();case 2:return n=e.sent,e.abrupt("return",o(n.name));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,p.useEffect)((function(){n&&v.setFieldValue("name",a)}),[a,v,n]),(0,f.jsx)(u.Z,{title:x("rename"),open:n,onOk:g,onCancel:function(){t()},okButtonProps:{loading:i},confirmLoading:i,children:(0,f.jsx)(d.Z,{name:"basic",labelCol:{span:4},wrapperCol:{span:20},style:{maxWidth:600},onFinish:function(e){console.log("Success:",e)},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",form:v,children:(0,f.jsx)(d.Z.Item,{label:x("name"),name:"name",rules:[{required:!0,message:x("namePlaceholder")}],children:(0,f.jsx)(m.Z,{})})})})}},35368:function(e,n,t){t.r(n),t.d(n,{default:function(){return He}});var i=t(9783),r=t.n(i),a=t(5574),s=t.n(a),o=t(62435),l=Object.defineProperty,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,m=(e,n,t)=>n in e?l(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;const p=e=>o.createElement("svg",((e,n)=>{for(var t in n||(n={}))d.call(n,t)&&m(e,t,n[t]);if(c)for(var t of c(n))u.call(n,t)&&m(e,t,n[t]);return e})({width:15,height:14,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o.createElement("path",{d:"m6.188 12.104.859.478c.165.092.248.138.335.156a.581.581 0 0 0 .236 0c.087-.018.17-.064.335-.156l.86-.478m-5.25-1.458-.833-.462c-.175-.097-.262-.146-.326-.215a.583.583 0 0 1-.125-.212c-.029-.09-.029-.19-.029-.39V8.46m0-2.917v-.91c0-.199 0-.299.03-.388a.583.583 0 0 1 .124-.212c.064-.07.151-.118.326-.215l.833-.463m2.624-1.458.86-.477c.165-.092.248-.138.335-.156a.583.583 0 0 1 .236 0c.087.018.17.064.335.156l.86.477m2.624 1.458.833.463c.175.097.262.146.326.215a.584.584 0 0 1 .125.212c.029.089.029.189.029.389v.909m0 2.917v.909c0 .2 0 .3-.03.389a.584.584 0 0 1-.124.212c-.064.07-.151.118-.326.215l-.832.462m-5.25-4.375 1.312.73m0 0 1.313-.73m-1.313.73v1.458M2.25 4.084l1.313.729m7.874 0 1.313-.73M7.5 11.376v1.459",stroke:"#A5A3A9",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}));var f=t(89545),h=t(86548),v=t(48689),x=t(22850),g=t(42075),j=t(86250),b=t(15867),_=t(96074),Z=t(75081),k=t(4393),y=t(7134),C=t(85418),w=t(66309),I=t(83062),M=t(93967),P=t.n(M),E=t(15009),N=t.n(E),S=t(97857),D=t.n(S),A=t(99289),O=t.n(A),F=t(96330),R=t(86968),L=t(2938),T=t(51418),W=t(99859),q=t(85576),V=t(92783),U=t(68929),z=t.n(U),B=t(24969),$=t(45360),X=t(79531),H=t(34041),Y=t(91929),G=t(39259),J="chatConfigurationDescription___Marto",K="segmentedHidden___jWNN7",Q=t(86074),ee=function(e){var n=e.show,t=e.form,i=(0,R.qM)("chat").t,a=(0,G.fS)(!0).data;(0,o.useCallback)((function(e){e&&!a.tts_id&&($.ZP.error("Please set TTS model firstly. \n        Setting >> Model providers >> System model settings"),t.setFieldValue(["prompt_config","tts"],!1))}),[a,t]),B.Z,i("upload",{keyPrefix:"common"});return(0,Q.jsxs)("section",{className:P()(r()({},K,!n)),children:[(0,Q.jsx)(W.Z.Item,{name:"name",label:i("assistantName"),rules:[{required:!0,message:i("assistantNameMessage")}],children:(0,Q.jsx)(X.Z,{placeholder:i("namePlaceholder")})}),(0,Q.jsx)(W.Z.Item,{name:"language",label:i("language"),initialValue:"English",tooltip:"coming soon",style:{display:"none"},required:!1,children:(0,Q.jsx)(H.Z,{options:[{value:"Chinese",label:i("chinese",{keyPrefix:"common"})},{value:"English",label:i("english",{keyPrefix:"common"})}]})}),(0,Q.jsx)(W.Z.Item,{name:["prompt_config","empty_response"],label:i("emptyResponse"),tooltip:i("emptyResponseTip"),children:(0,Q.jsx)(X.Z,{placeholder:""})}),(0,Q.jsx)(W.Z.Item,{name:["prompt_config","prologue"],label:i("setAnOpener"),tooltip:i("setAnOpenerTip"),initialValue:i("setAnOpenerInitial"),children:(0,Q.jsx)(X.Z.TextArea,{autoSize:{minRows:3}})}),(0,Q.jsx)(Y.Z,{})]})},ne=t(58057),te=t(1079),ie=function(e){var n=e.show,t=e.form,i=e.initialLlmSetting,a=e.visible;return(0,o.useEffect)((function(){if(a){var e=Object.keys(te.vv).reduce((function(e,n){return e[n]=void 0===i||!!i[te.vv[n]],e}),{});t.setFieldsValue(e)}}),[t,i,a]),(0,Q.jsx)("section",{className:P()(r()({},K,!n)),children:a&&(0,Q.jsx)(ne.Z,{prefix:"llm_setting"})})},re=t(19632),ae=t.n(re),se=t(32739),oe=(t(72269),t(57632),t(13769),t(84676)),le=t(41923),ce=function(e,n){var t=e.show,i=(0,o.useState)([]),a=s()(i,2),l=a[0],c=a[1],d=(0,le.GI)(),u=(0,R.qM)("chat").t,m=function(e){var n=ae()(l),t=n.findIndex((function(n){return e.key===n.key})),i=n[t];n.splice(t,1,D()(D()({},i),e)),c(n)};(0,o.useImperativeHandle)(n,(function(){return l.filter((function(e){return""!==e.variable.trim()})).map((function(e){return{key:e.variable,optional:e.optional}}))}),[l]);u("key"),u("optional"),u("operation");return(0,o.useEffect)((function(){c(d)}),[d]),(0,Q.jsxs)("section",{className:P()(r()({},K,!t)),children:[(0,Q.jsx)(W.Z.Item,{label:u("system"),rules:[{required:!0,message:u("systemMessage")}],tooltip:u("systemTip"),name:["prompt_config","system"],initialValue:u("systemInitialValue"),children:(0,Q.jsx)(X.Z.TextArea,{autoSize:{maxRows:8,minRows:5}})}),(0,Q.jsx)(_.Z,{}),(0,Q.jsx)(se.Z,{isTooltipShown:!0}),(0,Q.jsx)(oe.Z,{})]})},de=(0,o.forwardRef)(ce),ue={labelCol:{span:9},wrapperCol:{span:15}},me={required:"${label} is required!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},pe=function(e){return e.AssistantSetting="Assistant Setting",e.PromptEngine="Prompt Engine",e.ModelSetting="Model Setting",e}(pe||{}),fe=r()(r()(r()({},pe.AssistantSetting,ee),pe.ModelSetting,ie),pe.PromptEngine,de),he=function(e){var n=e.visible,t=e.hideModal,i=e.initialDialog,r=e.loading,a=e.onOk,l=e.clearDialog,c=W.Z.useForm(),d=s()(c,1)[0],u=(0,o.useState)(pe.AssistantSetting),m=s()(u,2),p=m[0],f=m[1],h=(0,o.useRef)([]),v=(0,L.ox)(),x=(0,R.qM)("chat").t,g=function(){var e=O()(N()().mark((function e(){var n,t,r,s,o,l;return N()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.validateFields();case 2:r=e.sent,s=(0,T.R)(r,"llm_setting."),o=null!==(n=null===(t=s.prompt_config)||void 0===t?void 0:t.empty_response)&&void 0!==n?n:"",null,l=D()(D()({dialog_id:i.id},s),{},{vector_similarity_weight:1-s.vector_similarity_weight,prompt_config:D()(D()({},s.prompt_config),{},{parameters:h.current,empty_response:o}),icon:null}),a(l);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=(0,Q.jsx)(j.Z,{gap:16,children:(0,Q.jsxs)("div",{children:[(0,Q.jsx)("b",{children:x("chatConfiguration")}),(0,Q.jsx)("div",{className:J,children:x("chatConfigurationDescription")})]})});return(0,o.useEffect)((function(){if(n){var e,t,r,a=i.icon,s=[];a&&(s=[{uid:"1",name:"file",thumbUrl:a,status:"done"}]),d.setFieldsValue(D()(D()({},i),{},{llm_setting:null!==(e=i.llm_setting)&&void 0!==e?e:F.S8[F.oQ.Precise],icon:s,llm_id:null!==(t=i.llm_id)&&void 0!==t?t:v,vector_similarity_weight:1-(null!==(r=i.vector_similarity_weight)&&void 0!==r?r:.3)}))}}),[i,d,n,v]),(0,Q.jsxs)(q.Z,{title:b,width:688,open:n,onOk:g,onCancel:t,confirmLoading:r,destroyOnClose:!0,afterClose:function(){l(),d.resetFields()},children:[(0,Q.jsx)(V.Z,{size:"large",value:p,onChange:function(e){f(e)},options:Object.values(pe).map((function(e){return{label:x(z()(e)),value:e}})),block:!0}),(0,Q.jsx)(_.Z,{}),(0,Q.jsx)(W.Z,D()(D()({},ue),{},{name:"nest-messages",form:d,style:{maxWidth:600},validateMessages:me,colon:!1,children:Object.entries(fe).map((function(e){var t=s()(e,2),r=t[0],a=t[1];return(0,Q.jsx)(a,D()(D()({show:r===p,form:d},r===pe.ModelSetting?{initialLlmSetting:i.llm_setting,visible:n}:{}),r===pe.PromptEngine?{ref:h}:{}),r)}))}))]})},ve=t(26975),xe=t(35293),ge=t(3012),je=t(61110),be=t(71580),_e=t(91028),Ze=t(71250),ke="chatContainer___KnZy3",ye="messageContainer___HpbDk",Ce=function(e){var n=e.controller,t=(0,_e.g6)().conversationId,i=(0,_e.WP)().data,r=(0,le.s3)(n),a=r.value,s=r.ref,o=r.loading,l=r.sendLoading,c=r.derivedMessages,d=r.handleInputChange,u=r.handlePressEnter,m=r.regenerateMessage,p=r.removeMessageById,f=(0,be.B)(),h=f.visible,v=f.hideModal,x=f.documentId,g=f.selectedChunk,b=f.clickDocumentButton,_=(0,le.lT)(),k=(0,le.q3)(a);(0,le.G8)();var y=(0,G.jd)().data,C=(0,le.sk)().createConversationBeforeUploadDocument;return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)(j.Z,{flex:1,className:ke,vertical:!0,children:[(0,Q.jsxs)(j.Z,{flex:1,vertical:!0,className:ye,children:[(0,Q.jsx)("div",{children:(0,Q.jsx)(Z.Z,{spinning:o,children:null==c?void 0:c.map((function(e,n){return(0,Q.jsx)(ve.Z,{loading:e.role===te.Cs.Assistant&&l&&c.length-1===n,item:e,nickname:y.nickname,avatar:y.avatar,avatardialog:i.avatar,reference:(0,xe.oI)({message:c,reference:i.reference},e),clickDocumentButton:b,index:n,removeMessageById:p,regenerateMessage:m,sendLoading:l},(0,Ze.mN)(e))}))})}),(0,Q.jsx)("div",{ref:s})]}),(0,Q.jsx)(ge.Z,{disabled:_,sendDisabled:k,sendLoading:l,value:a,onInputChange:d,onPressEnter:u,conversationId:t,createConversationBeforeUploadDocument:C})]}),(0,Q.jsx)(je.Z,{visible:h,hideModal:v,documentId:x,chunk:g})]})},we=(0,o.memo)(Ce),Ie=t(7502),Me=t(5600),Pe=t(46693),Ee=t(98236),Ne=t(2072),Se="chatWrapper___LQ6YY",De="chatAppWrapper___hrF6r",Ae="chatAppContent___Ri0fp",Oe="chatAppCard___kPbxc",Fe="cubeIcon___zAmbo",Re="chatAppCardSelected___h9j2W",Le="chatAppCardSelectedDark___K4uSc",Te="chatTitleWrapper___MXbZF",We="chatTitle___cyXkX",qe="chatTitleContent___XsLt3",Ve="chatSpin___J9mE8",Ue="chatTitleCard___Pnbv0",ze="chatTitleCardSelected___A8BIt",Be="chatTitleCardSelectedDark___isklU",$e="divider___d5TdM",Xe=x.Z.Text,He=function(){var e=(0,_e.en)(),n=e.data,t=e.loading,i=(0,le.dd)().onRemoveDialog,a=(0,le.E$)().onRemoveConversation,l=(0,_e.$D)().handleClickDialog,c=(0,_e.vV)().handleClickConversation,d=(0,_e.g6)(),u=d.dialogId,m=d.conversationId,x=(0,Ee.Fg)().theme,M=(0,le.ch)(),E=M.list,N=M.addTemporaryConversation,S=M.loading,D=(0,le.XU)(),A=D.activated,O=D.handleItemEnter,F=D.handleItemLeave,T=(0,le.XU)(),W=T.activated,q=T.handleItemEnter,V=T.handleItemLeave,U=(0,le.hF)(),z=U.conversationRenameLoading,B=U.initialConversationName,$=U.onConversationRenameOk,X=U.conversationRenameVisible,H=U.hideConversationRenameModal,Y=U.showConversationRenameModal,G=(0,le.HN)(),J=G.dialogSettingLoading,K=G.initialDialog,ee=G.onDialogEditOk,ne=G.dialogEditVisible,ie=G.clearDialog,re=G.hideDialogEditModal,ae=G.showDialogEditModal,se=(0,R.qM)("chat").t,oe=(0,L.cE)(),ce=oe.currentRecord,de=oe.setRecord,ue=(0,o.useState)(new AbortController),me=s()(ue,2),pe=me[0],fe=me[1],ve=(0,Me.iV)(),xe=ve.showEmbedModal,ge=ve.hideEmbedModal,je=ve.embedVisible,be=ve.beta,Ze=function(e){return function(n){var t,i;null==n||null===(t=n.domEvent)||void 0===t||t.preventDefault(),null==n||null===(i=n.domEvent)||void 0===i||i.stopPropagation(),ae(e)}},ke=function(e){return function(n){var t=n.domEvent;t.preventDefault(),t.stopPropagation(),i([e])}},ye=function(e){return function(n){var t,i;null==n||null===(t=n.domEvent)||void 0===t||t.preventDefault(),null==n||null===(i=n.domEvent)||void 0===i||i.stopPropagation(),de(e),xe()}},Ce=function(e){return function(n){var t=n.domEvent;t.preventDefault(),t.stopPropagation(),a([e])}},He=function(e){return function(n){var t=n.domEvent;t.preventDefault(),t.stopPropagation(),Y(e)}},Ye=(0,o.useCallback)((function(e){return function(){l(e)}}),[l]),Ge=(0,o.useCallback)((function(e,n){return function(){c(e,n?"true":""),fe((function(e){return e.abort(),new AbortController}))}}),[c]),Je=(0,o.useCallback)((function(){N()}),[N]),Ke=function(e){var n=e.id;return[{key:"1",onClick:Ze(n),label:(0,Q.jsxs)(g.Z,{children:[(0,Q.jsx)(h.Z,{}),se("edit",{keyPrefix:"common"})]})},{type:"divider"},{key:"2",onClick:ke(n),label:(0,Q.jsxs)(g.Z,{children:[(0,Q.jsx)(v.Z,{}),se("delete",{keyPrefix:"common"})]})},{type:"divider"},{key:"3",onClick:ye(e),label:(0,Q.jsxs)(g.Z,{children:[(0,Q.jsx)(Ne.Z,{className:"size-4"}),se("embedIntoSite",{keyPrefix:"common"})]})}]},Qe=function(e){return[{key:"1",onClick:He(e),label:(0,Q.jsxs)(g.Z,{children:[(0,Q.jsx)(h.Z,{}),se("rename",{keyPrefix:"common"})]})},{type:"divider"},{key:"2",onClick:Ce(e),label:(0,Q.jsxs)(g.Z,{children:[(0,Q.jsx)(v.Z,{}),se("delete",{keyPrefix:"common"})]})}]};return(0,Q.jsxs)(j.Z,{className:Se,children:[(0,Q.jsx)(j.Z,{className:De,children:(0,Q.jsxs)(j.Z,{flex:1,vertical:!0,children:[(0,Q.jsx)(b.ZP,{type:"primary",onClick:Ze(),children:se("createAssistant")}),(0,Q.jsx)(_.Z,{}),(0,Q.jsx)(j.Z,{className:Ae,vertical:!0,gap:10,children:(0,Q.jsx)(Z.Z,{spinning:t,wrapperClassName:Ve,children:n.map((function(e){return(0,Q.jsx)(k.Z,{hoverable:!0,className:P()(Oe,r()({},"dark"===x?Le:Re,u===e.id)),onMouseEnter:(n=e.id,function(){O(n)}),onMouseLeave:F,onClick:Ye(e.id),children:(0,Q.jsxs)(j.Z,{justify:"space-between",align:"center",children:[(0,Q.jsxs)(g.Z,{size:15,children:[(0,Q.jsx)(y.C,{src:e.icon,shape:"square"}),(0,Q.jsxs)("section",{children:[(0,Q.jsx)("b",{children:(0,Q.jsx)(Xe,{ellipsis:{tooltip:e.name},style:{width:130},children:e.name})}),(0,Q.jsx)("div",{children:e.description})]})]}),A===e.id&&(0,Q.jsx)("section",{children:(0,Q.jsx)(C.Z,{menu:{items:Ke(e)},children:(0,Q.jsx)(p,{className:Fe})})})]})},e.id);var n}))})})]})}),(0,Q.jsx)(_.Z,{type:"vertical",className:$e}),(0,Q.jsx)(j.Z,{className:Te,children:(0,Q.jsxs)(j.Z,{flex:1,vertical:!0,children:[(0,Q.jsxs)(j.Z,{justify:"space-between",align:"center",className:We,children:[(0,Q.jsxs)(g.Z,{children:[(0,Q.jsx)("b",{children:se("chat")}),(0,Q.jsx)(w.Z,{children:E.length})]}),(0,Q.jsx)(I.Z,{title:se("newChat"),children:(0,Q.jsx)("div",{children:(0,Q.jsx)(Pe.Z,{name:"plus-circle-fill",width:20,onClick:Je})})})]}),(0,Q.jsx)(_.Z,{}),(0,Q.jsx)(j.Z,{vertical:!0,gap:10,className:qe,children:(0,Q.jsx)(Z.Z,{spinning:S,wrapperClassName:Ve,children:E.map((function(e){return(0,Q.jsx)(k.Z,{hoverable:!0,onClick:Ge(e.id,e.is_new),onMouseEnter:(n=e.id,function(){q(n)}),onMouseLeave:V,className:P()(Ue,r()({},"dark"===x?Be:ze,e.id===m)),children:(0,Q.jsxs)(j.Z,{justify:"space-between",align:"center",children:[(0,Q.jsx)("div",{children:(0,Q.jsx)(Xe,{ellipsis:{tooltip:e.name},style:{width:150},children:e.name})}),W===e.id&&""!==e.id&&!e.is_new&&(0,Q.jsx)("section",{children:(0,Q.jsx)(C.Z,{menu:{items:Qe(e.id)},children:(0,Q.jsx)(p,{className:Fe})})})]})},e.id);var n}))})})]})}),(0,Q.jsx)(_.Z,{type:"vertical",className:$e}),(0,Q.jsx)(we,{controller:pe}),ne&&(0,Q.jsx)(he,{visible:ne,initialDialog:K,showModal:ae,hideModal:re,loading:J,onOk:ee,clearDialog:ie}),(0,Q.jsx)(f.Z,{visible:X,hideModal:H,onOk:$,initialName:B,loading:z}),je&&(0,Q.jsx)(Ie.Z,{visible:je,hideModal:ge,token:ce.id,form:te.qH.Chat,beta:be,isAgent:!1})]})}}}]);
//# sourceMappingURL=p__chat__index.d3aa1a0d.async.js.map