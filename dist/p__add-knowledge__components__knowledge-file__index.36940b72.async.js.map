{"version":3,"file":"p__add-knowledge__components__knowledge-file__index.36940b72.async.js","mappings":"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","sources":["webpack:///./src/components/chunk-method-modal/hooks.ts","webpack:///./src/components/edit-tag/index.less?3847","webpack:///./src/components/edit-tag/index.tsx","webpack:///./src/components/file-upload-modal/index.less?4e00","webpack:///./src/components/file-upload-modal/index.tsx","webpack:///./src/constants/chat.ts","webpack:///./src/constants/common.ts","webpack:///./src/constants/knowledge.ts","webpack:///./src/hooks/common-hooks.tsx","webpack:///./src/hooks/llm-hooks.tsx","webpack:///./src/hooks/logic-hooks.ts","webpack:///./src/hooks/route-hook.ts","webpack:///./src/hooks/user-setting-hooks.tsx","webpack:///./src/components/max-token-number.tsx","webpack:///./src/components/auto-keywords-item.tsx","webpack:///./src/components/delimiter.tsx","webpack:///./src/components/entity-types-item.tsx","webpack:///./src/components/excel-to-html.tsx","webpack:///./src/components/layout-recognize.tsx","webpack:///./src/components/parse-configuration/index.tsx","webpack:///./src/components/parse-configuration/graph-rag-items.tsx","webpack:///./src/components/chunk-method-modal/index.less?91a6","webpack:///./src/components/chunk-method-modal/index.tsx","webpack:///./src/pages/add-knowledge/components/knowledge-file/create-file-modal.tsx","webpack:///./src/assets/svg/cancel.svg","webpack:///./src/assets/svg/delete.svg","webpack:///./src/assets/svg/disable.svg","webpack:///./src/assets/svg/enable.svg","webpack:///./src/assets/svg/run.svg","webpack:///./src/pages/add-knowledge/components/knowledge-file/index.less?4526","webpack:///./src/pages/add-knowledge/components/knowledge-file/document-toolbar.tsx","webpack:///./src/pages/add-knowledge/components/knowledge-file/constant.ts","webpack:///./src/pages/add-knowledge/components/knowledge-file/utils.ts","webpack:///./src/pages/add-knowledge/components/knowledge-file/parsing-action-cell/index.less?abf7","webpack:///./src/pages/add-knowledge/components/knowledge-file/parsing-action-cell/index.tsx","webpack:///./src/assets/svg/refresh.svg","webpack:///./src/pages/add-knowledge/components/knowledge-file/parsing-status-cell/index.less?28f2","webpack:///./src/pages/add-knowledge/components/knowledge-file/parsing-status-cell/index.tsx","webpack:///./src/pages/add-knowledge/components/knowledge-file/hooks.ts","webpack:///./src/pages/add-knowledge/components/knowledge-file/rename-modal/index.tsx","webpack:///./src/pages/add-knowledge/components/knowledge-file/web-crawl-modal.tsx","webpack:///./src/pages/add-knowledge/components/knowledge-file/set-meta-modal/index.tsx","webpack:///./src/pages/add-knowledge/components/knowledge-file/index.tsx","webpack:///./src/services/file-manager-service.ts","webpack:///./src/services/knowledge-service.ts","webpack:///./src/services/user-service.ts","webpack:///./src/utils/api.ts","webpack:///./src/utils/chat.ts","webpack:///./src/utils/date.ts","webpack:///./src/utils/file-util.ts","webpack:///./src/utils/register-server.ts","webpack:///./src/utils/request.ts","webpack:///./src/hooks/ lazy namespace object"],"sourcesContent":["import { useHandleChunkMethodSelectChange } from '@/hooks/logic-hooks';\nimport { useSelectParserList } from '@/hooks/user-setting-hooks';\nimport { FormInstance } from 'antd';\nimport { useCallback, useEffect, useMemo, useState } from 'react';\n\nconst ParserListMap = new Map([\n  [\n    ['pdf'],\n    [\n      'naive',\n      'resume',\n      'manual',\n      'paper',\n      'book',\n      'laws',\n      'presentation',\n      'one',\n      'qa',\n      'knowledge_graph',\n    ],\n  ],\n  [\n    ['doc', 'docx'],\n    [\n      'naive',\n      'resume',\n      'book',\n      'laws',\n      'one',\n      'qa',\n      'manual',\n      'knowledge_graph',\n    ],\n  ],\n  [\n    ['xlsx', 'xls'],\n    ['naive', 'qa', 'table', 'one', 'knowledge_graph'],\n  ],\n  [['ppt', 'pptx'], ['presentation']],\n  [\n    ['jpg', 'jpeg', 'png', 'gif', 'bmp', 'tif', 'tiff', 'webp', 'svg', 'ico'],\n    ['picture'],\n  ],\n  [\n    ['txt'],\n    [\n      'naive',\n      'resume',\n      'book',\n      'laws',\n      'one',\n      'qa',\n      'table',\n      'knowledge_graph',\n    ],\n  ],\n  [\n    ['csv'],\n    [\n      'naive',\n      'resume',\n      'book',\n      'laws',\n      'one',\n      'qa',\n      'table',\n      'knowledge_graph',\n    ],\n  ],\n  [['md'], ['naive', 'qa', 'knowledge_graph']],\n  [['json'], ['naive', 'knowledge_graph']],\n  [['eml'], ['email']],\n]);\n\nconst getParserList = (\n  values: string[],\n  parserList: Array<{\n    value: string;\n    label: string;\n  }>,\n) => {\n  return parserList.filter((x) => values?.some((y) => y === x.value));\n};\n\nexport const useFetchParserListOnMount = (\n  documentId: string,\n  parserId: string,\n  documentExtension: string,\n  form: FormInstance,\n) => {\n  const [selectedTag, setSelectedTag] = useState('');\n  const parserList = useSelectParserList();\n  const handleChunkMethodSelectChange = useHandleChunkMethodSelectChange(form);\n\n  const nextParserList = useMemo(() => {\n    const key = [...ParserListMap.keys()].find((x) =>\n      x.some((y) => y === documentExtension),\n    );\n    if (key) {\n      const values = ParserListMap.get(key);\n      return getParserList(values ?? [], parserList);\n    }\n\n    return getParserList(\n      ['naive', 'resume', 'book', 'laws', 'one', 'qa', 'table'],\n      parserList,\n    );\n  }, [parserList, documentExtension]);\n\n  useEffect(() => {\n    setSelectedTag(parserId);\n  }, [parserId, documentId]);\n\n  const handleChange = (tag: string) => {\n    handleChunkMethodSelectChange(tag);\n    setSelectedTag(tag);\n  };\n\n  return { parserList: nextParserList, handleChange, selectedTag };\n};\n\nconst hideAutoKeywords = ['qa', 'table', 'resume', 'knowledge_graph', 'tag'];\n\nexport const useShowAutoKeywords = () => {\n  const showAutoKeywords = useCallback((selectedTag: string) => {\n    return hideAutoKeywords.every((x) => selectedTag !== x);\n  }, []);\n\n  return showAutoKeywords;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"tweenGroup\":\"tweenGroup___HgfIF\",\"tag\":\"tag___EPGvm\"};","import { PlusOutlined } from '@ant-design/icons';\nimport type { InputRef } from 'antd';\nimport { Input, Tag, theme } from 'antd';\nimport { TweenOneGroup } from 'rc-tween-one';\nimport React, { useEffect, useRef, useState } from 'react';\n\nimport styles from './index.less';\n\ninterface EditTagsProps {\n  value?: string[];\n  onChange?: (tags: string[]) => void;\n}\n\nconst EditTag = ({ value = [], onChange }: EditTagsProps) => {\n  const { token } = theme.useToken();\n  const [inputVisible, setInputVisible] = useState(false);\n  const [inputValue, setInputValue] = useState('');\n  const inputRef = useRef<InputRef>(null);\n\n  useEffect(() => {\n    if (inputVisible) {\n      inputRef.current?.focus();\n    }\n  }, [inputVisible]);\n\n  const handleClose = (removedTag: string) => {\n    const newTags = value?.filter((tag) => tag !== removedTag);\n    onChange?.(newTags ?? []);\n  };\n\n  const showInput = () => {\n    setInputVisible(true);\n  };\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setInputValue(e.target.value);\n  };\n\n  const handleInputConfirm = () => {\n    if (inputValue && value) {\n      const newTags = inputValue\n        .split(';')\n        .map((tag) => tag.trim())\n        .filter((tag) => tag && !value.includes(tag));\n      onChange?.([...value, ...newTags]);\n    }\n    setInputVisible(false);\n    setInputValue('');\n  };\n\n  const forMap = (tag: string) => {\n    return (\n      <Tag\n        key={tag}\n        className={styles.tag}\n        closable\n        onClose={(e) => {\n          e.preventDefault();\n          handleClose(tag);\n        }}\n      >\n        {tag}\n      </Tag>\n    );\n  };\n\n  const tagChild = value?.map(forMap);\n\n  const tagPlusStyle: React.CSSProperties = {\n    background: token.colorBgContainer,\n    borderStyle: 'dashed',\n  };\n\n  return (\n    <div>\n      {Array.isArray(tagChild) && tagChild.length > 0 && (\n        <TweenOneGroup\n          className={styles.tweenGroup}\n          enter={{\n            scale: 0.8,\n            opacity: 0,\n            type: 'from',\n            duration: 100,\n          }}\n          onEnd={(e) => {\n            if (e.type === 'appear' || e.type === 'enter') {\n              (e.target as any).style = 'display: inline-block';\n            }\n          }}\n          leave={{ opacity: 0, width: 0, scale: 0, duration: 200 }}\n          appear={false}\n        >\n          {tagChild}\n        </TweenOneGroup>\n      )}\n      {inputVisible ? (\n        <Input\n          ref={inputRef}\n          type=\"text\"\n          size=\"small\"\n          value={inputValue}\n          onChange={handleInputChange}\n          onBlur={handleInputConfirm}\n          onPressEnter={handleInputConfirm}\n        />\n      ) : (\n        <Tag onClick={showInput} style={tagPlusStyle}>\n          <PlusOutlined />\n        </Tag>\n      )}\n    </div>\n  );\n};\n\nexport default EditTag;\n","// extracted by mini-css-extract-plugin\nexport default {\"uploader\":\"uploader___ezBcw\",\"uploadLimit\":\"uploadLimit___bpygu\"};","import { useTranslate } from '@/hooks/common-hooks';\nimport { IModalProps } from '@/interfaces/common';\nimport { InboxOutlined } from '@ant-design/icons';\nimport {\n  Flex,\n  Modal,\n  Segmented,\n  Tabs,\n  TabsProps,\n  Upload,\n  UploadFile,\n  UploadProps,\n} from 'antd';\nimport { Dispatch, SetStateAction, useState } from 'react';\n\nimport styles from './index.less';\n\nconst { Dragger } = Upload;\n\nconst FileUpload = ({\n  directory,\n  fileList,\n  setFileList,\n}: {\n  directory: boolean;\n  fileList: UploadFile[];\n  setFileList: Dispatch<SetStateAction<UploadFile[]>>;\n}) => {\n  const { t } = useTranslate('fileManager');\n  const props: UploadProps = {\n    multiple: true,\n    onRemove: (file) => {\n      const index = fileList.indexOf(file);\n      const newFileList = fileList.slice();\n      newFileList.splice(index, 1);\n      setFileList(newFileList);\n    },\n    beforeUpload: (file) => {\n      setFileList((pre) => {\n        return [...pre, file];\n      });\n\n      return false;\n    },\n    directory,\n    fileList,\n  };\n\n  return (\n    <Dragger {...props} className={styles.uploader}>\n      <p className=\"ant-upload-drag-icon\">\n        <InboxOutlined />\n      </p>\n      <p className=\"ant-upload-text\">{t('uploadTitle')}</p>\n      <p className=\"ant-upload-hint\">{t('uploadDescription')}</p>\n      {false && <p className={styles.uploadLimit}>{t('uploadLimit')}</p>}\n    </Dragger>\n  );\n};\n\nconst FileUploadModal = ({\n  visible,\n  hideModal,\n  loading,\n  onOk: onFileUploadOk,\n}: IModalProps<UploadFile[]>) => {\n  const { t } = useTranslate('fileManager');\n  const [value, setValue] = useState<string | number>('local');\n  const [fileList, setFileList] = useState<UploadFile[]>([]);\n  const [directoryFileList, setDirectoryFileList] = useState<UploadFile[]>([]);\n\n  const clearFileList = () => {\n    setFileList([]);\n    setDirectoryFileList([]);\n  };\n\n  const onOk = async () => {\n    const ret = await onFileUploadOk?.([...fileList, ...directoryFileList]);\n    return ret;\n  };\n\n  const afterClose = () => {\n    clearFileList();\n  };\n\n  const items: TabsProps['items'] = [\n    {\n      key: '1',\n      label: t('file'),\n      children: (\n        <FileUpload\n          directory={false}\n          fileList={fileList}\n          setFileList={setFileList}\n        ></FileUpload>\n      ),\n    }\n    /*,\n    {\n      key: '2',\n      label: t('directory'),\n      children: (\n        <FileUpload\n          directory\n          fileList={directoryFileList}\n          setFileList={setDirectoryFileList}\n        ></FileUpload>\n      ),\n    },*/\n  ];\n\n  return (\n    <>\n      <Modal\n        title={t('uploadFile')}\n        open={visible}\n        onOk={onOk}\n        onCancel={hideModal}\n        confirmLoading={loading}\n        afterClose={afterClose}\n      >\n        <Flex gap={'large'} vertical>\n          {/*<Segmented\n            options={[\n              { label: t('local'), value: 'local' },\n              { label: t('s3'), value: 's3' },\n            ]}\n            block\n            value={value}\n            onChange={setValue}\n          />*/}\n          {value === 'local' ? (\n            <Tabs defaultActiveKey=\"1\" items={items} />\n          ) : (\n            t('comingSoon', { keyPrefix: 'common' })\n          )}\n        </Flex>\n      </Modal>\n    </>\n  );\n};\n\nexport default FileUploadModal;\n","export enum MessageType {\n  Assistant = 'assistant',\n  User = 'user',\n}\n\nexport const variableEnabledFieldMap = {\n  temperatureEnabled: 'temperature',\n  topPEnabled: 'top_p',\n  presencePenaltyEnabled: 'presence_penalty',\n  frequencyPenaltyEnabled: 'frequency_penalty',\n  maxTokensEnabled: 'max_tokens',\n};\n\nexport enum SharedFrom {\n  Agent = 'agent',\n  Chat = 'chat',\n}\n\nexport enum ChatSearchParams {\n  DialogId = 'dialogId',\n  ConversationId = 'conversationId',\n  isNew = 'isNew',\n}\n\nexport const EmptyConversationId = 'empty';\n","export const fileIconMap = {\n  aep: 'aep.svg',\n  ai: 'ai.svg',\n  avi: 'avi.svg',\n  css: 'css.svg',\n  csv: 'csv.svg',\n  dmg: 'dmg.svg',\n  doc: 'doc.svg',\n  docx: 'docx.svg',\n  eps: 'eps.svg',\n  exe: 'exe.svg',\n  fig: 'fig.svg',\n  gif: 'gif.svg',\n  html: 'html.svg',\n  indd: 'indd.svg',\n  java: 'java.svg',\n  jpeg: 'jpeg.svg',\n  jpg: 'jpg.svg',\n  js: 'js.svg',\n  json: 'json.svg',\n  mkv: 'mkv.svg',\n  mp3: 'mp3.svg',\n  mp4: 'mp4.svg',\n  mpeg: 'mpeg.svg',\n  pdf: 'pdf.svg',\n  png: 'png.svg',\n  ppt: 'ppt.svg',\n  pptx: 'pptx.svg',\n  psd: 'psd.svg',\n  rss: 'rss.svg',\n  sql: 'sql.svg',\n  svg: 'svg.svg',\n  tiff: 'tiff.svg',\n  txt: 'txt.svg',\n  wav: 'wav.svg',\n  webp: 'webp.svg',\n  xls: 'xls.svg',\n  xlsx: 'xlsx.svg',\n  xml: 'xml.svg',\n};\n\nexport const LanguageList = [\n  'English',\n  'Other_language',\n  /*'Chinese',\n  'Traditional Chinese',\n  'Indonesia',\n  'Spanish',\n  'Vietnamese',\n  'Japanese',\n  'Portuguese BR',*/\n];\n\nexport const LanguageMap = {\n  English: 'English',\n  Other_language: 'Lang 2'\n /*  'Traditional Chinese': '',\n  Indonesia: 'Indonesia',\n  Spanish: 'Espaol',\n  Vietnamese: 'Ting vit',\n  Japanese: '',\n  'Portuguese BR': 'Portugus BR',*/\n};\n\nexport const LanguageTranslationMap = {\n  English: 'en',\n  Chinese: 'zh',\n  'Traditional Chinese': 'zh-TRADITIONAL',\n  Indonesia: 'id',\n  Spanish: 'es',\n  Vietnamese: 'vi',\n  Japanese: 'ja',\n  'Portuguese BR': 'pt-br',\n};\n\nexport enum FileMimeType {\n  Bmp = 'image/bmp',\n  Csv = 'text/csv',\n  Odt = 'application/vnd.oasis.opendocument.text',\n  Doc = 'application/msword',\n  Docx = 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n  Gif = 'image/gif',\n  Htm = 'text/htm',\n  Html = 'text/html',\n  Jpg = 'image/jpg',\n  Jpeg = 'image/jpeg',\n  Pdf = 'application/pdf',\n  Png = 'image/png',\n  Ppt = 'application/vnd.ms-powerpoint',\n  Pptx = 'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n  Tiff = 'image/tiff',\n  Txt = 'text/plain',\n  Xls = 'application/vnd.ms-excel',\n  Xlsx = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n  Mp4 = 'video/mp4',\n  Json = 'application/json',\n}\n\nexport const Domain = 'demo.ragflow.io';\n\n//#region file preview\nexport const Images = [\n  'jpg',\n  'jpeg',\n  'png',\n  'gif',\n  'bmp',\n  'tif',\n  'tiff',\n  'webp',\n  // 'svg',\n  'ico',\n];\n\n// Without FileViewer\nexport const ExceptiveType = ['xlsx', 'xls', 'pdf', 'docx', ...Images];\n\nexport const SupportedPreviewDocumentTypes = [...ExceptiveType];\n//#endregion\n","export enum KnowledgeRouteKey {\n  Dataset = 'dataset',\n  Testing = 'testing',\n  Configuration = 'configuration',\n  KnowledgeGraph = 'knowledgeGraph',\n}\n\nexport const DatasetBaseKey = 'dataset';\n\nexport enum RunningStatus {\n  UNSTART = '0', // need to run\n  RUNNING = '1', // need to cancel\n  CANCEL = '2', // need to refresh\n  DONE = '3', // need to refresh\n  FAIL = '4', // need to refresh\n}\n\nexport enum ModelVariableType {\n  Improvise = 'Improvise',\n  Precise = 'Precise',\n  Balance = 'Balance',\n}\n\nexport const settledModelVariableMap = {\n  [ModelVariableType.Improvise]: {\n    temperature: 0.9,\n    top_p: 0.9,\n    frequency_penalty: 0.2,\n    presence_penalty: 0.4,\n    max_tokens: 512,\n  },\n  [ModelVariableType.Precise]: {\n    temperature: 0.1,\n    top_p: 0.3,\n    frequency_penalty: 0.7,\n    presence_penalty: 0.4,\n    max_tokens: 512,\n  },\n  [ModelVariableType.Balance]: {\n    temperature: 0.5,\n    top_p: 0.5,\n    frequency_penalty: 0.7,\n    presence_penalty: 0.4,\n    max_tokens: 512,\n  },\n};\n\nexport enum LlmModelType {\n  Embedding = 'embedding',\n  Chat = 'chat',\n  Image2text = 'image2text',\n  Speech2text = 'speech2text',\n  Rerank = 'rerank',\n  TTS = 'tts',\n}\n\nexport enum KnowledgeSearchParams {\n  DocumentId = 'doc_id',\n  KnowledgeId = 'id',\n}\n\nexport enum DocumentType {\n  Virtual = 'virtual',\n  Visual = 'visual',\n}\n\nexport enum DocumentParserType {\n  Naive = 'naive',\n  Qa = 'qa',\n  Resume = 'resume',\n  Manual = 'manual',\n  Table = 'table',\n  Paper = 'paper',\n  Book = 'book',\n  Laws = 'laws',\n  Presentation = 'presentation',\n  Picture = 'picture',\n  One = 'one',\n  Audio = 'audio',\n  Email = 'email',\n  Tag = 'tag',\n}\n","import { ExclamationCircleFilled } from '@ant-design/icons';\nimport { App } from 'antd';\nimport isEqual from 'lodash/isEqual';\nimport { ReactNode, useCallback, useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nexport const useSetModalState = () => {\n  const [visible, setVisible] = useState(false);\n\n  const showModal = useCallback(() => {\n    setVisible(true);\n  }, []);\n  const hideModal = useCallback(() => {\n    setVisible(false);\n  }, []);\n\n  const switchVisible = useCallback(() => {\n    setVisible(!visible);\n  }, [visible]);\n\n  return { visible, showModal, hideModal, switchVisible };\n};\n\nexport const useDeepCompareEffect = (\n  effect: React.EffectCallback,\n  deps: React.DependencyList,\n) => {\n  const ref = useRef<React.DependencyList>();\n  let callback: ReturnType<React.EffectCallback> = () => {};\n  if (!isEqual(deps, ref.current)) {\n    callback = effect();\n    ref.current = deps;\n  }\n  useEffect(() => {\n    return () => {\n      if (callback) {\n        callback();\n      }\n    };\n  }, []);\n};\n\nexport interface UseDynamicSVGImportOptions {\n  onCompleted?: (\n    name: string,\n    SvgIcon: React.FC<React.SVGProps<SVGSVGElement>> | undefined,\n  ) => void;\n  onError?: (err: Error) => void;\n}\n\nexport function useDynamicSVGImport(\n  name: string,\n  options: UseDynamicSVGImportOptions = {},\n) {\n  const ImportedIconRef = useRef<React.FC<React.SVGProps<SVGSVGElement>>>();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<Error>();\n\n  const { onCompleted, onError } = options;\n  useEffect(() => {\n    setLoading(true);\n    const importIcon = async (): Promise<void> => {\n      try {\n        ImportedIconRef.current = (await import(name)).ReactComponent;\n        onCompleted?.(name, ImportedIconRef.current);\n      } catch (err: any) {\n        onError?.(err);\n        setError(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    importIcon();\n  }, [name, onCompleted, onError]);\n\n  return { error, loading, SvgIcon: ImportedIconRef.current };\n}\n\ninterface IProps {\n  title?: string;\n  content?: ReactNode;\n  onOk?: (...args: any[]) => any;\n  onCancel?: (...args: any[]) => any;\n}\n\nexport const useShowDeleteConfirm = () => {\n  const { modal } = App.useApp();\n  const { t } = useTranslation();\n\n  const showDeleteConfirm = useCallback(\n    ({ title, content, onOk, onCancel }: IProps): Promise<number> => {\n      return new Promise((resolve, reject) => {\n        modal.confirm({\n          title: title ?? t('common.deleteModalTitle'),\n          icon: <ExclamationCircleFilled />,\n          content,\n          okText: t('common.ok'),\n          okType: 'danger',\n          cancelText: t('common.cancel'),\n          async onOk() {\n            try {\n              const ret = await onOk?.();\n              resolve(ret);\n              console.info(ret);\n            } catch (error) {\n              reject(error);\n            }\n          },\n          onCancel() {\n            onCancel?.();\n          },\n        });\n      });\n    },\n    [t, modal],\n  );\n\n  return showDeleteConfirm;\n};\n\nexport const useTranslate = (keyPrefix: string) => {\n  return useTranslation('translation', { keyPrefix });\n};\n\nexport const useCommonTranslation = () => {\n  return useTranslation('translation', { keyPrefix: 'common' });\n};\n","import { LlmIcon } from '@/components/svg-icon';\nimport { LlmModelType } from '@/constants/knowledge';\nimport { ResponseGetType } from '@/interfaces/database/base';\nimport {\n  IFactory,\n  IMyLlmValue,\n  IThirdOAIModelCollection as IThirdAiModelCollection,\n  IThirdOAIModelCollection,\n} from '@/interfaces/database/llm';\nimport {\n  IAddLlmRequestBody,\n  IDeleteLlmRequestBody,\n} from '@/interfaces/request/llm';\nimport userService from '@/services/user-service';\nimport { sortLLmFactoryListBySpecifiedOrder } from '@/utils/common-util';\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport { Flex, message } from 'antd';\nimport { DefaultOptionType } from 'antd/es/select';\nimport { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nexport const useFetchLlmList = (\n  modelType?: LlmModelType,\n): IThirdAiModelCollection => {\n  const { data } = useQuery({\n    queryKey: ['llmList'],\n    initialData: {},\n    queryFn: async () => {\n      const { data } = await userService.llm_list({ model_type: modelType });\n\n      return data?.data ?? {};\n    },\n  });\n\n  return data;\n};\n\nexport const useSelectLlmOptions = () => {\n  const llmInfo: IThirdOAIModelCollection = useFetchLlmList();\n\n  const embeddingModelOptions = useMemo(() => {\n    return Object.entries(llmInfo).map(([key, value]) => {\n      return {\n        label: key,\n        options: value.map((x) => ({\n          label: x.llm_name,\n          value: `${x.llm_name}@${x.fid}`,\n          disabled: !x.available,\n        })),\n      };\n    });\n  }, [llmInfo]);\n\n  return embeddingModelOptions;\n};\n\nconst getLLMIconName = (fid: string, llm_name: string) => {\n  if (fid === 'FastEmbed') {\n    return llm_name.split('/').at(0) ?? '';\n  }\n\n  return fid;\n};\n\nexport const useSelectLlmOptionsByModelType = () => {\n  const llmInfo: IThirdOAIModelCollection = useFetchLlmList();\n\n  const groupOptionsByModelType = (modelType: LlmModelType) => {\n    return Object.entries(llmInfo)\n      .filter(([, value]) =>\n        modelType ? value.some((x) => x.model_type.includes(modelType)) : true,\n      )\n      .map(([key, value]) => {\n        return {\n          label: key,\n          options: value\n            .filter(\n              (x) =>\n                (modelType ? x.model_type.includes(modelType) : true) &&\n                x.available,\n            )\n            .map((x) => ({\n              label: (\n                <Flex align=\"center\" gap={6}>\n                  <LlmIcon\n                    name={getLLMIconName(x.fid, x.llm_name)}\n                    width={26}\n                    height={26}\n                    size={'small'}\n                  />\n                  <span>{x.llm_name}</span>\n                </Flex>\n              ),\n              value: `${x.llm_name}@${x.fid}`,\n              disabled: !x.available,\n            })),\n        };\n      })\n      .filter((x) => x.options.length > 0);\n  };\n\n  return {\n    [LlmModelType.Chat]: groupOptionsByModelType(LlmModelType.Chat),\n    [LlmModelType.Embedding]: groupOptionsByModelType(LlmModelType.Embedding),\n    [LlmModelType.Image2text]: groupOptionsByModelType(LlmModelType.Image2text),\n    [LlmModelType.Speech2text]: groupOptionsByModelType(\n      LlmModelType.Speech2text,\n    ),\n    [LlmModelType.Rerank]: groupOptionsByModelType(LlmModelType.Rerank),\n    [LlmModelType.TTS]: groupOptionsByModelType(LlmModelType.TTS),\n  };\n};\n\nexport const useComposeLlmOptionsByModelTypes = (\n  modelTypes: LlmModelType[],\n) => {\n  const allOptions = useSelectLlmOptionsByModelType();\n\n  return modelTypes.reduce<DefaultOptionType[]>((pre, cur) => {\n    const options = allOptions[cur];\n    options.forEach((x) => {\n      const item = pre.find((y) => y.label === x.label);\n      if (item) {\n        item.options.push(...x.options);\n      } else {\n        pre.push(x);\n      }\n    });\n\n    return pre;\n  }, []);\n};\n\nexport const useFetchLlmFactoryList = (): ResponseGetType<IFactory[]> => {\n  const { data, isFetching: loading } = useQuery({\n    queryKey: ['factoryList'],\n    initialData: [],\n    gcTime: 0,\n    queryFn: async () => {\n      const { data } = await userService.factories_list();\n\n      return data?.data ?? [];\n    },\n  });\n\n  return { data, loading };\n};\n\nexport type LlmItem = { name: string; logo: string } & IMyLlmValue;\n\nexport const useFetchMyLlmList = (): ResponseGetType<\n  Record<string, IMyLlmValue>\n> => {\n  const { data, isFetching: loading } = useQuery({\n    queryKey: ['myLlmList'],\n    initialData: {},\n    gcTime: 0,\n    queryFn: async () => {\n      const { data } = await userService.my_llm();\n\n      return data?.data ?? {};\n    },\n  });\n\n  return { data, loading };\n};\n\nexport const useSelectLlmList = () => {\n  const { data: myLlmList, loading: myLlmListLoading } = useFetchMyLlmList();\n  const { data: factoryList, loading: factoryListLoading } =\n    useFetchLlmFactoryList();\n\n  const nextMyLlmList: Array<LlmItem> = useMemo(() => {\n    return Object.entries(myLlmList).map(([key, value]) => ({\n      name: key,\n      logo: factoryList.find((x) => x.name === key)?.logo ?? '',\n      ...value,\n    }));\n  }, [myLlmList, factoryList]);\n\n  const nextFactoryList = useMemo(() => {\n    const currentList = factoryList.filter((x) =>\n      Object.keys(myLlmList).every((y) => y !== x.name),\n    );\n    return sortLLmFactoryListBySpecifiedOrder(currentList);\n  }, [factoryList, myLlmList]);\n\n  return {\n    myLlmList: nextMyLlmList,\n    factoryList: nextFactoryList,\n    loading: myLlmListLoading || factoryListLoading,\n  };\n};\n\nexport interface IApiKeySavingParams {\n  llm_factory: string;\n  api_key: string;\n  llm_name?: string;\n  model_type?: string;\n  base_url?: string;\n}\n\nexport const useSaveApiKey = () => {\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['saveApiKey'],\n    mutationFn: async (params: IApiKeySavingParams) => {\n      const { data } = await userService.set_api_key(params);\n      if (data.code === 0) {\n        message.success(t('message.modified'));\n        queryClient.invalidateQueries({ queryKey: ['myLlmList'] });\n        queryClient.invalidateQueries({ queryKey: ['factoryList'] });\n      }\n      return data.code;\n    },\n  });\n\n  return { data, loading, saveApiKey: mutateAsync };\n};\n\nexport interface ISystemModelSettingSavingParams {\n  tenant_id: string;\n  name?: string;\n  asr_id: string;\n  embd_id: string;\n  img2txt_id: string;\n  llm_id: string;\n}\n\nexport const useSaveTenantInfo = () => {\n  const { t } = useTranslation();\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['saveTenantInfo'],\n    mutationFn: async (params: ISystemModelSettingSavingParams) => {\n      const { data } = await userService.set_tenant_info(params);\n      if (data.code === 0) {\n        message.success(t('message.modified'));\n      }\n      return data.code;\n    },\n  });\n\n  return { data, loading, saveTenantInfo: mutateAsync };\n};\n\nexport const useAddLlm = () => {\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['addLlm'],\n    mutationFn: async (params: IAddLlmRequestBody) => {\n      const { data } = await userService.add_llm(params);\n      if (data.code === 0) {\n        queryClient.invalidateQueries({ queryKey: ['myLlmList'] });\n        queryClient.invalidateQueries({ queryKey: ['factoryList'] });\n        message.success(t('message.modified'));\n      }\n      return data.code;\n    },\n  });\n\n  return { data, loading, addLlm: mutateAsync };\n};\n\nexport const useDeleteLlm = () => {\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['deleteLlm'],\n    mutationFn: async (params: IDeleteLlmRequestBody) => {\n      const { data } = await userService.delete_llm(params);\n      if (data.code === 0) {\n        queryClient.invalidateQueries({ queryKey: ['myLlmList'] });\n        queryClient.invalidateQueries({ queryKey: ['factoryList'] });\n        message.success(t('message.deleted'));\n      }\n      return data.code;\n    },\n  });\n\n  return { data, loading, deleteLlm: mutateAsync };\n};\n\nexport const useDeleteFactory = () => {\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['deleteFactory'],\n    mutationFn: async (params: IDeleteLlmRequestBody) => {\n      const { data } = await userService.deleteFactory(params);\n      if (data.code === 0) {\n        queryClient.invalidateQueries({ queryKey: ['myLlmList'] });\n        queryClient.invalidateQueries({ queryKey: ['factoryList'] });\n        message.success(t('message.deleted'));\n      }\n      return data.code;\n    },\n  });\n\n  return { data, loading, deleteFactory: mutateAsync };\n};\n","import { Authorization } from '@/constants/authorization';\nimport { MessageType } from '@/constants/chat';\nimport { LanguageTranslationMap } from '@/constants/common';\nimport { ResponseType } from '@/interfaces/database/base';\nimport { IAnswer, Message } from '@/interfaces/database/chat';\nimport { IKnowledgeFile } from '@/interfaces/database/knowledge';\nimport { IClientConversation, IMessage } from '@/pages/chat/interface';\nimport api from '@/utils/api';\nimport { getAuthorization } from '@/utils/authorization-util';\nimport { buildMessageUuid } from '@/utils/chat';\nimport { PaginationProps, message } from 'antd';\nimport { FormInstance } from 'antd/lib';\nimport axios from 'axios';\nimport { EventSourceParserStream } from 'eventsource-parser/stream';\nimport { omit } from 'lodash';\nimport {\n  ChangeEventHandler,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { v4 as uuid } from 'uuid';\nimport { useTranslate } from './common-hooks';\nimport { useSetPaginationParams } from './route-hook';\nimport { useFetchTenantInfo, useSaveSetting } from './user-setting-hooks';\n\nexport const useSetSelectedRecord = <T = IKnowledgeFile>() => {\n  const [currentRecord, setCurrentRecord] = useState<T>({} as T);\n\n  const setRecord = (record: T) => {\n    setCurrentRecord(record);\n  };\n\n  return { currentRecord, setRecord };\n};\n\nexport const useHandleSearchChange = () => {\n  const [searchString, setSearchString] = useState('');\n\n  const handleInputChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n      const value = e.target.value;\n      setSearchString(value);\n    },\n    [],\n  );\n\n  return { handleInputChange, searchString };\n};\n\nexport const useChangeLanguage = () => {\n  const { i18n } = useTranslation();\n  const { saveSetting } = useSaveSetting();\n\n  const changeLanguage = (lng: string) => {\n    i18n.changeLanguage(\n      LanguageTranslationMap[lng as keyof typeof LanguageTranslationMap],\n    );\n    saveSetting({ language: lng });\n  };\n\n  return changeLanguage;\n};\n\nexport const useGetPaginationWithRouter = () => {\n  const { t } = useTranslate('common');\n  const {\n    setPaginationParams,\n    page,\n    size: pageSize,\n  } = useSetPaginationParams();\n\n  const onPageChange: PaginationProps['onChange'] = useCallback(\n    (pageNumber: number, pageSize: number) => {\n      setPaginationParams(pageNumber, pageSize);\n    },\n    [setPaginationParams],\n  );\n\n  const setCurrentPagination = useCallback(\n    (pagination: { page: number; pageSize?: number }) => {\n      setPaginationParams(pagination.page, pagination.pageSize);\n    },\n    [setPaginationParams],\n  );\n\n  const pagination: PaginationProps = useMemo(() => {\n    return {\n      showQuickJumper: true,\n      total: 0,\n      showSizeChanger: true,\n      current: page,\n      pageSize: pageSize,\n      pageSizeOptions: [1, 2, 10, 20, 50, 100],\n      onChange: onPageChange,\n      showTotal: (total) => `${t('total')} ${total}`,\n    };\n  }, [t, onPageChange, page, pageSize]);\n\n  return {\n    pagination,\n    setPagination: setCurrentPagination,\n  };\n};\n\nexport const useGetPagination = () => {\n  const [pagination, setPagination] = useState({ page: 1, pageSize: 10 });\n  const { t } = useTranslate('common');\n\n  const onPageChange: PaginationProps['onChange'] = useCallback(\n    (pageNumber: number, pageSize: number) => {\n      setPagination({ page: pageNumber, pageSize });\n    },\n    [],\n  );\n\n  const currentPagination: PaginationProps = useMemo(() => {\n    return {\n      showQuickJumper: true,\n      total: 0,\n      showSizeChanger: true,\n      current: pagination.page,\n      pageSize: pagination.pageSize,\n      pageSizeOptions: [1, 2, 10, 20, 50, 100],\n      onChange: onPageChange,\n      showTotal: (total) => `${t('total')} ${total}`,\n    };\n  }, [t, onPageChange, pagination]);\n\n  return {\n    pagination: currentPagination,\n  };\n};\n\nexport interface AppConf {\n  appName: string;\n}\n\nexport const useFetchAppConf = () => {\n  const [appConf, setAppConf] = useState<AppConf>({} as AppConf);\n  const fetchAppConf = useCallback(async () => {\n    const ret = await axios.get('/conf.json');\n\n    setAppConf(ret.data);\n  }, []);\n\n  useEffect(() => {\n    fetchAppConf();\n  }, [fetchAppConf]);\n\n  return appConf;\n};\n\nexport const useSendMessageWithSse = (\n  url: string = api.completeConversation,\n) => {\n  const [answer, setAnswer] = useState<IAnswer>({} as IAnswer);\n  const [done, setDone] = useState(true);\n  const timer = useRef<any>();\n\n  const resetAnswer = useCallback(() => {\n    if (timer.current) {\n      clearTimeout(timer.current);\n    }\n    timer.current = setTimeout(() => {\n      setAnswer({} as IAnswer);\n      clearTimeout(timer.current);\n    }, 1000);\n  }, []);\n\n  const send = useCallback(\n    async (\n      body: any,\n      controller?: AbortController,\n    ): Promise<{ response: Response; data: ResponseType } | undefined> => {\n      try {\n        setDone(false);\n        const response = await fetch(url, {\n          method: 'POST',\n          headers: {\n            [Authorization]: getAuthorization(),\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify(body),\n          signal: controller?.signal,\n        });\n\n        const res = response.clone().json();\n\n        const reader = response?.body\n          ?.pipeThrough(new TextDecoderStream())\n          .pipeThrough(new EventSourceParserStream())\n          .getReader();\n\n        while (true) {\n          const x = await reader?.read();\n          if (x) {\n            const { done, value } = x;\n            if (done) {\n              console.info('done');\n              resetAnswer();\n              break;\n            }\n            try {\n              const val = JSON.parse(value?.data || '');\n              const d = val?.data;\n              if (typeof d !== 'boolean') {\n                console.info('data:', d);\n                setAnswer({\n                  ...d,\n                  conversationId: body?.conversation_id,\n                });\n              }\n            } catch (e) {\n              console.warn(e);\n            }\n          }\n        }\n        console.info('done?');\n        setDone(true);\n        resetAnswer();\n        return { data: await res, response };\n      } catch (e) {\n        setDone(true);\n        resetAnswer();\n\n        console.warn(e);\n      }\n    },\n    [url, resetAnswer],\n  );\n\n  return { send, answer, done, setDone, resetAnswer };\n};\n\nexport const useSpeechWithSse = (url: string = api.tts) => {\n  const read = useCallback(\n    async (body: any) => {\n      const response = await fetch(url, {\n        method: 'POST',\n        headers: {\n          [Authorization]: getAuthorization(),\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(body),\n      });\n      try {\n        const res = await response.clone().json();\n        if (res?.code !== 0) {\n          message.error(res?.message);\n        }\n      } catch (error) {\n        console.warn(' ~ error:', error);\n      }\n      return response;\n    },\n    [url],\n  );\n\n  return { read };\n};\n\n//#region chat hooks\n\nexport const useScrollToBottom = (messages?: unknown) => {\n  const ref = useRef<HTMLDivElement>(null);\n\n  const scrollToBottom = useCallback(() => {\n    if (messages) {\n      ref.current?.scrollIntoView({ behavior: 'instant' });\n    }\n  }, [messages]); // If the message changes, scroll to the bottom\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [scrollToBottom]);\n\n  return ref;\n};\n\nexport const useHandleMessageInputChange = () => {\n  const [value, setValue] = useState('');\n\n  const handleInputChange: ChangeEventHandler<HTMLInputElement> = (e) => {\n    const value = e.target.value;\n    const nextValue = value.replaceAll('\\\\n', '\\n').replaceAll('\\\\t', '\\t');\n    setValue(nextValue);\n  };\n\n  return {\n    handleInputChange,\n    value,\n    setValue,\n  };\n};\n\nexport const useSelectDerivedMessages = () => {\n  const [derivedMessages, setDerivedMessages] = useState<IMessage[]>([]);\n\n  const ref = useScrollToBottom(derivedMessages);\n\n  const addNewestQuestion = useCallback(\n    (message: Message, answer: string = '') => {\n      setDerivedMessages((pre) => {\n        return [\n          ...pre,\n          {\n            ...message,\n            id: buildMessageUuid(message), // The message id is generated on the front end,\n            // and the message id returned by the back end is the same as the question id,\n            //  so that the pair of messages can be deleted together when deleting the message\n          },\n          {\n            role: MessageType.Assistant,\n            content: answer,\n            id: buildMessageUuid({ ...message, role: MessageType.Assistant }),\n          },\n        ];\n      });\n    },\n    [],\n  );\n\n  // Add the streaming message to the last item in the message list\n  const addNewestAnswer = useCallback((answer: IAnswer) => {\n    setDerivedMessages((pre) => {\n      return [\n        ...(pre?.slice(0, -1) ?? []),\n        {\n          role: MessageType.Assistant,\n          content: answer.answer,\n          reference: answer.reference,\n          id: buildMessageUuid({\n            id: answer.id,\n            role: MessageType.Assistant,\n          }),\n          prompt: answer.prompt,\n          audio_binary: answer.audio_binary,\n          ...omit(answer, 'reference'),\n        },\n      ];\n    });\n  }, []);\n\n  const removeLatestMessage = useCallback(() => {\n    setDerivedMessages((pre) => {\n      const nextMessages = pre?.slice(0, -2) ?? [];\n      return nextMessages;\n    });\n  }, []);\n\n  const removeMessageById = useCallback(\n    (messageId: string) => {\n      setDerivedMessages((pre) => {\n        const nextMessages = pre?.filter((x) => x.id !== messageId) ?? [];\n        return nextMessages;\n      });\n    },\n    [setDerivedMessages],\n  );\n\n  const removeMessagesAfterCurrentMessage = useCallback(\n    (messageId: string) => {\n      setDerivedMessages((pre) => {\n        const index = pre.findIndex((x) => x.id === messageId);\n        if (index !== -1) {\n          let nextMessages = pre.slice(0, index + 2) ?? [];\n          const latestMessage = nextMessages.at(-1);\n          nextMessages = latestMessage\n            ? [\n                ...nextMessages.slice(0, -1),\n                {\n                  ...latestMessage,\n                  content: '',\n                  reference: undefined,\n                  prompt: undefined,\n                },\n              ]\n            : nextMessages;\n          return nextMessages;\n        }\n        return pre;\n      });\n    },\n    [setDerivedMessages],\n  );\n\n  return {\n    ref,\n    derivedMessages,\n    setDerivedMessages,\n    addNewestQuestion,\n    addNewestAnswer,\n    removeLatestMessage,\n    removeMessageById,\n    removeMessagesAfterCurrentMessage,\n  };\n};\n\nexport interface IRemoveMessageById {\n  removeMessageById(messageId: string): void;\n}\n\nexport const useRemoveMessagesAfterCurrentMessage = (\n  setCurrentConversation: (\n    callback: (state: IClientConversation) => IClientConversation,\n  ) => void,\n) => {\n  const removeMessagesAfterCurrentMessage = useCallback(\n    (messageId: string) => {\n      setCurrentConversation((pre) => {\n        const index = pre.message?.findIndex((x) => x.id === messageId);\n        if (index !== -1) {\n          let nextMessages = pre.message?.slice(0, index + 2) ?? [];\n          const latestMessage = nextMessages.at(-1);\n          nextMessages = latestMessage\n            ? [\n                ...nextMessages.slice(0, -1),\n                {\n                  ...latestMessage,\n                  content: '',\n                  reference: undefined,\n                  prompt: undefined,\n                },\n              ]\n            : nextMessages;\n          return {\n            ...pre,\n            message: nextMessages,\n          };\n        }\n        return pre;\n      });\n    },\n    [setCurrentConversation],\n  );\n\n  return { removeMessagesAfterCurrentMessage };\n};\n\nexport interface IRegenerateMessage {\n  regenerateMessage?: (message: Message) => void;\n}\n\nexport const useRegenerateMessage = ({\n  removeMessagesAfterCurrentMessage,\n  sendMessage,\n  messages,\n}: {\n  removeMessagesAfterCurrentMessage(messageId: string): void;\n  sendMessage({\n    message,\n  }: {\n    message: Message;\n    messages?: Message[];\n  }): void | Promise<any>;\n  messages: Message[];\n}) => {\n  const regenerateMessage = useCallback(\n    async (message: Message) => {\n      if (message.id) {\n        removeMessagesAfterCurrentMessage(message.id);\n        const index = messages.findIndex((x) => x.id === message.id);\n        let nextMessages;\n        if (index !== -1) {\n          nextMessages = messages.slice(0, index);\n        }\n        sendMessage({\n          message: { ...message, id: uuid() },\n          messages: nextMessages,\n        });\n      }\n    },\n    [removeMessagesAfterCurrentMessage, sendMessage, messages],\n  );\n\n  return { regenerateMessage };\n};\n\n// #endregion\n\n/**\n *\n * @param defaultId\n * used to switch between different items, similar to radio\n * @returns\n */\nexport const useSelectItem = (defaultId?: string) => {\n  const [selectedId, setSelectedId] = useState('');\n\n  const handleItemClick = useCallback(\n    (id: string) => () => {\n      setSelectedId(id);\n    },\n    [],\n  );\n\n  useEffect(() => {\n    if (defaultId) {\n      setSelectedId(defaultId);\n    }\n  }, [defaultId]);\n\n  return { selectedId, handleItemClick };\n};\n\nexport const useFetchModelId = () => {\n  const { data: tenantInfo } = useFetchTenantInfo(true);\n\n  return tenantInfo?.llm_id ?? '';\n};\n\nconst ChunkTokenNumMap = {\n  naive: 128,\n  knowledge_graph: 8192,\n};\n\nexport const useHandleChunkMethodSelectChange = (form: FormInstance) => {\n  // const form = Form.useFormInstance();\n  const handleChange = useCallback(\n    (value: string) => {\n      if (value in ChunkTokenNumMap) {\n        form.setFieldValue(\n          ['parser_config', 'chunk_token_num'],\n          ChunkTokenNumMap[value as keyof typeof ChunkTokenNumMap],\n        );\n      }\n    },\n    [form],\n  );\n\n  return handleChange;\n};\n\n// reset form fields when modal is form, closed\nexport const useResetFormOnCloseModal = ({\n  form,\n  visible,\n}: {\n  form: FormInstance;\n  visible?: boolean;\n}) => {\n  const prevOpenRef = useRef<boolean>();\n  useEffect(() => {\n    prevOpenRef.current = visible;\n  }, [visible]);\n  const prevOpen = prevOpenRef.current;\n\n  useEffect(() => {\n    if (!visible && prevOpen) {\n      form.resetFields();\n    }\n  }, [form, prevOpen, visible]);\n};\n","import {\n  KnowledgeRouteKey,\n  KnowledgeSearchParams,\n} from '@/constants/knowledge';\nimport { useCallback } from 'react';\nimport { useLocation, useNavigate, useSearchParams } from 'umi';\n\nexport enum SegmentIndex {\n  Second = '2',\n  Third = '3',\n}\n\nexport const useSegmentedPathName = (index: SegmentIndex) => {\n  const { pathname } = useLocation();\n\n  const pathArray = pathname.split('/');\n  return pathArray[index] || '';\n};\n\nexport const useSecondPathName = () => {\n  return useSegmentedPathName(SegmentIndex.Second);\n};\n\nexport const useThirdPathName = () => {\n  return useSegmentedPathName(SegmentIndex.Third);\n};\n\nexport const useGetKnowledgeSearchParams = () => {\n  const [currentQueryParameters] = useSearchParams();\n\n  return {\n    documentId:\n      currentQueryParameters.get(KnowledgeSearchParams.DocumentId) || '',\n    knowledgeId:\n      currentQueryParameters.get(KnowledgeSearchParams.KnowledgeId) || '',\n  };\n};\n\nexport const useNavigateWithFromState = () => {\n  const navigate = useNavigate();\n  return useCallback(\n    (path: string) => {\n      navigate(path, { state: { from: path } });\n    },\n    [navigate],\n  );\n};\n\nexport const useNavigateToDataset = () => {\n  const navigate = useNavigate();\n  const { knowledgeId } = useGetKnowledgeSearchParams();\n\n  return useCallback(() => {\n    navigate(`/knowledge/${KnowledgeRouteKey.Dataset}?id=${knowledgeId}`);\n  }, [knowledgeId, navigate]);\n};\n\nexport const useGetPaginationParams = () => {\n  const [currentQueryParameters] = useSearchParams();\n\n  return {\n    page: currentQueryParameters.get('page') || 1,\n    size: currentQueryParameters.get('size') || 10,\n  };\n};\n\nexport const useSetPaginationParams = () => {\n  const [queryParameters, setSearchParams] = useSearchParams();\n  // const newQueryParameters: URLSearchParams = useMemo(\n  //   () => new URLSearchParams(queryParameters.toString()),\n  //   [queryParameters],\n  // );\n\n  const setPaginationParams = useCallback(\n    (page: number = 1, pageSize?: number) => {\n      queryParameters.set('page', page.toString());\n      if (pageSize) {\n        queryParameters.set('size', pageSize.toString());\n      }\n      setSearchParams(queryParameters);\n    },\n    [setSearchParams, queryParameters],\n  );\n\n  return {\n    setPaginationParams,\n    page: Number(queryParameters.get('page')) || 1,\n    size: Number(queryParameters.get('size')) || 10,\n  };\n};\n","import { LanguageTranslationMap } from '@/constants/common';\nimport { ResponseGetType } from '@/interfaces/database/base';\nimport { IToken } from '@/interfaces/database/chat';\nimport { ITenantInfo } from '@/interfaces/database/knowledge';\nimport {\n  ISystemStatus,\n  ITenant,\n  ITenantUser,\n  IUserInfo,\n} from '@/interfaces/database/user-setting';\nimport userService, {\n  addTenantUser,\n  agreeTenant,\n  deleteTenantUser,\n  listTenant,\n  listTenantUser,\n} from '@/services/user-service';\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport { Modal, message } from 'antd';\nimport DOMPurify from 'dompurify';\nimport { isEmpty } from 'lodash';\nimport { useCallback, useMemo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { history } from 'umi';\n\nexport const useFetchUserInfo = (): ResponseGetType<IUserInfo> => {\n  const { i18n } = useTranslation();\n\n  const { data, isFetching: loading } = useQuery({\n    queryKey: ['userInfo'],\n    initialData: {},\n    gcTime: 0,\n    queryFn: async () => {\n      const { data } = await userService.user_info();\n      if (data.code === 0) {\n        i18n.changeLanguage(\n          LanguageTranslationMap[\n            data.data.language as keyof typeof LanguageTranslationMap\n          ],\n        );\n      }\n      return data?.data ?? {};\n    },\n  });\n\n  return { data, loading };\n};\n\nexport const useFetchTenantInfo = (\n  showEmptyModelWarn = false,\n): ResponseGetType<ITenantInfo> => {\n  const { t } = useTranslation();\n  const { data, isFetching: loading } = useQuery({\n    queryKey: ['tenantInfo'],\n    initialData: {},\n    gcTime: 0,\n    queryFn: async () => {\n      const { data: res } = await userService.get_tenant_info();\n      if (res.code === 0) {\n        // llm_id is chat_id\n        // asr_id is speech2txt\n        const { data } = res;\n        if (\n          showEmptyModelWarn &&\n          (isEmpty(data.embd_id) || isEmpty(data.llm_id))\n        ) {\n          /*Modal.warning({\n            title: t('common.warn'),\n            content: (\n              <div\n                dangerouslySetInnerHTML={{\n                  __html: DOMPurify.sanitize(t('setting.modelProvidersWarn')),\n                }}\n              ></div>\n            ),\n            onOk() {\n              history.push('/user-setting/model');\n            },\n          });*/\n        }\n        data.chat_id = data.llm_id;\n        data.speech2text_id = data.asr_id;\n\n        return data;\n      }\n\n      return res;\n    },\n  });\n\n  return { data, loading };\n};\n\nexport const useSelectParserList = (): Array<{\n  value: string;\n  label: string;\n}> => {\n  const { data: tenantInfo } = useFetchTenantInfo(true);\n\n  const parserList = useMemo(() => {\n    const parserArray: Array<string> = tenantInfo?.parser_ids?.split(',') ?? [];\n    return parserArray.map((x) => {\n      const arr = x.split(':');\n      return { value: arr[0], label: arr[1] };\n    });\n  }, [tenantInfo]);\n\n  return parserList;\n};\n\nexport const useSaveSetting = () => {\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['saveSetting'],\n    mutationFn: async (\n      userInfo: { new_password: string } | Partial<IUserInfo>,\n    ) => {\n      const { data } = await userService.setting(userInfo);\n      if (data.code === 0) {\n        message.success(t('message.modified'));\n        queryClient.invalidateQueries({ queryKey: ['userInfo'] });\n      }\n      return data?.code;\n    },\n  });\n\n  return { data, loading, saveSetting: mutateAsync };\n};\n\nexport const useFetchSystemVersion = () => {\n  const [version, setVersion] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const fetchSystemVersion = useCallback(async () => {\n    try {\n      setLoading(true);\n      const { data } = await userService.getSystemVersion();\n      if (data.code === 0) {\n        setVersion(data.data);\n        setLoading(false);\n      }\n    } catch (error) {\n      setLoading(false);\n    }\n  }, []);\n\n  return { fetchSystemVersion, version, loading };\n};\n\nexport const useFetchSystemStatus = () => {\n  const [systemStatus, setSystemStatus] = useState<ISystemStatus>(\n    {} as ISystemStatus,\n  );\n  const [loading, setLoading] = useState(false);\n\n  const fetchSystemStatus = useCallback(async () => {\n    setLoading(true);\n    const { data } = await userService.getSystemStatus();\n    if (data.code === 0) {\n      setSystemStatus(data.data);\n      setLoading(false);\n    }\n  }, []);\n\n  return {\n    systemStatus,\n    fetchSystemStatus,\n    loading,\n  };\n};\n\nexport const useFetchManualSystemTokenList = () => {\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['fetchManualSystemTokenList'],\n    mutationFn: async () => {\n      const { data } = await userService.listToken();\n\n      return data?.data ?? [];\n    },\n  });\n\n  return { data, loading, fetchSystemTokenList: mutateAsync };\n};\n\nexport const useFetchSystemTokenList = () => {\n  const {\n    data,\n    isFetching: loading,\n    refetch,\n  } = useQuery<IToken[]>({\n    queryKey: ['fetchSystemTokenList'],\n    initialData: [],\n    gcTime: 0,\n    queryFn: async () => {\n      const { data } = await userService.listToken();\n\n      return data?.data ?? [];\n    },\n  });\n\n  return { data, loading, refetch };\n};\n\nexport const useRemoveSystemToken = () => {\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['removeSystemToken'],\n    mutationFn: async (token: string) => {\n      const { data } = await userService.removeToken({}, token);\n      if (data.code === 0) {\n        message.success(t('message.deleted'));\n        queryClient.invalidateQueries({ queryKey: ['fetchSystemTokenList'] });\n      }\n      return data?.data ?? [];\n    },\n  });\n\n  return { data, loading, removeToken: mutateAsync };\n};\n\nexport const useCreateSystemToken = () => {\n  const queryClient = useQueryClient();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['createSystemToken'],\n    mutationFn: async (params: Record<string, any>) => {\n      const { data } = await userService.createToken(params);\n      if (data.code === 0) {\n        queryClient.invalidateQueries({ queryKey: ['fetchSystemTokenList'] });\n      }\n      return data?.data ?? [];\n    },\n  });\n\n  return { data, loading, createToken: mutateAsync };\n};\n\nexport const useListTenantUser = () => {\n  const { data: tenantInfo } = useFetchTenantInfo();\n  const tenantId = tenantInfo.tenant_id;\n  const {\n    data,\n    isFetching: loading,\n    refetch,\n  } = useQuery<ITenantUser[]>({\n    queryKey: ['listTenantUser', tenantId],\n    initialData: [],\n    gcTime: 0,\n    enabled: !!tenantId,\n    queryFn: async () => {\n      const { data } = await listTenantUser(tenantId);\n\n      return data?.data ?? [];\n    },\n  });\n\n  return { data, loading, refetch };\n};\n\nexport const useAddTenantUser = () => {\n  const { data: tenantInfo } = useFetchTenantInfo();\n  const queryClient = useQueryClient();\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['addTenantUser'],\n    mutationFn: async (email: string) => {\n      const { data } = await addTenantUser(tenantInfo.tenant_id, email);\n      if (data.code === 0) {\n        queryClient.invalidateQueries({ queryKey: ['listTenantUser'] });\n      }\n      return data?.code;\n    },\n  });\n\n  return { data, loading, addTenantUser: mutateAsync };\n};\n\nexport const useDeleteTenantUser = () => {\n  const { data: tenantInfo } = useFetchTenantInfo();\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['deleteTenantUser'],\n    mutationFn: async ({\n      userId,\n      tenantId,\n    }: {\n      userId: string;\n      tenantId?: string;\n    }) => {\n      const { data } = await deleteTenantUser({\n        tenantId: tenantId ?? tenantInfo.tenant_id,\n        userId,\n      });\n      if (data.code === 0) {\n        message.success(t('message.deleted'));\n        queryClient.invalidateQueries({ queryKey: ['listTenantUser'] });\n        queryClient.invalidateQueries({ queryKey: ['listTenant'] });\n      }\n      return data?.data ?? [];\n    },\n  });\n\n  return { data, loading, deleteTenantUser: mutateAsync };\n};\n\nexport const useListTenant = () => {\n  const { data: tenantInfo } = useFetchTenantInfo();\n  const tenantId = tenantInfo.tenant_id;\n  const {\n    data,\n    isFetching: loading,\n    refetch,\n  } = useQuery<ITenant[]>({\n    queryKey: ['listTenant', tenantId],\n    initialData: [],\n    gcTime: 0,\n    enabled: !!tenantId,\n    queryFn: async () => {\n      const { data } = await listTenant();\n\n      return data?.data ?? [];\n    },\n  });\n\n  return { data, loading, refetch };\n};\n\nexport const useAgreeTenant = () => {\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['agreeTenant'],\n    mutationFn: async (tenantId: string) => {\n      const { data } = await agreeTenant(tenantId);\n      if (data.code === 0) {\n        message.success(t('message.operated'));\n        queryClient.invalidateQueries({ queryKey: ['listTenant'] });\n      }\n      return data?.data ?? [];\n    },\n  });\n\n  return { data, loading, agreeTenant: mutateAsync };\n};\n","import { useTranslate } from '@/hooks/common-hooks';\nimport { Flex, Form, InputNumber, Slider } from 'antd';\n\ninterface IProps {\n  initialValue?: number;\n  max?: number;\n}\n\nconst MaxTokenNumber = ({ initialValue = 128, max = 2048 }: IProps) => {\n  const { t } = useTranslate('knowledgeConfiguration');\n\n  return (\n    <Form.Item label={t('chunkTokenNumber')} tooltip={t('chunkTokenNumberTip')}>\n      <Flex gap={20} align=\"center\">\n        <Flex flex={1}>\n          <Form.Item\n            name={['parser_config', 'chunk_token_num']}\n            noStyle\n            initialValue={initialValue}\n            rules={[{ required: true, message: t('chunkTokenNumberMessage') }]}\n          >\n            <Slider max={max} style={{ width: '100%' }} />\n          </Form.Item>\n        </Flex>\n        <Form.Item\n          name={['parser_config', 'chunk_token_num']}\n          noStyle\n          rules={[{ required: true, message: t('chunkTokenNumberMessage') }]}\n        >\n          <InputNumber max={max} min={0} />\n        </Form.Item>\n      </Flex>\n    </Form.Item>\n  );\n};\n\nexport default MaxTokenNumber;\n","import { useTranslate } from '@/hooks/common-hooks';\nimport { Flex, Form, InputNumber, Slider } from 'antd';\n\nexport const AutoKeywordsItem = () => {\n  const { t } = useTranslate('knowledgeDetails');\n\n  return (\n    <Form.Item label={t('autoKeywords')} tooltip={t('autoKeywordsTip')}>\n      <Flex gap={20} align=\"center\">\n        <Flex flex={1}>\n          <Form.Item\n            name={['parser_config', 'auto_keywords']}\n            noStyle\n            initialValue={0}\n          >\n            <Slider max={30} style={{ width: '100%' }} />\n          </Form.Item>\n        </Flex>\n        <Form.Item name={['parser_config', 'auto_keywords']} noStyle>\n          <InputNumber max={30} min={0} />\n        </Form.Item>\n      </Flex>\n    </Form.Item>\n  );\n};\n\nexport const AutoQuestionsItem = () => {\n  const { t } = useTranslate('knowledgeDetails');\n\n  return (\n    <Form.Item label={t('autoQuestions')} tooltip={t('autoQuestionsTip')}>\n      <Flex gap={20} align=\"center\">\n        <Flex flex={1}>\n          <Form.Item\n            name={['parser_config', 'auto_questions']}\n            noStyle\n            initialValue={0}\n          >\n            <Slider max={10} style={{ width: '100%' }} />\n          </Form.Item>\n        </Flex>\n        <Form.Item name={['parser_config', 'auto_questions']} noStyle>\n          <InputNumber max={10} min={0} />\n        </Form.Item>\n      </Flex>\n    </Form.Item>\n  );\n};\n","import { Form, Input } from 'antd';\nimport { useTranslation } from 'react-i18next';\n\ninterface IProps {\n  value?: string | undefined;\n  onChange?: (val: string | undefined) => void;\n  maxLength?: number;\n}\n\nexport const DelimiterInput = ({ value, onChange, maxLength }: IProps) => {\n  const nextValue = value?.replaceAll('\\n', '\\\\n');\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const val = e.target.value;\n    const nextValue = val.replaceAll('\\\\n', '\\n');\n    onChange?.(nextValue);\n  };\n  return (\n    <Input\n      value={nextValue}\n      onChange={handleInputChange}\n      maxLength={maxLength}\n    ></Input>\n  );\n};\n\nconst Delimiter = () => {\n  const { t } = useTranslation();\n\n  return (\n    <Form.Item\n      name={['parser_config', 'delimiter']}\n      label={t('knowledgeDetails.delimiter')}\n      initialValue={`\\\\n!?;`}\n      rules={[{ required: true }]}\n      tooltip={t('knowledgeDetails.delimiterTip')}\n    >\n      <DelimiterInput />\n    </Form.Item>\n  );\n};\n\nexport default Delimiter;\n","import { useTranslate } from '@/hooks/common-hooks';\nimport { Form } from 'antd';\nimport EditTag from './edit-tag';\n\nconst initialEntityTypes = [\n  'organization',\n  'person',\n  'geo',\n  'event',\n  'category',\n];\n\ntype IProps = {\n  field?: string[];\n};\n\nconst EntityTypesItem = ({\n  field = ['parser_config', 'entity_types'],\n}: IProps) => {\n  const { t } = useTranslate('knowledgeConfiguration');\n  return (\n    <Form.Item\n      name={field}\n      label={t('entityTypes')}\n      rules={[{ required: true }]}\n      initialValue={initialEntityTypes}\n    >\n      <EditTag></EditTag>\n    </Form.Item>\n  );\n};\n\nexport default EntityTypesItem;\n","import { useTranslate } from '@/hooks/common-hooks';\nimport { Form, Switch } from 'antd';\n\nconst ExcelToHtml = () => {\n  const { t } = useTranslate('knowledgeDetails');\n  return (\n    <Form.Item\n      name={['parser_config', 'html4excel']}\n      label={t('html4excel')}\n      initialValue={false}\n      valuePropName=\"checked\"\n      tooltip={t('html4excelTip')}\n    >\n      <Switch />\n    </Form.Item>\n  );\n};\n\nexport default ExcelToHtml;\n","import { LlmModelType } from '@/constants/knowledge';\nimport { useTranslate } from '@/hooks/common-hooks';\nimport { useSelectLlmOptionsByModelType } from '@/hooks/llm-hooks';\nimport { Form, Select } from 'antd';\nimport { useMemo } from 'react';\n\nconst enum DocumentType {\n  DeepDOC = 'DeepDOC',\n  PlainText = 'Plain Text',\n}\n\nconst LayoutRecognize = () => {\n  const { t } = useTranslate('knowledgeDetails');\n  const allOptions = useSelectLlmOptionsByModelType();\n\n  const options = useMemo(() => {\n    const list = [DocumentType.DeepDOC, DocumentType.PlainText].map((x) => ({\n      label: x,\n      value: x,\n    }));\n\n    return [...list, ...allOptions[LlmModelType.Image2text]];\n  }, [allOptions]);\n\n  return (\n    <Form.Item\n      name={['parser_config', 'layout_recognize']}\n      label={t('layoutRecognize')}\n      initialValue={DocumentType.DeepDOC}\n      tooltip={t('layoutRecognizeTip')}\n    >\n      <Select options={options} />\n    </Form.Item>\n  );\n};\n\nexport default LayoutRecognize;\n","import { useTranslate } from '@/hooks/common-hooks';\nimport { PlusOutlined } from '@ant-design/icons';\nimport {\n  Button,\n  Divider,\n  Flex,\n  Form,\n  Input,\n  InputNumber,\n  Slider,\n  Switch,\n} from 'antd';\nimport random from 'lodash/random';\n\nexport const excludedParseMethods = [\n  'table',\n  'resume',\n  'one',\n  'picture',\n  'knowledge_graph',\n  'qa',\n  'tag',\n];\n\nexport const showRaptorParseConfiguration = (parserId: string) => {\n  return !excludedParseMethods.includes(parserId);\n};\n\nexport const excludedTagParseMethods = ['table', 'knowledge_graph', 'tag'];\n\nexport const showTagItems = (parserId: string) => {\n  return !excludedTagParseMethods.includes(parserId);\n};\n\n// The three types \"table\", \"resume\" and \"one\" do not display this configuration.\nconst ParseConfiguration = () => {\n  const form = Form.useFormInstance();\n  const { t } = useTranslate('knowledgeConfiguration');\n\n  const handleGenerate = () => {\n    form.setFieldValue(\n      ['parser_config', 'raptor', 'random_seed'],\n      random(10000),\n    );\n  };\n\n  return (\n    <>\n      <Divider></Divider>\n      <Form.Item\n        name={['parser_config', 'raptor', 'use_raptor']}\n        label={t('useRaptor')}\n        initialValue={false}\n        valuePropName=\"checked\"\n        tooltip={t('useRaptorTip')}\n      >\n        <Switch />\n      </Form.Item>\n      <Form.Item\n        shouldUpdate={(prevValues, curValues) =>\n          prevValues.parser_config.raptor.use_raptor !==\n          curValues.parser_config.raptor.use_raptor\n        }\n      >\n        {({ getFieldValue }) => {\n          const useRaptor = getFieldValue([\n            'parser_config',\n            'raptor',\n            'use_raptor',\n          ]);\n\n          return (\n            useRaptor && (\n              <>\n                <Form.Item\n                  name={['parser_config', 'raptor', 'prompt']}\n                  label={t('prompt')}\n                  initialValue={t('promptText')}\n                  tooltip={t('promptTip')}\n                  rules={[\n                    {\n                      required: true,\n                      message: t('promptMessage'),\n                    },\n                  ]}\n                >\n                  <Input.TextArea rows={8} />\n                </Form.Item>\n                <Form.Item label={t('maxToken')} tooltip={t('maxTokenTip')}>\n                  <Flex gap={20} align=\"center\">\n                    <Flex flex={1}>\n                      <Form.Item\n                        name={['parser_config', 'raptor', 'max_token']}\n                        noStyle\n                        initialValue={256}\n                        rules={[\n                          {\n                            required: true,\n                            message: t('maxTokenMessage'),\n                          },\n                        ]}\n                      >\n                        <Slider max={2048} style={{ width: '100%' }} />\n                      </Form.Item>\n                    </Flex>\n                    <Form.Item\n                      name={['parser_config', 'raptor', 'max_token']}\n                      noStyle\n                      rules={[\n                        {\n                          required: true,\n                          message: t('maxTokenMessage'),\n                        },\n                      ]}\n                    >\n                      <InputNumber max={2048} min={0} />\n                    </Form.Item>\n                  </Flex>\n                </Form.Item>\n                <Form.Item label={t('threshold')} tooltip={t('thresholdTip')}>\n                  <Flex gap={20} align=\"center\">\n                    <Flex flex={1}>\n                      <Form.Item\n                        name={['parser_config', 'raptor', 'threshold']}\n                        noStyle\n                        initialValue={0.1}\n                        rules={[\n                          {\n                            required: true,\n                            message: t('thresholdMessage'),\n                          },\n                        ]}\n                      >\n                        <Slider\n                          min={0}\n                          max={1}\n                          style={{ width: '100%' }}\n                          step={0.01}\n                        />\n                      </Form.Item>\n                    </Flex>\n                    <Form.Item\n                      name={['parser_config', 'raptor', 'threshold']}\n                      noStyle\n                      rules={[\n                        {\n                          required: true,\n                          message: t('thresholdMessage'),\n                        },\n                      ]}\n                    >\n                      <InputNumber max={1} min={0} step={0.01} />\n                    </Form.Item>\n                  </Flex>\n                </Form.Item>\n                <Form.Item label={t('maxCluster')} tooltip={t('maxClusterTip')}>\n                  <Flex gap={20} align=\"center\">\n                    <Flex flex={1}>\n                      <Form.Item\n                        name={['parser_config', 'raptor', 'max_cluster']}\n                        noStyle\n                        initialValue={64}\n                        rules={[\n                          {\n                            required: true,\n                            message: t('maxClusterMessage'),\n                          },\n                        ]}\n                      >\n                        <Slider min={1} max={1024} style={{ width: '100%' }} />\n                      </Form.Item>\n                    </Flex>\n                    <Form.Item\n                      name={['parser_config', 'raptor', 'max_cluster']}\n                      noStyle\n                      rules={[\n                        {\n                          required: true,\n                          message: t('maxClusterMessage'),\n                        },\n                      ]}\n                    >\n                      <InputNumber max={1024} min={1} />\n                    </Form.Item>\n                  </Flex>\n                </Form.Item>\n                <Form.Item label={t('randomSeed')}>\n                  <Flex gap={20} align=\"center\">\n                    <Flex flex={1}>\n                      <Form.Item\n                        name={['parser_config', 'raptor', 'random_seed']}\n                        noStyle\n                        initialValue={0}\n                        rules={[\n                          {\n                            required: true,\n                            message: t('randomSeedMessage'),\n                          },\n                        ]}\n                      >\n                        <InputNumber style={{ width: '100%' }} />\n                      </Form.Item>\n                    </Flex>\n                    <Form.Item noStyle>\n                      <Button type=\"primary\" onClick={handleGenerate}>\n                        <PlusOutlined />\n                      </Button>\n                    </Form.Item>\n                  </Flex>\n                </Form.Item>\n              </>\n            )\n          );\n        }}\n      </Form.Item>\n    </>\n  );\n};\n\nexport default ParseConfiguration;\n","import { useTranslate } from '@/hooks/common-hooks';\nimport { Divider, Form, Select, Switch } from 'antd';\nimport { upperFirst } from 'lodash';\nimport { useCallback, useMemo } from 'react';\nimport EntityTypesItem from '../entity-types-item';\n\nconst excludedTagParseMethods = ['table', 'knowledge_graph', 'tag'];\n\nexport const showTagItems = (parserId: string) => {\n  return !excludedTagParseMethods.includes(parserId);\n};\n\nconst enum MethodValue {\n  General = 'general',\n  Light = 'light',\n}\n\nexport const excludedParseMethods = [\n  'table',\n  'resume',\n  'picture',\n  'knowledge_graph',\n  'qa',\n  'tag',\n];\n\nexport const showGraphRagItems = (parserId: string) => {\n  return !excludedParseMethods.includes(parserId);\n};\n\n// The three types \"table\", \"resume\" and \"one\" do not display this configuration.\nconst GraphRagItems = () => {\n  const { t } = useTranslate('knowledgeConfiguration');\n\n  const methodOptions = useMemo(() => {\n    return [MethodValue.Light, MethodValue.General].map((x) => ({\n      value: x,\n      label: upperFirst(x),\n    }));\n  }, []);\n\n  const renderWideTooltip = useCallback(\n    (title: React.ReactNode | string) => {\n      return {\n        title: typeof title === 'string' ? t(title) : title,\n        overlayInnerStyle: { width: '50vw' },\n      };\n    },\n    [t],\n  );\n\n  return (\n    <>\n      <Divider></Divider>\n      <Form.Item\n        name={['parser_config', 'graphrag', 'use_graphrag']}\n        label={t('useGraphRag')}\n        initialValue={false}\n        valuePropName=\"checked\"\n        tooltip={renderWideTooltip('useGraphRagTip')}\n      >\n        <Switch />\n      </Form.Item>\n      <Form.Item\n        shouldUpdate={(prevValues, curValues) =>\n          prevValues.parser_config.graphrag.use_graphrag !==\n          curValues.parser_config.graphrag.use_graphrag\n        }\n      >\n        {({ getFieldValue }) => {\n          const useRaptor = getFieldValue([\n            'parser_config',\n            'graphrag',\n            'use_graphrag',\n          ]);\n\n          return (\n            useRaptor && (\n              <>\n                <EntityTypesItem\n                  field={['parser_config', 'graphrag', 'entity_types']}\n                ></EntityTypesItem>\n                <Form.Item\n                  name={['parser_config', 'graphrag', 'method']}\n                  label={t('graphRagMethod')}\n                  tooltip={renderWideTooltip(\n                    <div\n                      dangerouslySetInnerHTML={{\n                        __html: t('graphRagMethodTip'),\n                      }}\n                    ></div>,\n                  )}\n                  initialValue={MethodValue.Light}\n                >\n                  <Select options={methodOptions} />\n                </Form.Item>\n                <Form.Item\n                  name={['parser_config', 'graphrag', 'resolution']}\n                  label={t('resolution')}\n                  tooltip={renderWideTooltip('resolutionTip')}\n                >\n                  <Switch />\n                </Form.Item>\n                <Form.Item\n                  name={['parser_config', 'graphrag', 'community']}\n                  label={t('community')}\n                  tooltip={renderWideTooltip('communityTip')}\n                >\n                  <Switch />\n                </Form.Item>\n              </>\n            )\n          );\n        }}\n      </Form.Item>\n    </>\n  );\n};\n\nexport default GraphRagItems;\n","// extracted by mini-css-extract-plugin\nexport default {\"pageInputNumber\":\"pageInputNumber___qm78X\",\"questionIcon\":\"questionIcon___d34w8\",\"chunkMethod\":\"chunkMethod___tcugG\"};","import MaxTokenNumber from '@/components/max-token-number';\nimport { IModalManagerChildrenProps } from '@/components/modal-manager';\nimport {\n  MinusCircleOutlined,\n  PlusOutlined,\n  QuestionCircleOutlined,\n} from '@ant-design/icons';\nimport {\n  Button,\n  Divider,\n  Form,\n  InputNumber,\n  Modal,\n  Select,\n  Space,\n  Tooltip,\n} from 'antd';\nimport omit from 'lodash/omit';\nimport React, { useEffect, useMemo } from 'react';\nimport { useFetchParserListOnMount, useShowAutoKeywords } from './hooks';\n\nimport { useTranslate } from '@/hooks/common-hooks';\nimport { IParserConfig } from '@/interfaces/database/document';\nimport { IChangeParserConfigRequestBody } from '@/interfaces/request/document';\nimport { AutoKeywordsItem, AutoQuestionsItem } from '../auto-keywords-item';\nimport Delimiter from '../delimiter';\nimport EntityTypesItem from '../entity-types-item';\nimport ExcelToHtml from '../excel-to-html';\nimport LayoutRecognize from '../layout-recognize';\nimport ParseConfiguration, {\n  showRaptorParseConfiguration,\n} from '../parse-configuration';\nimport GraphRagItems, {\n  showGraphRagItems,\n} from '../parse-configuration/graph-rag-items';\nimport styles from './index.less';\n\ninterface IProps extends Omit<IModalManagerChildrenProps, 'showModal'> {\n  loading: boolean;\n  onOk: (\n    parserId: string,\n    parserConfig: IChangeParserConfigRequestBody,\n  ) => void;\n  showModal?(): void;\n  parserId: string;\n  parserConfig: IParserConfig;\n  documentExtension: string;\n  documentId: string;\n}\n\nconst hidePagesChunkMethods = [\n  'qa',\n  'table',\n  'picture',\n  'resume',\n  'one',\n  'knowledge_graph',\n];\n\nconst ChunkMethodModal: React.FC<IProps> = ({\n  documentId,\n  parserId,\n  onOk,\n  hideModal,\n  visible,\n  documentExtension,\n  parserConfig,\n  loading,\n}) => {\n  const [form] = Form.useForm();\n  const { parserList, handleChange, selectedTag } = useFetchParserListOnMount(\n    documentId,\n    parserId,\n    documentExtension,\n    form,\n  );\n  const { t } = useTranslate('knowledgeDetails');\n\n  const handleOk = async () => {\n    const values = await form.validateFields();\n    const parser_config = {\n      ...values.parser_config,\n      pages: values.pages?.map((x: any) => [x.from, x.to]) ?? [],\n    };\n    onOk(selectedTag, parser_config);\n  };\n\n  const isPdf = documentExtension === 'pdf';\n\n  const showPages = useMemo(() => {\n    return isPdf && hidePagesChunkMethods.every((x) => x !== selectedTag);\n  }, [selectedTag, isPdf]);\n\n  const showOne = useMemo(() => {\n    return (\n      isPdf &&\n      hidePagesChunkMethods\n        .filter((x) => x !== 'one')\n        .every((x) => x !== selectedTag)\n    );\n  }, [selectedTag, isPdf]);\n\n  const showMaxTokenNumber =\n    selectedTag === 'naive' || selectedTag === 'knowledge_graph';\n\n  const hideDivider = [showPages, showOne, showMaxTokenNumber].every(\n    (x) => x === false,\n  );\n\n  const showEntityTypes = selectedTag === 'knowledge_graph';\n\n  const showExcelToHtml =\n    selectedTag === 'naive' && documentExtension === 'xlsx';\n\n  const showAutoKeywords = useShowAutoKeywords();\n\n  const afterClose = () => {\n    form.resetFields();\n  };\n\n  useEffect(() => {\n    if (visible) {\n      const pages =\n        parserConfig?.pages?.map((x) => ({ from: x[0], to: x[1] })) ?? [];\n      form.setFieldsValue({\n        pages: pages.length > 0 ? pages : [{ from: 1, to: 1024 }],\n        parser_config: omit(parserConfig, 'pages'),\n      });\n    }\n  }, [form, parserConfig, visible]);\n\n  return (\n    <Modal\n      title={t('chunkMethod')}\n      open={visible}\n      onOk={handleOk}\n      onCancel={hideModal}\n      afterClose={afterClose}\n      confirmLoading={loading}\n      width={700}\n    >\n      <Space size={[0, 8]} wrap>\n        <Form.Item label={t('chunkMethod')} className={styles.chunkMethod}>\n          <Select\n            style={{ width: 160 }}\n            onChange={handleChange}\n            value={selectedTag}\n            options={parserList}\n          />\n        </Form.Item>\n      </Space>\n      {hideDivider || <Divider></Divider>}\n      <Form name=\"dynamic_form_nest_item\" autoComplete=\"off\" form={form}>\n        {showPages && (\n          <>\n            <Space>\n              <p>{t('pageRanges')}:</p>\n              <Tooltip title={t('pageRangesTip')}>\n                <QuestionCircleOutlined\n                  className={styles.questionIcon}\n                ></QuestionCircleOutlined>\n              </Tooltip>\n            </Space>\n            <Form.List name=\"pages\">\n              {(fields, { add, remove }) => (\n                <>\n                  {fields.map(({ key, name, ...restField }) => (\n                    <Space\n                      key={key}\n                      style={{\n                        display: 'flex',\n                      }}\n                      align=\"baseline\"\n                    >\n                      <Form.Item\n                        {...restField}\n                        name={[name, 'from']}\n                        dependencies={name > 0 ? [name - 1, 'to'] : []}\n                        rules={[\n                          {\n                            required: true,\n                            message: t('fromMessage'),\n                          },\n                          ({ getFieldValue }) => ({\n                            validator(_, value) {\n                              if (\n                                name === 0 ||\n                                !value ||\n                                getFieldValue(['pages', name - 1, 'to']) < value\n                              ) {\n                                return Promise.resolve();\n                              }\n                              return Promise.reject(\n                                new Error(t('greaterThanPrevious')),\n                              );\n                            },\n                          }),\n                        ]}\n                      >\n                        <InputNumber\n                          placeholder={t('fromPlaceholder')}\n                          min={0}\n                          precision={0}\n                          className={styles.pageInputNumber}\n                        />\n                      </Form.Item>\n                      <Form.Item\n                        {...restField}\n                        name={[name, 'to']}\n                        dependencies={[name, 'from']}\n                        rules={[\n                          {\n                            required: true,\n                            message: t('toMessage'),\n                          },\n                          ({ getFieldValue }) => ({\n                            validator(_, value) {\n                              if (\n                                !value ||\n                                getFieldValue(['pages', name, 'from']) < value\n                              ) {\n                                return Promise.resolve();\n                              }\n                              return Promise.reject(\n                                new Error(t('greaterThan')),\n                              );\n                            },\n                          }),\n                        ]}\n                      >\n                        <InputNumber\n                          placeholder={t('toPlaceholder')}\n                          min={0}\n                          precision={0}\n                          className={styles.pageInputNumber}\n                        />\n                      </Form.Item>\n                      {name > 0 && (\n                        <MinusCircleOutlined onClick={() => remove(name)} />\n                      )}\n                    </Space>\n                  ))}\n                  <Form.Item>\n                    <Button\n                      type=\"dashed\"\n                      onClick={() => add()}\n                      block\n                      icon={<PlusOutlined />}\n                    >\n                      {t('addPage')}\n                    </Button>\n                  </Form.Item>\n                </>\n              )}\n            </Form.List>\n          </>\n        )}\n        {showOne && <LayoutRecognize></LayoutRecognize>}\n        {showPages && (\n          <Form.Item\n            noStyle\n            dependencies={[['parser_config', 'layout_recognize']]}\n          >\n            {({ getFieldValue }) =>\n              getFieldValue(['parser_config', 'layout_recognize']) && (\n                <Form.Item\n                  name={['parser_config', 'task_page_size']}\n                  label={t('taskPageSize')}\n                  tooltip={t('taskPageSizeTip')}\n                  initialValue={12}\n                  rules={[\n                    {\n                      required: true,\n                      message: t('taskPageSizeMessage'),\n                    },\n                  ]}\n                >\n                  <InputNumber min={1} max={128} />\n                </Form.Item>\n              )\n            }\n          </Form.Item>\n        )}\n        {showMaxTokenNumber && (\n          <>\n            <MaxTokenNumber\n              max={selectedTag === 'knowledge_graph' ? 8192 * 2 : 2048}\n            ></MaxTokenNumber>\n            <Delimiter></Delimiter>\n          </>\n        )}\n        {showAutoKeywords(selectedTag) && (\n          <>\n            <AutoKeywordsItem></AutoKeywordsItem>\n            <AutoQuestionsItem></AutoQuestionsItem>\n          </>\n        )}\n        {showExcelToHtml && <ExcelToHtml></ExcelToHtml>}\n        {showRaptorParseConfiguration(selectedTag) && (\n          <ParseConfiguration></ParseConfiguration>\n        )}\n        {showGraphRagItems(selectedTag) && <GraphRagItems></GraphRagItems>}\n        {showEntityTypes && <EntityTypesItem></EntityTypesItem>}\n      </Form>\n    </Modal>\n  );\n};\nexport default ChunkMethodModal;\n","import { IModalManagerChildrenProps } from '@/components/modal-manager';\nimport { Form, Input, Modal } from 'antd';\nimport React from 'react';\n\ntype FieldType = {\n  name?: string;\n};\n\ninterface IProps extends Omit<IModalManagerChildrenProps, 'showModal'> {\n  loading: boolean;\n  onOk: (name: string) => void;\n  showModal?(): void;\n}\n\nconst FileCreatingModal: React.FC<IProps> = ({ visible, hideModal, onOk }) => {\n  const [form] = Form.useForm();\n\n  const handleOk = async () => {\n    const values = await form.validateFields();\n    onOk(values.name);\n  };\n\n  return (\n    <Modal\n      title=\"File Name\"\n      open={visible}\n      onOk={handleOk}\n      onCancel={hideModal}\n    >\n      <Form\n        form={form}\n        name=\"validateOnly\"\n        labelCol={{ span: 4 }}\n        wrapperCol={{ span: 20 }}\n        style={{ maxWidth: 600 }}\n        autoComplete=\"off\"\n      >\n        <Form.Item<FieldType>\n          label=\"File Name\"\n          name=\"name\"\n          rules={[{ required: true, message: 'Please input name!' }]}\n        >\n          <Input />\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n};\nexport default FileCreatingModal;\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nimport * as React from \"react\";\nconst SvgCancel = (props) => /* @__PURE__ */ React.createElement(\"svg\", __spreadValues({ width: 22, height: 22, fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" }, props), /* @__PURE__ */ React.createElement(\"path\", { d: \"M.5 11C.5 5.201 5.201.5 11 .5S21.5 5.201 21.5 11 16.799 21.5 11 21.5.5 16.799.5 11Z\", fill: \"#FEF3F2\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M.5 11C.5 5.201 5.201.5 11 .5S21.5 5.201 21.5 11 16.799 21.5 11 21.5.5 16.799.5 11Z\", stroke: \"#FECDCA\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"m14 8-6 6m0-6 6 6\", stroke: \"#F04438\", strokeWidth: 1.5, strokeLinecap: \"round\", strokeLinejoin: \"round\" }));\nexport { SvgCancel as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTS41IDExQy41IDUuMjAxIDUuMjAxLjUgMTEgLjVTMjEuNSA1LjIwMSAyMS41IDExIDE2Ljc5OSAyMS41IDExIDIxLjUuNSAxNi43OTkuNSAxMVoiIGZpbGw9IiNGRUYzRjIiLz48cGF0aCBkPSJNLjUgMTFDLjUgNS4yMDEgNS4yMDEuNSAxMSAuNVMyMS41IDUuMjAxIDIxLjUgMTEgMTYuNzk5IDIxLjUgMTEgMjEuNS41IDE2Ljc5OS41IDExWiIgc3Ryb2tlPSIjRkVDRENBIi8+PHBhdGggZD0ibTE0IDgtNiA2bTAtNiA2IDYiIHN0cm9rZT0iI0YwNDQzOCIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjwvc3ZnPg==\";\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nimport * as React from \"react\";\nconst SvgDelete = (props) => /* @__PURE__ */ React.createElement(\"svg\", __spreadValues({ width: 20, height: 20, fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" }, props), /* @__PURE__ */ React.createElement(\"path\", { d: \"M13.333 5v-.667c0-.933 0-1.4-.181-1.756a1.667 1.667 0 0 0-.729-.729c-.356-.181-.823-.181-1.756-.181H9.333c-.933 0-1.4 0-1.756.181-.314.16-.569.415-.729.729-.181.356-.181.823-.181 1.756V5m1.666 4.583v4.167m3.334-4.167v4.167M2.5 5h15m-1.667 0v9.333c0 1.4 0 2.1-.272 2.635a2.5 2.5 0 0 1-1.093 1.093c-.534.272-1.235.272-2.635.272H8.167c-1.4 0-2.1 0-2.635-.272a2.5 2.5 0 0 1-1.093-1.093c-.272-.534-.272-1.235-.272-2.635V5\", stroke: \"#667085\", strokeWidth: 1.667, strokeLinecap: \"round\", strokeLinejoin: \"round\" }));\nexport { SvgDelete as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEzLjMzMyA1di0uNjY3YzAtLjkzMyAwLTEuNC0uMTgxLTEuNzU2YTEuNjY3IDEuNjY3IDAgMCAwLS43MjktLjcyOWMtLjM1Ni0uMTgxLS44MjMtLjE4MS0xLjc1Ni0uMTgxSDkuMzMzYy0uOTMzIDAtMS40IDAtMS43NTYuMTgxLS4zMTQuMTYtLjU2OS40MTUtLjcyOS43MjktLjE4MS4zNTYtLjE4MS44MjMtLjE4MSAxLjc1NlY1bTEuNjY2IDQuNTgzdjQuMTY3bTMuMzM0LTQuMTY3djQuMTY3TTIuNSA1aDE1bS0xLjY2NyAwdjkuMzMzYzAgMS40IDAgMi4xLS4yNzIgMi42MzVhMi41IDIuNSAwIDAgMS0xLjA5MyAxLjA5M2MtLjUzNC4yNzItMS4yMzUuMjcyLTIuNjM1LjI3Mkg4LjE2N2MtMS40IDAtMi4xIDAtMi42MzUtLjI3MmEyLjUgMi41IDAgMCAxLTEuMDkzLTEuMDkzYy0uMjcyLS41MzQtLjI3Mi0xLjIzNS0uMjcyLTIuNjM1VjUiIHN0cm9rZT0iIzY2NzA4NSIgc3Ryb2tlLXdpZHRoPSIxLjY2NyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PC9zdmc+\";\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nimport * as React from \"react\";\nconst SvgDisable = (props) => /* @__PURE__ */ React.createElement(\"svg\", __spreadValues({ className: \"disable_svg__icon\", viewBox: \"0 0 1024 1024\", xmlns: \"http://www.w3.org/2000/svg\", width: 22, height: 22 }, props), /* @__PURE__ */ React.createElement(\"path\", { d: \"M222.635 272.299A382.4 382.4 0 0 0 138.667 512c0 212.117 171.904 384 384 384 90.666 0 174.016-31.424 239.701-83.968L222.635 272.299zm60.33-60.331L822.7 751.701A382.4 382.4 0 0 0 906.667 512c0-212.117-171.904-384-384-384-90.667 0-174.016 31.424-239.702 83.968zM53.333 512c0-259.221 210.091-469.333 469.334-469.333C781.888 42.667 992 252.757 992 512c0 259.221-210.09 469.333-469.333 469.333-259.222 0-469.334-210.09-469.334-469.333z\", fill: \"#F04438\" }));\nexport { SvgDisable as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjIiIGhlaWdodD0iMjIiPjxwYXRoIGQ9Ik0yMjIuNjM1IDI3Mi4yOTlBMzgyLjQgMzgyLjQgMCAwIDAgMTM4LjY2NyA1MTJjMCAyMTIuMTE3IDE3MS45MDQgMzg0IDM4NCAzODQgOTAuNjY2IDAgMTc0LjAxNi0zMS40MjQgMjM5LjcwMS04My45NjhMMjIyLjYzNSAyNzIuMjk5em02MC4zMy02MC4zMzFMODIyLjcgNzUxLjcwMUEzODIuNCAzODIuNCAwIDAgMCA5MDYuNjY3IDUxMmMwLTIxMi4xMTctMTcxLjkwNC0zODQtMzg0LTM4NC05MC42NjcgMC0xNzQuMDE2IDMxLjQyNC0yMzkuNzAyIDgzLjk2OHpNNTMuMzMzIDUxMmMwLTI1OS4yMjEgMjEwLjA5MS00NjkuMzMzIDQ2OS4zMzQtNDY5LjMzM0M3ODEuODg4IDQyLjY2NyA5OTIgMjUyLjc1NyA5OTIgNTEyYzAgMjU5LjIyMS0yMTAuMDkgNDY5LjMzMy00NjkuMzMzIDQ2OS4zMzMtMjU5LjIyMiAwLTQ2OS4zMzQtMjEwLjA5LTQ2OS4zMzQtNDY5LjMzM3oiIGZpbGw9IiNGMDQ0MzgiLz48L3N2Zz4=\";\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nimport * as React from \"react\";\nconst SvgEnable = (props) => /* @__PURE__ */ React.createElement(\"svg\", __spreadValues({ className: \"enable_svg__icon\", viewBox: \"0 0 1024 1024\", xmlns: \"http://www.w3.org/2000/svg\", width: 22, height: 22 }, props), /* @__PURE__ */ React.createElement(\"path\", { d: \"M512 0a512 512 0 1 0 0 1024A512 512 0 0 0 512 0zm0 990.2a438.2 438.2 0 1 1 0-956.4 438.2 438.2 0 0 1 0 956.4z\", fill: \"#abefc6\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M448.1 584.3 322.4 458.6l-78.9 78.9L449.1 743h.1l.5.5 325.9-325.9-80.4-80.4z\", fill: \"#17b26a\" }));\nexport { SvgEnable as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjIiIGhlaWdodD0iMjIiPjxwYXRoIGQ9Ik01MTIgMGE1MTIgNTEyIDAgMSAwIDAgMTAyNEE1MTIgNTEyIDAgMCAwIDUxMiAwem0wIDk5MC4yYTQzOC4yIDQzOC4yIDAgMSAxIDAtOTU2LjQgNDM4LjIgNDM4LjIgMCAwIDEgMCA5NTYuNHoiIGZpbGw9IiNhYmVmYzYiLz48cGF0aCBkPSJNNDQ4LjEgNTg0LjMgMzIyLjQgNDU4LjZsLTc4LjkgNzguOUw0NDkuMSA3NDNoLjFsLjUuNSAzMjUuOS0zMjUuOS04MC40LTgwLjR6IiBmaWxsPSIjMTdiMjZhIi8+PC9zdmc+\";\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nimport * as React from \"react\";\nconst SvgRun = (props) => /* @__PURE__ */ React.createElement(\"svg\", __spreadValues({ width: 22, height: 22, fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" }, props), /* @__PURE__ */ React.createElement(\"path\", { d: \"M11 21.5C5.201 21.5.5 16.799.5 11S5.201.5 11 .5 21.5 5.201 21.5 11 16.799 21.5 11 21.5Z\", fill: \"#ECFDF3\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M11 21.5C5.201 21.5.5 16.799.5 11S5.201.5 11 .5 21.5 5.201 21.5 11 16.799 21.5 11 21.5Z\", stroke: \"#ABEFC6\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M7.5 7.495c0-.486 0-.729.101-.862a.5.5 0 0 1 .37-.198c.167-.01.369.125.773.394l5.258 3.505c.333.223.5.334.558.475a.5.5 0 0 1 0 .383c-.058.14-.225.251-.559.474L8.745 15.17c-.404.27-.606.404-.774.394a.5.5 0 0 1-.369-.198c-.101-.133-.101-.376-.101-.862v-7.01Z\", stroke: \"#17B26A\", strokeWidth: 1.5, strokeLinecap: \"round\", strokeLinejoin: \"round\" }));\nexport { SvgRun as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTExIDIxLjVDNS4yMDEgMjEuNS41IDE2Ljc5OS41IDExUzUuMjAxLjUgMTEgLjUgMjEuNSA1LjIwMSAyMS41IDExIDE2Ljc5OSAyMS41IDExIDIxLjVaIiBmaWxsPSIjRUNGREYzIi8+PHBhdGggZD0iTTExIDIxLjVDNS4yMDEgMjEuNS41IDE2Ljc5OS41IDExUzUuMjAxLjUgMTEgLjUgMjEuNSA1LjIwMSAyMS41IDExIDE2Ljc5OSAyMS41IDExIDIxLjVaIiBzdHJva2U9IiNBQkVGQzYiLz48cGF0aCBkPSJNNy41IDcuNDk1YzAtLjQ4NiAwLS43MjkuMTAxLS44NjJhLjUuNSAwIDAgMSAuMzctLjE5OGMuMTY3LS4wMS4zNjkuMTI1Ljc3My4zOTRsNS4yNTggMy41MDVjLjMzMy4yMjMuNS4zMzQuNTU4LjQ3NWEuNS41IDAgMCAxIDAgLjM4M2MtLjA1OC4xNC0uMjI1LjI1MS0uNTU5LjQ3NEw4Ljc0NSAxNS4xN2MtLjQwNC4yNy0uNjA2LjQwNC0uNzc0LjM5NGEuNS41IDAgMCAxLS4zNjktLjE5OGMtLjEwMS0uMTMzLS4xMDEtLjM3Ni0uMTAxLS44NjJ2LTcuMDFaIiBzdHJva2U9IiMxN0IyNkEiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48L3N2Zz4=\";\n","// extracted by mini-css-extract-plugin\nexport default {\"datasetWrapper\":\"datasetWrapper___q27L3\",\"filter\":\"filter___ETTRo\",\"deleteIconWrapper\":\"deleteIconWrapper___DKg5C\",\"img\":\"img___JlbZB\",\"column\":\"column___fvjI4\",\"toChunks\":\"toChunks___LX_Ow\",\"pageInputNumber\":\"pageInputNumber___hsRez\",\"questionIcon\":\"questionIcon___JX1Gh\",\"nameText\":\"nameText___Fvf8C\"};","import { ReactComponent as CancelIcon } from '@/assets/svg/cancel.svg';\nimport { ReactComponent as DeleteIcon } from '@/assets/svg/delete.svg';\nimport { ReactComponent as DisableIcon } from '@/assets/svg/disable.svg';\nimport { ReactComponent as EnableIcon } from '@/assets/svg/enable.svg';\nimport { ReactComponent as RunIcon } from '@/assets/svg/run.svg';\nimport { useShowDeleteConfirm, useTranslate } from '@/hooks/common-hooks';\nimport {\n  useRemoveNextDocument,\n  useRunNextDocument,\n  useSetNextDocumentStatus,\n} from '@/hooks/document-hooks';\nimport {\n  DownOutlined,\n  FileOutlined,\n  FileTextOutlined,\n  PlusOutlined,\n  SearchOutlined,\n} from '@ant-design/icons';\nimport { Button, Dropdown, Flex, Input, MenuProps, Space } from 'antd';\nimport { useCallback, useMemo } from 'react';\n\nimport styles from './index.less';\n\ninterface IProps {\n  selectedRowKeys: string[];\n  showCreateModal(): void;\n  showWebCrawlModal(): void;\n  showDocumentUploadModal(): void;\n  searchString: string;\n  handleInputChange: React.ChangeEventHandler<HTMLInputElement>;\n}\n\nconst DocumentToolbar = ({\n  searchString,\n  selectedRowKeys,\n  showCreateModal,\n  showDocumentUploadModal,\n  handleInputChange,\n}: IProps) => {\n  const { t } = useTranslate('knowledgeDetails');\n  const { removeDocument } = useRemoveNextDocument();\n  const showDeleteConfirm = useShowDeleteConfirm();\n  const { runDocumentByIds } = useRunNextDocument();\n  const { setDocumentStatus } = useSetNextDocumentStatus();\n\n  const actionItems: MenuProps['items'] = useMemo(() => {\n    return [\n      {\n        key: '1',\n        onClick: showDocumentUploadModal,\n        label: (\n          <div>\n            <Button type=\"link\">\n              <Space>\n                <FileTextOutlined />\n                {t('localFiles')}\n              </Space>\n            </Button>\n          </div>\n        ),\n      },\n      { type: 'divider' },\n      {\n        key: '3',\n        onClick: showCreateModal,\n        label: (\n          <div>\n            <Button type=\"link\">\n              <FileOutlined />\n              {t('emptyFiles')}\n            </Button>\n          </div>\n        ),\n      },\n    ];\n  }, [showDocumentUploadModal, showCreateModal, t]);\n\n  const handleDelete = useCallback(() => {\n    showDeleteConfirm({\n      onOk: () => {\n        removeDocument(selectedRowKeys);\n      },\n    });\n  }, [removeDocument, showDeleteConfirm, selectedRowKeys]);\n\n  const runDocument = useCallback(\n    (run: number) => {\n      runDocumentByIds({\n        documentIds: selectedRowKeys,\n        run,\n      });\n    },\n    [runDocumentByIds, selectedRowKeys],\n  );\n\n  const handleRunClick = useCallback(() => {\n    runDocument(1);\n  }, [runDocument]);\n\n  const handleCancelClick = useCallback(() => {\n    runDocument(2);\n  }, [runDocument]);\n\n  const onChangeStatus = useCallback(\n    (enabled: boolean) => {\n      selectedRowKeys.forEach((id) => {\n        setDocumentStatus({ status: enabled, documentId: id });\n      });\n    },\n    [selectedRowKeys, setDocumentStatus],\n  );\n\n  const handleEnableClick = useCallback(() => {\n    onChangeStatus(true);\n  }, [onChangeStatus]);\n\n  const handleDisableClick = useCallback(() => {\n    onChangeStatus(false);\n  }, [onChangeStatus]);\n\n  const disabled = selectedRowKeys.length === 0;\n\n  const items: MenuProps['items'] = useMemo(() => {\n    return [\n      {\n        key: '0',\n        onClick: handleEnableClick,\n        label: (\n          <Flex gap={10}>\n            <EnableIcon></EnableIcon>\n            <b>{t('enabled')}</b>\n          </Flex>\n        ),\n      },\n      {\n        key: '1',\n        onClick: handleDisableClick,\n        label: (\n          <Flex gap={10}>\n            <DisableIcon></DisableIcon>\n            <b>{t('disabled')}</b>\n          </Flex>\n        ),\n      },\n      { type: 'divider' },\n      {\n        key: '2',\n        onClick: handleRunClick,\n        label: (\n          <Flex gap={10}>\n            <RunIcon></RunIcon>\n            <b>{t('run')}</b>\n          </Flex>\n        ),\n      },\n      {\n        key: '3',\n        onClick: handleCancelClick,\n        label: (\n          <Flex gap={10}>\n            <CancelIcon />\n            <b>{t('cancel')}</b>\n          </Flex>\n        ),\n      },\n      { type: 'divider' },\n      {\n        key: '4',\n        onClick: handleDelete,\n        label: (\n          <Flex gap={10}>\n            <span className={styles.deleteIconWrapper}>\n              <DeleteIcon width={18} />\n            </span>\n            <b>{t('delete', { keyPrefix: 'common' })}</b>\n          </Flex>\n        ),\n      },\n    ];\n  }, [\n    handleDelete,\n    handleRunClick,\n    handleCancelClick,\n    t,\n    handleDisableClick,\n    handleEnableClick,\n  ]);\n\n  return (\n    <div className={styles.filter}>\n      <Dropdown\n        menu={{ items }}\n        placement=\"bottom\"\n        arrow={false}\n        disabled={disabled}\n      >\n        <Button>\n          <Space>\n            <b> {t('bulk')}</b>\n            <DownOutlined />\n          </Space>\n        </Button>\n      </Dropdown>\n      <Space>\n        <Input\n          placeholder={t('searchFiles')}\n          value={searchString}\n          style={{ width: 220 }}\n          allowClear\n          onChange={handleInputChange}\n          prefix={<SearchOutlined />}\n        />\n\n        <Dropdown menu={{ items: actionItems }} trigger={['click']}>\n          <Button type=\"primary\" icon={<PlusOutlined />}>\n            {t('addFile')}\n          </Button>\n        </Dropdown>\n      </Space>\n    </div>\n  );\n};\n\nexport default DocumentToolbar;\n","import { RunningStatus } from '@/constants/knowledge';\n\nexport const RunningStatusMap = {\n  [RunningStatus.UNSTART]: {\n    label: 'UNSTART',\n    color: 'cyan',\n  },\n  [RunningStatus.RUNNING]: {\n    label: 'Parsing',\n    color: 'blue',\n  },\n  [RunningStatus.CANCEL]: { label: 'CANCEL', color: 'orange' },\n  [RunningStatus.DONE]: { label: 'SUCCESS', color: 'geekblue' },\n  [RunningStatus.FAIL]: { label: 'FAIL', color: 'red' },\n};\n\nexport * from '@/constants/knowledge';\n","import { RunningStatus } from './constant';\n\nexport const isParserRunning = (text: RunningStatus) => {\n  const isRunning = text === RunningStatus.RUNNING;\n  return isRunning;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"iconButton\":\"iconButton___btHnB\"};","import { useShowDeleteConfirm, useTranslate } from '@/hooks/common-hooks';\nimport { useRemoveNextDocument } from '@/hooks/document-hooks';\nimport { IDocumentInfo } from '@/interfaces/database/document';\nimport { downloadDocument } from '@/utils/file-util';\nimport {\n  DeleteOutlined,\n  DownloadOutlined,\n  EditOutlined,\n  ToolOutlined,\n} from '@ant-design/icons';\nimport { Button, Dropdown, MenuProps, Space, Tooltip } from 'antd';\nimport { isParserRunning } from '../utils';\n\nimport { useCallback } from 'react';\nimport { DocumentType } from '../constant';\nimport styles from './index.less';\n\ninterface IProps {\n  record: IDocumentInfo;\n  setCurrentRecord: (record: IDocumentInfo) => void;\n  showRenameModal: () => void;\n  showChangeParserModal: () => void;\n  showSetMetaModal: () => void;\n}\n\nconst ParsingActionCell = ({\n  record,\n  setCurrentRecord,\n  showRenameModal,\n  showChangeParserModal,\n  showSetMetaModal,\n}: IProps) => {\n  const documentId = record.id;\n  const isRunning = isParserRunning(record.run);\n  const { t } = useTranslate('knowledgeDetails');\n  const { removeDocument } = useRemoveNextDocument();\n  const showDeleteConfirm = useShowDeleteConfirm();\n  const isVirtualDocument = record.type === DocumentType.Virtual;\n\n  const onRmDocument = () => {\n    if (!isRunning) {\n      showDeleteConfirm({\n        onOk: () => removeDocument([documentId]),\n        content: record?.parser_config?.graphrag?.use_graphrag\n          ? t('deleteDocumentConfirmContent')\n          : '',\n      });\n    }\n  };\n\n  const onDownloadDocument = () => {\n    downloadDocument({\n      id: documentId,\n      filename: record.name,\n    });\n  };\n\n  const setRecord = useCallback(() => {\n    setCurrentRecord(record);\n  }, [record, setCurrentRecord]);\n\n  const onShowRenameModal = () => {\n    setRecord();\n    showRenameModal();\n  };\n  const onShowChangeParserModal = () => {\n    setRecord();\n    showChangeParserModal();\n  };\n\n  const onShowSetMetaModal = useCallback(() => {\n    setRecord();\n    showSetMetaModal();\n  }, [setRecord, showSetMetaModal]);\n\n  const chunkItems: MenuProps['items'] = [\n    {\n      key: '1',\n      label: (\n        <div className=\"flex flex-col\">\n          <Button type=\"link\" onClick={onShowChangeParserModal}>\n            {t('chunkMethod')}\n          </Button>\n        </div>\n      ),\n    },\n    { type: 'divider' },\n    {\n      key: '2',\n      label: (\n        <div className=\"flex flex-col\">\n          <Button type=\"link\" onClick={onShowSetMetaModal}>\n            {t('setMetaData')}\n          </Button>\n        </div>\n      ),\n    },\n  ];\n\n  return (\n    <Space size={0}>\n      {isVirtualDocument || (\n        <Dropdown\n          menu={{ items: chunkItems }}\n          trigger={['click']}\n          disabled={isRunning || record.parser_id === 'tag'}\n        >\n          <Button type=\"text\" className={styles.iconButton}>\n            <ToolOutlined size={20} />\n          </Button>\n        </Dropdown>\n      )}\n      <Tooltip title={t('rename', { keyPrefix: 'common' })}>\n        <Button\n          type=\"text\"\n          disabled={isRunning}\n          onClick={onShowRenameModal}\n          className={styles.iconButton}\n        >\n          <EditOutlined size={20} />\n        </Button>\n      </Tooltip>\n      <Tooltip title={t('delete', { keyPrefix: 'common' })}>\n        <Button\n          type=\"text\"\n          disabled={isRunning}\n          onClick={onRmDocument}\n          className={styles.iconButton}\n        >\n          <DeleteOutlined size={20} />\n        </Button>\n      </Tooltip>\n      {isVirtualDocument || (\n        <Tooltip title={t('download', { keyPrefix: 'common' })}>\n          <Button\n            type=\"text\"\n            disabled={isRunning}\n            onClick={onDownloadDocument}\n            className={styles.iconButton}\n          >\n            <DownloadOutlined size={20} />\n          </Button>\n        </Tooltip>\n      )}\n    </Space>\n  );\n};\n\nexport default ParsingActionCell;\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nimport * as React from \"react\";\nconst SvgRefresh = (props) => /* @__PURE__ */ React.createElement(\"svg\", __spreadValues({ width: 20, height: 20, fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" }, props), /* @__PURE__ */ React.createElement(\"path\", { d: \"M14.167 4.271A7.083 7.083 0 0 1 10 17.083h-.417m-3.75-1.354A7.083 7.083 0 0 1 10 2.917h.417m.416 15.75L9.167 17l1.666-1.667M9.167 4.667 10.833 3 9.167 1.333\", stroke: \"#17B26A\", strokeWidth: 1.667, strokeLinecap: \"round\", strokeLinejoin: \"round\" }));\nexport { SvgRefresh as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjE2NyA0LjI3MUE3LjA4MyA3LjA4MyAwIDAgMSAxMCAxNy4wODNoLS40MTdtLTMuNzUtMS4zNTRBNy4wODMgNy4wODMgMCAwIDEgMTAgMi45MTdoLjQxN20uNDE2IDE1Ljc1TDkuMTY3IDE3bDEuNjY2LTEuNjY3TTkuMTY3IDQuNjY3IDEwLjgzMyAzIDkuMTY3IDEuMzMzIiBzdHJva2U9IiMxN0IyNkEiIHN0cm9rZS13aWR0aD0iMS42NjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjwvc3ZnPg==\";\n","// extracted by mini-css-extract-plugin\nexport default {\"popoverContent\":\"popoverContent___Y8ZAO\",\"popoverContentItem\":\"popoverContentItem___Q3slq\",\"popoverContentText\":\"popoverContentText___nUr7b\",\"popoverContentErrorLabel\":\"popoverContentErrorLabel___vthqR\",\"operationIcon\":\"operationIcon___PnxaJ\",\"operationIconSpin\":\"operationIconSpin___Pf25W\",\"spin\":\"spin___POEkq\"};","import { ReactComponent as CancelIcon } from '@/assets/svg/cancel.svg';\nimport { ReactComponent as RefreshIcon } from '@/assets/svg/refresh.svg';\nimport { ReactComponent as RunIcon } from '@/assets/svg/run.svg';\nimport { useTranslate } from '@/hooks/common-hooks';\nimport { IDocumentInfo } from '@/interfaces/database/document';\nimport {\n  Badge,\n  DescriptionsProps,\n  Flex,\n  Popconfirm,\n  Popover,\n  Space,\n  Tag,\n} from 'antd';\nimport classNames from 'classnames';\nimport { useTranslation } from 'react-i18next';\nimport reactStringReplace from 'react-string-replace';\nimport { DocumentType, RunningStatus, RunningStatusMap } from '../constant';\nimport { useHandleRunDocumentByIds } from '../hooks';\nimport { isParserRunning } from '../utils';\nimport styles from './index.less';\n\nconst iconMap = {\n  [RunningStatus.UNSTART]: RunIcon,\n  [RunningStatus.RUNNING]: CancelIcon,\n  [RunningStatus.CANCEL]: RefreshIcon,\n  [RunningStatus.DONE]: RefreshIcon,\n  [RunningStatus.FAIL]: RefreshIcon,\n};\n\ninterface IProps {\n  record: IDocumentInfo;\n}\n\nconst PopoverContent = ({ record }: IProps) => {\n  const { t } = useTranslate('knowledgeDetails');\n\n  const replaceText = (text: string) => {\n    // Remove duplicate \\n\n    const nextText = text.replace(/(\\n)\\1+/g, '$1');\n\n    const replacedText = reactStringReplace(\n      nextText,\n      /(\\[ERROR\\].+\\s)/g,\n      (match, i) => {\n        return (\n          <span key={i} className={styles.popoverContentErrorLabel}>\n            {match}\n          </span>\n        );\n      },\n    );\n\n    return replacedText;\n  };\n\n  const items: DescriptionsProps['items'] = [\n    {\n      key: 'process_begin_at',\n      label: t('processBeginAt'),\n      children: record.process_begin_at,\n    },\n    {\n      key: 'process_duation',\n      label: t('processDuration'),\n      children: `${record.process_duation.toFixed(2)} s`,\n    },\n    {\n      key: 'progress_msg',\n      label: t('progressMsg'),\n      children: replaceText(record.progress_msg.trim()),\n    },\n  ];\n\n  return (\n    <Flex vertical className={styles.popoverContent}>\n      {items.map((x, idx) => {\n        return (\n          <div key={x.key} className={idx < 2 ? styles.popoverContentItem : ''}>\n            <b>{x.label}:</b>\n            <div className={styles.popoverContentText}>{x.children}</div>\n          </div>\n        );\n      })}\n    </Flex>\n  );\n};\n\nexport const ParsingStatusCell = ({ record }: IProps) => {\n  const text = record.run;\n  const runningStatus = RunningStatusMap[text];\n  const { t } = useTranslation();\n  const { handleRunDocumentByIds, loading } = useHandleRunDocumentByIds(\n    record.id,\n  );\n\n  const isRunning = isParserRunning(text);\n\n  const OperationIcon = iconMap[text];\n\n  const label = t(`knowledgeDetails.runningStatus${text}`);\n\n  const handleOperationIconClick =\n    (shouldDelete: boolean = false) =>\n    () => {\n      handleRunDocumentByIds(record.id, isRunning, shouldDelete);\n    };\n\n  return record.type === DocumentType.Virtual ? null : (\n    <Flex justify={'space-between'} align=\"center\">\n      <Popover content={<PopoverContent record={record}></PopoverContent>}>\n        <Tag color={runningStatus.color}>\n          {isRunning ? (\n            <Space>\n              <Badge color={runningStatus.color} />\n              {label}\n              <span>{(record.progress * 100).toFixed(2)}%</span>\n            </Space>\n          ) : (\n            label\n          )}\n        </Tag>\n      </Popover>\n      <Popconfirm\n        title={t(`knowledgeDetails.redo`, { chunkNum: record.chunk_num })}\n        onConfirm={handleOperationIconClick(true)}\n        onCancel={handleOperationIconClick(false)}\n        disabled={record.chunk_num === 0}\n        okText={t('common.ok')}\n        cancelText={t('common.cancel')}\n      >\n        <div\n          className={classNames(styles.operationIcon, {\n            [styles.operationIconSpin]: loading,\n          })}\n          onClick={\n            record.chunk_num === 0 ? handleOperationIconClick(false) : () => {}\n          }\n        >\n          <OperationIcon />\n        </div>\n      </Popconfirm>\n    </Flex>\n  );\n};\n\nexport default ParsingStatusCell;\n","import { useSetModalState } from '@/hooks/common-hooks';\nimport {\n  useCreateNextDocument,\n  useNextWebCrawl,\n  useRunNextDocument,\n  useSaveNextDocumentName,\n  useSetDocumentMeta,\n  useSetNextDocumentParser,\n  useUploadNextDocument,\n} from '@/hooks/document-hooks';\nimport { useGetKnowledgeSearchParams } from '@/hooks/route-hook';\nimport { IChangeParserConfigRequestBody } from '@/interfaces/request/document';\nimport { getUnSupportedFilesCount } from '@/utils/document-util';\nimport { UploadFile } from 'antd';\nimport { useCallback, useState } from 'react';\nimport { useNavigate } from 'umi';\nimport { KnowledgeRouteKey } from './constant';\n\nexport const useNavigateToOtherPage = () => {\n  const navigate = useNavigate();\n  const { knowledgeId } = useGetKnowledgeSearchParams();\n\n  const linkToUploadPage = useCallback(() => {\n    navigate(`/knowledge/dataset/upload?id=${knowledgeId}`);\n  }, [navigate, knowledgeId]);\n\n  const toChunk = useCallback(\n    (id: string) => {\n      navigate(\n        `/knowledge/${KnowledgeRouteKey.Dataset}/chunk?id=${knowledgeId}&doc_id=${id}`,\n      );\n    },\n    [navigate, knowledgeId],\n  );\n\n  return { linkToUploadPage, toChunk };\n};\n\nexport const useRenameDocument = (documentId: string) => {\n  const { saveName, loading } = useSaveNextDocumentName();\n\n  const {\n    visible: renameVisible,\n    hideModal: hideRenameModal,\n    showModal: showRenameModal,\n  } = useSetModalState();\n\n  const onRenameOk = useCallback(\n    async (name: string) => {\n      const ret = await saveName({ documentId, name });\n      if (ret === 0) {\n        hideRenameModal();\n      }\n    },\n    [hideRenameModal, saveName, documentId],\n  );\n\n  return {\n    renameLoading: loading,\n    onRenameOk,\n    renameVisible,\n    hideRenameModal,\n    showRenameModal,\n  };\n};\n\nexport const useCreateEmptyDocument = () => {\n  const { createDocument, loading } = useCreateNextDocument();\n\n  const {\n    visible: createVisible,\n    hideModal: hideCreateModal,\n    showModal: showCreateModal,\n  } = useSetModalState();\n\n  const onCreateOk = useCallback(\n    async (name: string) => {\n      const ret = await createDocument(name);\n      if (ret === 0) {\n        hideCreateModal();\n      }\n    },\n    [hideCreateModal, createDocument],\n  );\n\n  return {\n    createLoading: loading,\n    onCreateOk,\n    createVisible,\n    hideCreateModal,\n    showCreateModal,\n  };\n};\n\nexport const useChangeDocumentParser = (documentId: string) => {\n  const { setDocumentParser, loading } = useSetNextDocumentParser();\n\n  const {\n    visible: changeParserVisible,\n    hideModal: hideChangeParserModal,\n    showModal: showChangeParserModal,\n  } = useSetModalState();\n\n  const onChangeParserOk = useCallback(\n    async (parserId: string, parserConfig: IChangeParserConfigRequestBody) => {\n      const ret = await setDocumentParser({\n        parserId,\n        documentId,\n        parserConfig,\n      });\n      if (ret === 0) {\n        hideChangeParserModal();\n      }\n    },\n    [hideChangeParserModal, setDocumentParser, documentId],\n  );\n\n  return {\n    changeParserLoading: loading,\n    onChangeParserOk,\n    changeParserVisible,\n    hideChangeParserModal,\n    showChangeParserModal,\n  };\n};\n\nexport const useGetRowSelection = () => {\n  const [selectedRowKeys, setSelectedRowKeys] = useState<React.Key[]>([]);\n\n  const rowSelection = {\n    selectedRowKeys,\n    onChange: (newSelectedRowKeys: React.Key[]) => {\n      setSelectedRowKeys(newSelectedRowKeys);\n    },\n  };\n\n  return rowSelection;\n};\n\nexport const useHandleUploadDocument = () => {\n  const {\n    visible: documentUploadVisible,\n    hideModal: hideDocumentUploadModal,\n    showModal: showDocumentUploadModal,\n  } = useSetModalState();\n  const { uploadDocument, loading } = useUploadNextDocument();\n\n  const onDocumentUploadOk = useCallback(\n    async (fileList: UploadFile[]): Promise<number | undefined> => {\n      if (fileList.length > 0) {\n        const ret: any = await uploadDocument(fileList);\n        if (typeof ret?.message !== 'string') {\n          return;\n        }\n        const count = getUnSupportedFilesCount(ret?.message);\n        /// 500 error code indicates that some file types are not supported\n        let code = ret?.code;\n        if (\n          ret?.code === 0 ||\n          (ret?.code === 500 && count !== fileList.length) // Some files were not uploaded successfully, but some were uploaded successfully.\n        ) {\n          code = 0;\n          hideDocumentUploadModal();\n        }\n        return code;\n      }\n    },\n    [uploadDocument, hideDocumentUploadModal],\n  );\n\n  return {\n    documentUploadLoading: loading,\n    onDocumentUploadOk,\n    documentUploadVisible,\n    hideDocumentUploadModal,\n    showDocumentUploadModal,\n  };\n};\n\nexport const useHandleWebCrawl = () => {\n  const {\n    visible: webCrawlUploadVisible,\n    hideModal: hideWebCrawlUploadModal,\n    showModal: showWebCrawlUploadModal,\n  } = useSetModalState();\n  const { webCrawl, loading } = useNextWebCrawl();\n\n  const onWebCrawlUploadOk = useCallback(\n    async (name: string, url: string) => {\n      const ret = await webCrawl({ name, url });\n      if (ret === 0) {\n        hideWebCrawlUploadModal();\n        return 0;\n      }\n      return -1;\n    },\n    [webCrawl, hideWebCrawlUploadModal],\n  );\n\n  return {\n    webCrawlUploadLoading: loading,\n    onWebCrawlUploadOk,\n    webCrawlUploadVisible,\n    hideWebCrawlUploadModal,\n    showWebCrawlUploadModal,\n  };\n};\n\nexport const useHandleRunDocumentByIds = (id: string) => {\n  const { runDocumentByIds, loading } = useRunNextDocument();\n  const [currentId, setCurrentId] = useState<string>('');\n  const isLoading = loading && currentId !== '' && currentId === id;\n\n  const handleRunDocumentByIds = async (\n    documentId: string,\n    isRunning: boolean,\n    shouldDelete: boolean = false,\n  ) => {\n    if (isLoading) {\n      return;\n    }\n    setCurrentId(documentId);\n    try {\n      await runDocumentByIds({\n        documentIds: [documentId],\n        run: isRunning ? 2 : 1,\n        shouldDelete,\n      });\n      setCurrentId('');\n    } catch (error) {\n      setCurrentId('');\n    }\n  };\n\n  return {\n    handleRunDocumentByIds,\n    loading: isLoading,\n  };\n};\n\nexport const useShowMetaModal = (documentId: string) => {\n  const { setDocumentMeta, loading } = useSetDocumentMeta();\n\n  const {\n    visible: setMetaVisible,\n    hideModal: hideSetMetaModal,\n    showModal: showSetMetaModal,\n  } = useSetModalState();\n\n  const onSetMetaModalOk = useCallback(\n    async (meta: string) => {\n      const ret = await setDocumentMeta({\n        documentId,\n        meta,\n      });\n      if (ret === 0) {\n        hideSetMetaModal();\n      }\n    },\n    [setDocumentMeta, documentId, hideSetMetaModal],\n  );\n\n  return {\n    setMetaLoading: loading,\n    onSetMetaModalOk,\n    setMetaVisible,\n    hideSetMetaModal,\n    showSetMetaModal,\n  };\n};\n","import { IModalManagerChildrenProps } from '@/components/modal-manager';\nimport { useTranslate } from '@/hooks/common-hooks';\nimport { Form, Input, Modal } from 'antd';\nimport { useEffect } from 'react';\n\ninterface IProps extends Omit<IModalManagerChildrenProps, 'showModal'> {\n  loading: boolean;\n  initialName: string;\n  onOk: (name: string) => void;\n  showModal?(): void;\n}\n\nconst RenameModal = ({\n  visible,\n  onOk,\n  loading,\n  initialName,\n  hideModal,\n}: IProps) => {\n  const [form] = Form.useForm();\n  const { t } = useTranslate('common');\n  type FieldType = {\n    name?: string;\n  };\n\n  const handleOk = async () => {\n    const ret = await form.validateFields();\n    onOk(ret.name);\n  };\n\n  const onFinish = (values: any) => {\n    console.log('Success:', values);\n  };\n\n  const onFinishFailed = (errorInfo: any) => {\n    console.log('Failed:', errorInfo);\n  };\n\n  useEffect(() => {\n    if (visible) {\n      form.setFieldValue('name', initialName);\n    }\n  }, [initialName, form, visible]);\n\n  return (\n    <Modal\n      title={t('rename')}\n      open={visible}\n      onOk={handleOk}\n      onCancel={hideModal}\n      okButtonProps={{ loading }}\n    >\n      <Form\n        name=\"basic\"\n        labelCol={{ span: 4 }}\n        wrapperCol={{ span: 20 }}\n        style={{ maxWidth: 600 }}\n        onFinish={onFinish}\n        onFinishFailed={onFinishFailed}\n        autoComplete=\"off\"\n        form={form}\n      >\n        <Form.Item<FieldType>\n          label={t('name')}\n          name=\"name\"\n          rules={[{ required: true, message: t('namePlaceholder') }]}\n        >\n          <Input />\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n};\n\nexport default RenameModal;\n","import { IModalManagerChildrenProps } from '@/components/modal-manager';\nimport { useTranslate } from '@/hooks/common-hooks';\nimport { Form, Input, Modal } from 'antd';\nimport React from 'react';\n\ninterface IProps extends Omit<IModalManagerChildrenProps, 'showModal'> {\n  loading: boolean;\n  onOk: (name: string, url: string) => void;\n  showModal?(): void;\n}\n\nconst WebCrawlModal: React.FC<IProps> = ({ visible, hideModal, onOk }) => {\n  const [form] = Form.useForm();\n  const { t } = useTranslate('knowledgeDetails');\n  const handleOk = async () => {\n    const values = await form.validateFields();\n    onOk(values.name, values.url);\n  };\n\n  return (\n    <Modal\n      title={t('webCrawl')}\n      open={visible}\n      onOk={handleOk}\n      onCancel={hideModal}\n    >\n      <Form\n        form={form}\n        name=\"validateOnly\"\n        labelCol={{ span: 4 }}\n        wrapperCol={{ span: 20 }}\n        style={{ maxWidth: 600 }}\n        autoComplete=\"off\"\n      >\n        <Form.Item\n          label=\"Name\"\n          name=\"name\"\n          rules={[\n            { required: true, message: 'Please input name!' },\n            {\n              max: 10,\n              message: 'The maximum length of name is 128 characters',\n            },\n          ]}\n        >\n          <Input placeholder=\"Document name\" />\n        </Form.Item>\n        <Form.Item\n          label=\"URL\"\n          name=\"url\"\n          rules={[\n            { required: true, message: 'Please input url!' },\n            {\n              pattern: new RegExp(\n                '(https?|ftp|file)://[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]',\n              ),\n              message: 'Please enter a valid URL!',\n            },\n          ]}\n        >\n          <Input placeholder=\"https://www.baidu.com\" />\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n};\nexport default WebCrawlModal;\n","import { IModalProps } from '@/interfaces/common';\nimport { IDocumentInfo } from '@/interfaces/database/document';\nimport Editor, { loader } from '@monaco-editor/react';\n\nimport { Form, Modal } from 'antd';\nimport DOMPurify from 'dompurify';\nimport { useCallback, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nloader.config({ paths: { vs: '/vs' } });\n\ntype FieldType = {\n  meta?: string;\n};\n\nexport function SetMetaModal({\n  visible,\n  hideModal,\n  onOk,\n  initialMetaData,\n}: IModalProps<any> & { initialMetaData?: IDocumentInfo['meta_fields'] }) {\n  const { t } = useTranslation();\n  const [form] = Form.useForm();\n\n  const handleOk = useCallback(async () => {\n    const values = await form.validateFields();\n    onOk?.(values.meta);\n  }, [form, onOk]);\n\n  useEffect(() => {\n    form.setFieldValue('meta', JSON.stringify(initialMetaData, null, 4));\n  }, [form, initialMetaData]);\n\n  return (\n    <Modal\n      title={t('knowledgeDetails.setMetaData')}\n      open={visible}\n      onOk={handleOk}\n      onCancel={hideModal}\n    >\n      <Form\n        name=\"basic\"\n        initialValues={{ remember: true }}\n        autoComplete=\"off\"\n        layout={'vertical'}\n        form={form}\n      >\n        <Form.Item<FieldType>\n          label={t('knowledgeDetails.metaData')}\n          name=\"meta\"\n          rules={[\n            {\n              required: true,\n              validator(rule, value) {\n                try {\n                  JSON.parse(value);\n                  return Promise.resolve();\n                } catch (error) {\n                  return Promise.reject(\n                    new Error(t('knowledgeDetails.pleaseInputJson')),\n                  );\n                }\n              },\n            },\n          ]}\n          tooltip={\n            <div\n              dangerouslySetInnerHTML={{\n                __html: DOMPurify.sanitize(\n                  t('knowledgeDetails.documentMetaTips'),\n                ),\n              }}\n            ></div>\n          }\n        >\n          <Editor height={200} defaultLanguage=\"json\" theme=\"vs-dark\" />\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n}\n","import ChunkMethodModal from '@/components/chunk-method-modal';\nimport SvgIcon from '@/components/svg-icon';\nimport {\n  useFetchNextDocumentList,\n  useSetNextDocumentStatus,\n} from '@/hooks/document-hooks';\nimport { useSetSelectedRecord } from '@/hooks/logic-hooks';\nimport { useSelectParserList } from '@/hooks/user-setting-hooks';\nimport { getExtension } from '@/utils/document-util';\nimport { Divider, Flex, Switch, Table, Typography } from 'antd';\nimport type { ColumnsType } from 'antd/es/table';\nimport { useTranslation } from 'react-i18next';\nimport CreateFileModal from './create-file-modal';\nimport DocumentToolbar from './document-toolbar';\nimport {\n  useChangeDocumentParser,\n  useCreateEmptyDocument,\n  useGetRowSelection,\n  useHandleUploadDocument,\n  useHandleWebCrawl,\n  useNavigateToOtherPage,\n  useRenameDocument,\n  useShowMetaModal,\n} from './hooks';\nimport ParsingActionCell from './parsing-action-cell';\nimport ParsingStatusCell from './parsing-status-cell';\nimport RenameModal from './rename-modal';\nimport WebCrawlModal from './web-crawl-modal';\n\nimport FileUploadModal from '@/components/file-upload-modal';\nimport { IDocumentInfo } from '@/interfaces/database/document';\nimport { formatDate } from '@/utils/date';\nimport styles from './index.less';\nimport { SetMetaModal } from './set-meta-modal';\n\nconst { Text } = Typography;\n\nconst KnowledgeFile = () => {\n  const { searchString, documents, pagination, handleInputChange } =\n    useFetchNextDocumentList();\n  const parserList = useSelectParserList();\n  const { setDocumentStatus } = useSetNextDocumentStatus();\n  const { toChunk } = useNavigateToOtherPage();\n  const { currentRecord, setRecord } = useSetSelectedRecord<IDocumentInfo>();\n  const {\n    renameLoading,\n    onRenameOk,\n    renameVisible,\n    hideRenameModal,\n    showRenameModal,\n  } = useRenameDocument(currentRecord.id);\n  const {\n    createLoading,\n    onCreateOk,\n    createVisible,\n    hideCreateModal,\n    showCreateModal,\n  } = useCreateEmptyDocument();\n  const {\n    changeParserLoading,\n    onChangeParserOk,\n    changeParserVisible,\n    hideChangeParserModal,\n    showChangeParserModal,\n  } = useChangeDocumentParser(currentRecord.id);\n  const {\n    documentUploadVisible,\n    hideDocumentUploadModal,\n    showDocumentUploadModal,\n    onDocumentUploadOk,\n    documentUploadLoading,\n  } = useHandleUploadDocument();\n  const {\n    webCrawlUploadVisible,\n    hideWebCrawlUploadModal,\n    showWebCrawlUploadModal,\n    onWebCrawlUploadOk,\n    webCrawlUploadLoading,\n  } = useHandleWebCrawl();\n  const { t } = useTranslation('translation', {\n    keyPrefix: 'knowledgeDetails',\n  });\n\n  const {\n    showSetMetaModal,\n    hideSetMetaModal,\n    setMetaVisible,\n    setMetaLoading,\n    onSetMetaModalOk,\n  } = useShowMetaModal(currentRecord.id);\n\n  const rowSelection = useGetRowSelection();\n\n  const columns: ColumnsType<IDocumentInfo> = [\n    {\n      title: t('name'),\n      dataIndex: 'name',\n      key: 'name',\n      fixed: 'left',\n      render: (text: any, { id, thumbnail, name }) => (\n        <div className={styles.toChunks} onClick={() => toChunk(id)}>\n          <Flex gap={10} align=\"center\">\n            {thumbnail ? (\n              <img className={styles.img} src={thumbnail} alt=\"\" />\n            ) : (\n              <SvgIcon\n                name={`file-icon/${getExtension(name)}`}\n                width={24}\n              ></SvgIcon>\n            )}\n            <Text ellipsis={{ tooltip: text }} className={styles.nameText}>\n              {text}\n            </Text>\n          </Flex>\n        </div>\n      ),\n    },\n    {\n      title: t('chunkNumber'),\n      dataIndex: 'chunk_num',\n      key: 'chunk_num',\n    },\n    {\n      title: t('uploadDate'),\n      dataIndex: 'create_time',\n      key: 'create_time',\n      render(value) {\n        return formatDate(value);\n      },\n    },\n    {\n      title: t('chunkMethod'),\n      dataIndex: 'parser_id',\n      key: 'parser_id',\n      render: (text) => {\n        return parserList.find((x) => x.value === text)?.label;\n      },\n    },\n    {\n      title: t('enabled'),\n      key: 'status',\n      dataIndex: 'status',\n      render: (_, { status, id }) => (\n        <>\n          <Switch\n            checked={status === '1'}\n            onChange={(e) => {\n              setDocumentStatus({ status: e, documentId: id });\n            }}\n          />\n        </>\n      ),\n    },\n    {\n      title: t('parsingStatus'),\n      dataIndex: 'run',\n      key: 'run',\n      render: (text, record) => {\n        return <ParsingStatusCell record={record}></ParsingStatusCell>;\n      },\n    },\n    {\n      title: t('action'),\n      key: 'action',\n      render: (_, record) => (\n        <ParsingActionCell\n          setCurrentRecord={setRecord}\n          showRenameModal={showRenameModal}\n          showChangeParserModal={showChangeParserModal}\n          showSetMetaModal={showSetMetaModal}\n          record={record}\n        ></ParsingActionCell>\n      ),\n    },\n  ];\n\n  const finalColumns = columns.map((x) => ({\n    ...x,\n    className: `${styles.column}`,\n  }));\n\n  return (\n    <div className={styles.datasetWrapper}>\n     {/*<h3>{t('dataset')}</h3>\n      <p>{t('datasetDescription')}</p>\n      <Divider></Divider>*/} \n      <DocumentToolbar\n        selectedRowKeys={rowSelection.selectedRowKeys as string[]}\n        showCreateModal={showCreateModal}\n        showWebCrawlModal={showWebCrawlUploadModal}\n        showDocumentUploadModal={showDocumentUploadModal}\n        searchString={searchString}\n        handleInputChange={handleInputChange}\n      ></DocumentToolbar>\n      <Table\n        rowKey=\"id\"\n        columns={finalColumns}\n        dataSource={documents}\n        pagination={pagination}\n        rowSelection={rowSelection}\n        //className={styles.documentTable}\n        scroll={{ scrollToFirstRowOnChange: true, x: 1300 }}\n      />\n      <CreateFileModal\n        visible={createVisible}\n        hideModal={hideCreateModal}\n        loading={createLoading}\n        onOk={onCreateOk}\n      />\n      <ChunkMethodModal\n        documentId={currentRecord.id}\n        parserId={currentRecord.parser_id}\n        parserConfig={currentRecord.parser_config}\n        documentExtension={getExtension(currentRecord.name)}\n        onOk={onChangeParserOk}\n        visible={changeParserVisible}\n        hideModal={hideChangeParserModal}\n        loading={changeParserLoading}\n      />\n      <RenameModal\n        visible={renameVisible}\n        onOk={onRenameOk}\n        loading={renameLoading}\n        hideModal={hideRenameModal}\n        initialName={currentRecord.name}\n      ></RenameModal>\n      <FileUploadModal\n        visible={documentUploadVisible}\n        hideModal={hideDocumentUploadModal}\n        loading={documentUploadLoading}\n        onOk={onDocumentUploadOk}\n      ></FileUploadModal>\n      <WebCrawlModal\n        visible={webCrawlUploadVisible}\n        hideModal={hideWebCrawlUploadModal}\n        loading={webCrawlUploadLoading}\n        onOk={onWebCrawlUploadOk}\n      ></WebCrawlModal>\n      {setMetaVisible && (\n        <SetMetaModal\n          visible={setMetaVisible}\n          hideModal={hideSetMetaModal}\n          onOk={onSetMetaModalOk}\n          loading={setMetaLoading}\n          initialMetaData={currentRecord.meta_fields}\n        ></SetMetaModal>\n      )}\n    </div>\n  );\n};\n\nexport default KnowledgeFile;\n","import api from '@/utils/api';\nimport registerServer from '@/utils/register-server';\nimport request from '@/utils/request';\nimport pureRequest from 'axios';\n\nconst {\n  listFile,\n  removeFile,\n  uploadFile,\n  renameFile,\n  getAllParentFolder,\n  createFolder,\n  connectFileToKnowledge,\n  get_document_file,\n  getFile,\n  moveFile,\n} = api;\n\nconst methods = {\n  listFile: {\n    url: listFile,\n    method: 'get',\n  },\n  removeFile: {\n    url: removeFile,\n    method: 'post',\n  },\n  uploadFile: {\n    url: uploadFile,\n    method: 'post',\n  },\n  renameFile: {\n    url: renameFile,\n    method: 'post',\n  },\n  getAllParentFolder: {\n    url: getAllParentFolder,\n    method: 'get',\n  },\n  createFolder: {\n    url: createFolder,\n    method: 'post',\n  },\n  connectFileToKnowledge: {\n    url: connectFileToKnowledge,\n    method: 'post',\n  },\n  getFile: {\n    url: getFile,\n    method: 'get',\n    responseType: 'blob',\n  },\n  getDocumentFile: {\n    url: get_document_file,\n    method: 'get',\n    responseType: 'blob',\n  },\n  moveFile: {\n    url: moveFile,\n    method: 'post',\n  },\n} as const;\n\nconst fileManagerService = registerServer<keyof typeof methods>(\n  methods,\n  request,\n);\n\nexport default fileManagerService;\n\nexport const getDocumentFile = (documentId: string) => {\n  return pureRequest(getFile + '/' + documentId, {\n    responseType: 'blob',\n    method: 'get',\n    // headers: {\n    //   'content-type':\n    //     'text/plain;charset=UTF-8, application/vnd.openxmlformats-officeddocument.spreadsheetml.sheet;charset=UTF-8',\n    // },\n\n    // parseResponse: false,\n    // getResponse: true,\n  })\n    .then((res) => {\n      const x = res?.headers?.get('content-disposition');\n      const y = res?.headers?.get('Content-Type');\n      console.info(res);\n      console.info(x);\n      console.info('Content-Type', y);\n      return res;\n    })\n    .then((res) => {\n      // const objectURL = URL.createObjectURL(res);\n\n      // let btn = document.createElement('a');\n\n      // btn.download = '.pdf';\n\n      // btn.href = objectURL;\n\n      // btn.click();\n\n      // URL.revokeObjectURL(objectURL);\n\n      // btn = null;\n\n      return res;\n    })\n    .catch((err) => {\n      console.info(err);\n    });\n};\n","import { IRenameTag } from '@/interfaces/database/knowledge';\nimport api from '@/utils/api';\nimport registerServer from '@/utils/register-server';\nimport request, { post } from '@/utils/request';\n\nconst {\n  create_kb,\n  update_kb,\n  rm_kb,\n  get_kb_detail,\n  kb_list,\n  get_document_list,\n  document_change_status,\n  document_rm,\n  document_delete,\n  document_create,\n  document_change_parser,\n  document_thumbnails,\n  chunk_list,\n  create_chunk,\n  set_chunk,\n  get_chunk,\n  switch_chunk,\n  rm_chunk,\n  retrieval_test,\n  document_rename,\n  document_run,\n  document_upload,\n  web_crawl,\n  knowledge_graph,\n  document_infos,\n  upload_and_parse,\n  listTagByKnowledgeIds,\n  setMeta,\n} = api;\n\nconst methods = {\n  // \n  createKb: {\n    url: create_kb,\n    method: 'post',\n  },\n  updateKb: {\n    url: update_kb,\n    method: 'post',\n  },\n  rmKb: {\n    url: rm_kb,\n    method: 'post',\n  },\n  get_kb_detail: {\n    url: get_kb_detail,\n    method: 'get',\n  },\n  getList: {\n    url: kb_list,\n    method: 'get',\n  },\n  // document manager\n  get_document_list: {\n    url: get_document_list,\n    method: 'get',\n  },\n  document_change_status: {\n    url: document_change_status,\n    method: 'post',\n  },\n  document_rm: {\n    url: document_rm,\n    method: 'post',\n  },\n  document_rename: {\n    url: document_rename,\n    method: 'post',\n  },\n  document_create: {\n    url: document_create,\n    method: 'post',\n  },\n  document_run: {\n    url: document_run,\n    method: 'post',\n  },\n  document_change_parser: {\n    url: document_change_parser,\n    method: 'post',\n  },\n  document_thumbnails: {\n    url: document_thumbnails,\n    method: 'get',\n  },\n  document_upload: {\n    url: document_upload,\n    method: 'post',\n  },\n  web_crawl: {\n    url: web_crawl,\n    method: 'post',\n  },\n  document_infos: {\n    url: document_infos,\n    method: 'post',\n  },\n  setMeta: {\n    url: setMeta,\n    method: 'post',\n  },\n  // chunk\n  chunk_list: {\n    url: chunk_list,\n    method: 'post',\n  },\n  create_chunk: {\n    url: create_chunk,\n    method: 'post',\n  },\n  set_chunk: {\n    url: set_chunk,\n    method: 'post',\n  },\n  get_chunk: {\n    url: get_chunk,\n    method: 'get',\n  },\n  switch_chunk: {\n    url: switch_chunk,\n    method: 'post',\n  },\n  rm_chunk: {\n    url: rm_chunk,\n    method: 'post',\n  },\n  retrieval_test: {\n    url: retrieval_test,\n    method: 'post',\n  },\n  knowledge_graph: {\n    url: knowledge_graph,\n    method: 'get',\n  },\n  document_delete: {\n    url: document_delete,\n    method: 'delete',\n  },\n  upload_and_parse: {\n    url: upload_and_parse,\n    method: 'post',\n  },\n  listTagByKnowledgeIds: {\n    url: listTagByKnowledgeIds,\n    method: 'get',\n  },\n};\n\nconst kbService = registerServer<keyof typeof methods>(methods, request);\n\nexport const listTag = (knowledgeId: string) =>\n  request.get(api.listTag(knowledgeId));\n\nexport const removeTag = (knowledgeId: string, tags: string[]) =>\n  post(api.removeTag(knowledgeId), { tags });\n\nexport const renameTag = (\n  knowledgeId: string,\n  { fromTag, toTag }: IRenameTag,\n) => post(api.renameTag(knowledgeId), { fromTag, toTag });\n\nexport function getKnowledgeGraph(knowledgeId: string) {\n  return request.get(api.getKnowledgeGraph(knowledgeId));\n}\n\nexport default kbService;\n","import api from '@/utils/api';\nimport registerServer from '@/utils/register-server';\nimport request, { post } from '@/utils/request';\n\nconst {\n  login,\n  logout,\n  register,\n  setting,\n  user_info,\n  tenant_info,\n  factories_list,\n  llm_list,\n  my_llm,\n  set_api_key,\n  set_tenant_info,\n  add_llm,\n  delete_llm,\n  deleteFactory,\n  getSystemStatus,\n  getSystemVersion,\n  getSystemTokenList,\n  removeSystemToken,\n  createSystemToken,\n} = api;\n\nconst methods = {\n  login: {\n    url: login,\n    method: 'post',\n  },\n  logout: {\n    url: logout,\n    method: 'get',\n  },\n  register: {\n    url: register,\n    method: 'post',\n  },\n  setting: {\n    url: setting,\n    method: 'post',\n  },\n  user_info: {\n    url: user_info,\n    method: 'get',\n  },\n  get_tenant_info: {\n    url: tenant_info,\n    method: 'get',\n  },\n  set_tenant_info: {\n    url: set_tenant_info,\n    method: 'post',\n  },\n  factories_list: {\n    url: factories_list,\n    method: 'get',\n  },\n  llm_list: {\n    url: llm_list,\n    method: 'get',\n  },\n  my_llm: {\n    url: my_llm,\n    method: 'get',\n  },\n  set_api_key: {\n    url: set_api_key,\n    method: 'post',\n  },\n  add_llm: {\n    url: add_llm,\n    method: 'post',\n  },\n  delete_llm: {\n    url: delete_llm,\n    method: 'post',\n  },\n  getSystemStatus: {\n    url: getSystemStatus,\n    method: 'get',\n  },\n  getSystemVersion: {\n    url: getSystemVersion,\n    method: 'get',\n  },\n  deleteFactory: {\n    url: deleteFactory,\n    method: 'post',\n  },\n  listToken: {\n    url: getSystemTokenList,\n    method: 'get',\n  },\n  createToken: {\n    url: createSystemToken,\n    method: 'post',\n  },\n  removeToken: {\n    url: removeSystemToken,\n    method: 'delete',\n  },\n} as const;\n\nconst userService = registerServer<keyof typeof methods>(methods, request);\n\nexport const listTenantUser = (tenantId: string) =>\n  request.get(api.listTenantUser(tenantId));\n\nexport const addTenantUser = (tenantId: string, email: string) =>\n  post(api.addTenantUser(tenantId), { email });\n\nexport const deleteTenantUser = ({\n  tenantId,\n  userId,\n}: {\n  tenantId: string;\n  userId: string;\n}) => request.delete(api.deleteTenantUser(tenantId, userId));\n\nexport const listTenant = () => request.get(api.listTenant);\n\nexport const agreeTenant = (tenantId: string) =>\n  request.put(api.agreeTenant(tenantId));\n\nexport default userService;\n","let api_host = \"http://localhost:9380/v1\"; //`http://ec2-54-174-67-117.compute-1.amazonaws.com/v1`;\n\nexport { api_host }; \n\nexport default {\n  // user\n  login: `${api_host}/user/login`,\n  logout: `${api_host}/user/logout`,\n  register: `${api_host}/user/register`,\n  setting: `${api_host}/user/setting`,\n  user_info: `${api_host}/user/info`,\n  tenant_info: `${api_host}/user/tenant_info`,\n  set_tenant_info: `${api_host}/user/set_tenant_info`,\n\n  // team\n  addTenantUser: (tenantId: string) => `${api_host}/tenant/${tenantId}/user`,\n  listTenantUser: (tenantId: string) =>\n    `${api_host}/tenant/${tenantId}/user/list`,\n  deleteTenantUser: (tenantId: string, userId: string) =>\n    `${api_host}/tenant/${tenantId}/user/${userId}`,\n  listTenant: `${api_host}/tenant/list`,\n  agreeTenant: (tenantId: string) => `${api_host}/tenant/agree/${tenantId}`,\n\n  // llm model\n  factories_list: `${api_host}/llm/factories`,\n  llm_list: `${api_host}/llm/list`,\n  my_llm: `${api_host}/llm/my_llms`,\n  set_api_key: `${api_host}/llm/set_api_key`,\n  add_llm: `${api_host}/llm/add_llm`,\n  delete_llm: `${api_host}/llm/delete_llm`,\n  deleteFactory: `${api_host}/llm/delete_factory`,\n\n  // knowledge base\n  kb_list: `${api_host}/kb/list`,\n  create_kb: `${api_host}/kb/create`,\n  update_kb: `${api_host}/kb/update`,\n  rm_kb: `${api_host}/kb/rm`,\n  get_kb_detail: `${api_host}/kb/detail`,\n  getKnowledgeGraph: (knowledgeId: string) =>\n    `${api_host}/kb/${knowledgeId}/knowledge_graph`,\n\n  // tags\n  listTag: (knowledgeId: string) => `${api_host}/kb/${knowledgeId}/tags`,\n  listTagByKnowledgeIds: `${api_host}/kb/tags`,\n  removeTag: (knowledgeId: string) => `${api_host}/kb/${knowledgeId}/rm_tags`,\n  renameTag: (knowledgeId: string) =>\n    `${api_host}/kb/${knowledgeId}/rename_tag`,\n\n  // chunk\n  chunk_list: `${api_host}/chunk/list`,\n  create_chunk: `${api_host}/chunk/create`,\n  set_chunk: `${api_host}/chunk/set`,\n  get_chunk: `${api_host}/chunk/get`,\n  switch_chunk: `${api_host}/chunk/switch`,\n  rm_chunk: `${api_host}/chunk/rm`,\n  retrieval_test: `${api_host}/chunk/retrieval_test`,\n  knowledge_graph: `${api_host}/chunk/knowledge_graph`,\n\n  // document\n  get_document_list: `${api_host}/document/list`,\n  document_change_status: `${api_host}/document/change_status`,\n  document_rm: `${api_host}/document/rm`,\n  document_delete: `${api_host}/api/document`,\n  document_rename: `${api_host}/document/rename`,\n  document_create: `${api_host}/document/create`,\n  document_run: `${api_host}/document/run`,\n  document_change_parser: `${api_host}/document/change_parser`,\n  document_thumbnails: `${api_host}/document/thumbnails`,\n  get_document_file: `${api_host}/document/get`,\n  document_upload: `${api_host}/document/upload`,\n  web_crawl: `${api_host}/document/web_crawl`,\n  document_infos: `${api_host}/document/infos`,\n  upload_and_parse: `${api_host}/document/upload_and_parse`,\n  parse: `${api_host}/document/parse`,\n  setMeta: `${api_host}/document/set_meta`,\n\n  // chat\n  setDialog: `${api_host}/dialog/set`,\n  getDialog: `${api_host}/dialog/get`,\n  removeDialog: `${api_host}/dialog/rm`,\n  listDialog: `${api_host}/dialog/list`,\n  setConversation: `${api_host}/conversation/set`,\n  getConversation: `${api_host}/conversation/get`,\n  getConversationSSE: `${api_host}/conversation/getsse`,\n  listConversation: `${api_host}/conversation/list`,\n  removeConversation: `${api_host}/conversation/rm`,\n  completeConversation: `${api_host}/conversation/completion`,\n  deleteMessage: `${api_host}/conversation/delete_msg`,\n  thumbup: `${api_host}/conversation/thumbup`,\n  tts: `${api_host}/conversation/tts`,\n  ask: `${api_host}/conversation/ask`,\n  mindmap: `${api_host}/conversation/mindmap`,\n  getRelatedQuestions: `${api_host}/conversation/related_questions`,\n  // chat for external\n  createToken: `${api_host}/api/new_token`,\n  listToken: `${api_host}/api/token_list`,\n  removeToken: `${api_host}/api/rm`,\n  getStats: `${api_host}/api/stats`,\n  createExternalConversation: `${api_host}/api/new_conversation`,\n  getExternalConversation: `${api_host}/api/conversation`,\n  completeExternalConversation: `${api_host}/api/completion`,\n  uploadAndParseExternal: `${api_host}/api/document/upload_and_parse`,\n\n  // file manager\n  //listFile: `${api_host}/file/list`,\n  listFile: `${api_host}/file/listall`,\n  uploadFile: `${api_host}/file/upload`,\n  removeFile: `${api_host}/file/rm`,\n  renameFile: `${api_host}/file/rename`,\n  getAllParentFolder: `${api_host}/file/all_parent_folder`,\n  createFolder: `${api_host}/file/create`,\n  connectFileToKnowledge: `${api_host}/file2document/convert`,\n  getFile: `${api_host}/file/get`,\n  moveFile: `${api_host}/file/mv`,\n\n  // system\n  getSystemVersion: `${api_host}/system/version`,\n  getSystemStatus: `${api_host}/system/status`,\n  getSystemTokenList: `${api_host}/system/token_list`,\n  createSystemToken: `${api_host}/system/new_token`,\n  listSystemToken: `${api_host}/system/token_list`,\n  removeSystemToken: `${api_host}/system/token`,\n\n  // flow\n  listTemplates: `${api_host}/canvas/templates`,\n  listCanvas: `${api_host}/canvas/list`,\n  getCanvas: `${api_host}/canvas/get`,\n  getCanvasSSE: `${api_host}/canvas/getsse`,\n  removeCanvas: `${api_host}/canvas/rm`,\n  setCanvas: `${api_host}/canvas/set`,\n  resetCanvas: `${api_host}/canvas/reset`,\n  runCanvas: `${api_host}/canvas/completion`,\n  testDbConnect: `${api_host}/canvas/test_db_connect`,\n  getInputElements: `${api_host}/canvas/input_elements`,\n  debug: `${api_host}/canvas/debug`,\n};\n","import { EmptyConversationId } from '@/constants/chat';\nimport { Message } from '@/interfaces/database/chat';\nimport { IMessage } from '@/pages/chat/interface';\nimport { omit } from 'lodash';\nimport { v4 as uuid } from 'uuid';\n\nexport const isConversationIdExist = (conversationId: string) => {\n  return conversationId !== EmptyConversationId && conversationId !== '';\n};\n\nexport const buildMessageUuid = (message: Partial<Message | IMessage>) => {\n  if ('id' in message && message.id) {\n    return message.id;\n  }\n  return uuid();\n};\n\nexport const buildMessageListWithUuid = (messages?: Message[]) => {\n  return (\n    messages?.map((x: Message | IMessage) => ({\n      ...omit(x, 'reference'),\n      id: buildMessageUuid(x),\n    })) ?? []\n  );\n};\n\nexport const getConversationId = () => {\n  return uuid().replace(/-/g, '');\n};\n\n// When rendering each message, add a prefix to the id to ensure uniqueness.\nexport const buildMessageUuidWithRole = (\n  message: Partial<Message | IMessage>,\n) => {\n  return `${message.role}_${message.id}`;\n};\n\n// Preprocess LaTeX equations to be rendered by KaTeX\n// ref: https://github.com/remarkjs/react-markdown/issues/785\n\nexport const preprocessLaTeX = (content: string) => {\n  const blockProcessedContent = content.replace(\n    /\\\\\\[([\\s\\S]*?)\\\\\\]/g,\n    (_, equation) => `$$${equation}$$`,\n  );\n  const inlineProcessedContent = blockProcessedContent.replace(\n    /\\\\\\(([\\s\\S]*?)\\\\\\)/g,\n    (_, equation) => `$${equation}$`,\n  );\n  return inlineProcessedContent;\n};\n","import dayjs from 'dayjs';\n\nexport function formatDate(date: any) {\n  if (!date) {\n    return '';\n  }\n  return dayjs(date).format('DD/MM/YYYY HH:mm:ss');\n}\n\nexport function formatTime(date: any) {\n  if (!date) {\n    return '';\n  }\n  return dayjs(date).format('HH:mm:ss');\n}\n\nexport function today() {\n  return formatDate(dayjs());\n}\n\nexport function lastDay() {\n  return formatDate(dayjs().subtract(1, 'days'));\n}\n\nexport function lastWeek() {\n  return formatDate(dayjs().subtract(1, 'weeks'));\n}\n","import { FileMimeType } from '@/constants/common';\nimport fileManagerService from '@/services/file-manager-service';\nimport { UploadFile } from 'antd';\n\nexport const transformFile2Base64 = (val: any): Promise<any> => {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(val);\n    reader.onload = (): void => {\n      // Create image object\n      const img = new Image();\n      img.src = reader.result as string;\n\n      img.onload = () => {\n        // Create canvas\n        const canvas = document.createElement('canvas');\n        const ctx = canvas.getContext('2d');\n\n        // Calculate compressed dimensions, set max width/height to 800px\n        let width = img.width;\n        let height = img.height;\n        const maxSize = 100;\n\n        if (width > height && width > maxSize) {\n          height = (height * maxSize) / width;\n          width = maxSize;\n        } else if (height > maxSize) {\n          width = (width * maxSize) / height;\n          height = maxSize;\n        }\n\n        // Set canvas dimensions\n        canvas.width = width;\n        canvas.height = height;\n\n        // Draw image\n        ctx?.drawImage(img, 0, 0, width, height);\n\n        // Convert to base64, maintain original format and transparency\n        const compressedBase64 = canvas.toDataURL('image/png');\n        resolve(compressedBase64);\n      };\n\n      img.onerror = reject;\n    };\n    reader.onerror = reject;\n  });\n};\n\nexport const transformBase64ToFile = (\n  dataUrl: string,\n  filename: string = 'file',\n) => {\n  let arr = dataUrl.split(','),\n    bstr = atob(arr[1]),\n    n = bstr.length,\n    u8arr = new Uint8Array(n);\n\n  const mime = arr[0].match(/:(.*?);/);\n  const mimeType = mime ? mime[1] : 'image/png';\n\n  while (n--) {\n    u8arr[n] = bstr.charCodeAt(n);\n  }\n  return new File([u8arr], filename, { type: mimeType });\n};\n\nexport const normFile = (e: any) => {\n  if (Array.isArray(e)) {\n    return e;\n  }\n  return e?.fileList;\n};\n\nexport const getUploadFileListFromBase64 = (avatar: string) => {\n  let fileList: UploadFile[] = [];\n\n  if (avatar) {\n    fileList = [{ uid: '1', name: 'file', thumbUrl: avatar, status: 'done' }];\n  }\n\n  return fileList;\n};\n\nexport const getBase64FromUploadFileList = async (fileList?: UploadFile[]) => {\n  if (Array.isArray(fileList) && fileList.length > 0) {\n    const file = fileList[0];\n    const originFileObj = file.originFileObj;\n    if (originFileObj) {\n      const base64 = await transformFile2Base64(originFileObj);\n      return base64;\n    } else {\n      return file.thumbUrl;\n    }\n    // return fileList[0].thumbUrl; TODO: Even JPG files will be converted to base64 parameters in png format\n  }\n\n  return '';\n};\n\nexport const downloadFileFromBlob = (blob: Blob, name?: string) => {\n  const url = window.URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.href = url;\n  if (name) {\n    a.download = name;\n  }\n  a.click();\n  window.URL.revokeObjectURL(url);\n};\n\nexport const downloadDocument = async ({\n  id,\n  filename,\n}: {\n  id: string;\n  filename?: string;\n}) => {\n  const response = await fileManagerService.getDocumentFile({}, id);\n  const blob = new Blob([response.data], { type: response.data.type });\n  downloadFileFromBlob(blob, filename);\n};\n\nconst Units = ['bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\nexport const formatBytes = (x: string | number) => {\n  let l = 0,\n    n = (typeof x === 'string' ? parseInt(x, 10) : x) || 0;\n\n  while (n >= 1024 && ++l) {\n    n = n / 1024;\n  }\n\n  return n.toFixed(n < 10 && l > 0 ? 1 : 0) + ' ' + Units[l];\n};\n\nexport const downloadJsonFile = async (\n  data: Record<string, any>,\n  fileName: string,\n) => {\n  const blob = new Blob([JSON.stringify(data)], { type: FileMimeType.Json });\n  downloadFileFromBlob(blob, fileName);\n};\n","import omit from 'lodash/omit';\nimport { RequestMethod } from 'umi-request';\n\ntype Service<T extends string> = Record<\n  T,\n  (params?: any, urlAppendix?: string) => any\n>;\n\nconst Methods = ['post', 'delete', 'put'];\n\nconst registerServer = <T extends string>(\n  opt: Record<T, { url: string; method: string }>,\n  request: RequestMethod,\n) => {\n  const server: Service<T> = {} as Service<T>;\n  for (let key in opt) {\n    server[key] = (params?: any, urlAppendix?: string) => {\n      let url = opt[key].url;\n      const requestOptions = opt[key];\n      if (urlAppendix) {\n        url = url + '/' + urlAppendix;\n      }\n      if (Methods.some((x) => x === opt[key].method.toLowerCase())) {\n        return request(url, {\n          method: opt[key].method,\n          data: params,\n        });\n      }\n\n      if (opt[key].method === 'get' || opt[key].method === 'GET') {\n        return request.get(url, {\n          ...omit(requestOptions, ['method', 'url']),\n          params,\n        });\n      }\n    };\n  }\n  return server;\n};\n\nexport default registerServer;\n","import { Authorization } from '@/constants/authorization';\nimport { ResponseType } from '@/interfaces/database/base';\nimport i18n from '@/locales/config';\nimport authorizationUtil, {\n  getAuthorization,\n} from '@/utils/authorization-util';\nimport { message, notification } from 'antd';\nimport { history } from 'umi';\nimport { RequestMethod, extend } from 'umi-request';\nimport { convertTheKeysOfTheObjectToSnake } from './common-util';\n\nconst FAILED_TO_FETCH = 'Failed to fetch';\n\nconst RetcodeMessage = {\n  200: i18n.t('message.200'),\n  201: i18n.t('message.201'),\n  202: i18n.t('message.202'),\n  204: i18n.t('message.204'),\n  400: i18n.t('message.400'),\n  401: i18n.t('message.401'),\n  403: i18n.t('message.403'),\n  404: i18n.t('message.404'),\n  406: i18n.t('message.406'),\n  410: i18n.t('message.410'),\n  413: i18n.t('message.413'),\n  422: i18n.t('message.422'),\n  500: i18n.t('message.500'),\n  502: i18n.t('message.502'),\n  503: i18n.t('message.503'),\n  504: i18n.t('message.504'),\n};\ntype ResultCode =\n  | 200\n  | 201\n  | 202\n  | 204\n  | 400\n  | 401\n  | 403\n  | 404\n  | 406\n  | 410\n  | 413\n  | 422\n  | 500\n  | 502\n  | 503\n  | 504;\n\nconst errorHandler = (error: {\n  response: Response;\n  message: string;\n}): Response => {\n  const { response } = error;\n  if (error.message === FAILED_TO_FETCH) {\n    notification.error({\n      description: i18n.t('message.networkAnomalyDescription'),\n      message: i18n.t('message.networkAnomaly'),\n    });\n  } else {\n    if (response && response.status) {\n      const errorText =\n        RetcodeMessage[response.status as ResultCode] || response.statusText;\n      const { status, url } = response;\n      notification.error({\n        message: `${i18n.t('message.requestError')} ${status}: ${url}`,\n        description: errorText,\n      });\n    }\n  }\n  return response;\n};\n\nconst request: RequestMethod = extend({\n  errorHandler,\n  timeout: 300000,\n  getResponse: true,\n});\n\nrequest.interceptors.request.use((url: string, options: any) => {\n  const data = convertTheKeysOfTheObjectToSnake(options.data);\n  const params = convertTheKeysOfTheObjectToSnake(options.params);\n\n  return {\n    url,\n    options: {\n      ...options,\n      data,\n      params,\n      headers: {\n        ...(options.skipToken\n          ? undefined\n          : { [Authorization]: getAuthorization() }),\n        ...options.headers,\n      },\n      interceptors: true,\n    },\n  };\n});\n\nrequest.interceptors.response.use(async (response: any, options) => {\n  if (response?.status === 413 || response?.status === 504) {\n    message.error(RetcodeMessage[response?.status as ResultCode]);\n  }\n\n  if (options.responseType === 'blob') {\n    return response;\n  }\n\n  const data: ResponseType = await response?.clone()?.json();\n  if (data?.code === 100) {\n    message.error(data?.message);\n  } else if (data?.code === 401) {\n    notification.error({\n      message: data?.message,\n      description: data?.message,\n      duration: 3,\n    });\n    authorizationUtil.removeAll();\n    history.push('/login'); // Will not jump to the login page\n  } else if (data?.code !== 0) {\n    notification.error({\n      message: `${i18n.t('message.hint')} : ${data?.code}`,\n      description: data?.message,\n      duration: 3,\n    });\n  }\n  return response;\n});\n\nexport default request;\n\nexport const get = (url: string) => {\n  return request.get(url);\n};\n\nexport const post = (url: string, body: any) => {\n  return request.post(url, { data: body });\n};\n\nexport const drop = () => {};\n\nexport const put = () => {};\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 86635;\nmodule.exports = webpackEmptyAsyncContext;"],"names":["ParserListMap","Map","getParserList","values","parserList","filter","x","some","y","value","useFetchParserListOnMount","documentId","parserId","documentExtension","form","_useState","useState","_useState2","_slicedToArray","selectedTag","setSelectedTag","useSelectParserList","handleChunkMethodSelectChange","useHandleChunkMethodSelectChange","nextParserList","useMemo","key","_toConsumableArray","keys","find","get","useEffect","handleChange","tag","hideAutoKeywords","useShowAutoKeywords","useCallback","every","_ref","_ref$value","onChange","token","theme","useToken","inputVisible","setInputVisible","_useState3","_useState4","inputValue","setInputValue","inputRef","useRef","_inputRef$current","current","focus","handleInputConfirm","newTags","split","map","trim","includes","concat","tagChild","_jsx","Tag","className","styles","closable","onClose","e","removedTag","preventDefault","children","tagPlusStyle","background","colorBgContainer","borderStyle","_jsxs","Array","isArray","length","TweenOneGroup","enter","scale","opacity","type","duration","onEnd","target","style","leave","width","appear","Input","ref","size","onBlur","onPressEnter","onClick","PlusOutlined","Dragger","Upload","FileUpload","directory","fileList","setFileList","t","useTranslate","props","multiple","onRemove","file","index","indexOf","newFileList","slice","splice","beforeUpload","pre","_objectSpread","InboxOutlined","_ref2","visible","hideModal","loading","onFileUploadOk","onOk","_useState5","_useState6","directoryFileList","setDirectoryFileList","_ref3","_asyncToGenerator","_regeneratorRuntime","mark","_callee","ret","wrap","_context","prev","next","sent","abrupt","stop","apply","arguments","items","label","_Fragment","Modal","title","open","onCancel","confirmLoading","afterClose","Flex","gap","vertical","Tabs","defaultActiveKey","keyPrefix","MessageType","variableEnabledFieldMap","temperatureEnabled","topPEnabled","presencePenaltyEnabled","frequencyPenaltyEnabled","maxTokensEnabled","SharedFrom","ChatSearchParams","EmptyConversationId","fileIconMap","aep","ai","avi","css","csv","dmg","doc","docx","eps","exe","fig","gif","html","indd","java","jpeg","jpg","js","json","mkv","mp3","mp4","mpeg","pdf","png","ppt","pptx","psd","rss","sql","svg","tiff","txt","wav","webp","xls","xlsx","xml","LanguageList","LanguageMap","English","Other_language","LanguageTranslationMap","Chinese","Indonesia","Spanish","Vietnamese","Japanese","FileMimeType","Domain","Images","ExceptiveType","SupportedPreviewDocumentTypes","KnowledgeRouteKey","RunningStatus","ModelVariableType","settledModelVariableMap","_defineProperty","Improvise","temperature","top_p","frequency_penalty","presence_penalty","max_tokens","Precise","Balance","LlmModelType","KnowledgeSearchParams","DocumentType","useSetModalState","setVisible","showModal","switchVisible","useShowDeleteConfirm","modal","App","useApp","useTranslation","content","Promise","resolve","reject","confirm","icon","ExclamationCircleFilled","okText","okType","cancelText","_callee2","_context2","console","info","t0","useFetchLlmList","modelType","_queryFn","_useQuery","useQuery","queryKey","initialData","queryFn","_data$data","_yield$userService$ll","data","userService","llm_list","model_type","useSelectLlmOptionsByModelType","llmInfo","groupOptionsByModelType","Object","entries","_ref5","_ref6","options","available","align","LlmIcon","name","fid","llm_name","_llm_name$split$at","at","height","disabled","Chat","Embedding","Image2text","Speech2text","Rerank","TTS","useComposeLlmOptionsByModelTypes","modelTypes","allOptions","reduce","cur","forEach","_item$options","item","push","useSelectLlmList","_queryFn3","_useQuery3","_queryFn2","_useQuery2","_useFetchMyLlmList","gcTime","_callee3","_data$data3","_yield$userService$my","_context3","my_llm","isFetching","myLlmList","myLlmListLoading","_useFetchLlmFactoryLi","_data$data2","_yield$userService$fa","factories_list","factoryList","factoryListLoading","_ref8","_factoryList$find$log","_factoryList$find","_ref9","logo","currentList","sortLLmFactoryListBySpecifiedOrder","useSaveApiKey","_mutationFn","queryClient","useQueryClient","_useMutation","useMutation","mutationKey","mutationFn","_callee4","params","_yield$userService$se","_context4","set_api_key","code","message","success","invalidateQueries","_x","isPending","saveApiKey","mutateAsync","useSaveTenantInfo","_mutationFn2","_useMutation2","_callee5","_yield$userService$se2","_context5","set_tenant_info","_x2","saveTenantInfo","useAddLlm","_mutationFn3","_useMutation3","_callee6","_yield$userService$ad","_context6","add_llm","_x3","addLlm","useDeleteLlm","_mutationFn4","_useMutation4","_callee7","_yield$userService$de","_context7","delete_llm","_x4","deleteLlm","useDeleteFactory","_mutationFn5","_useMutation5","_callee8","_yield$userService$de2","_context8","deleteFactory","_x5","useSetSelectedRecord","currentRecord","setCurrentRecord","setRecord","record","useHandleSearchChange","searchString","setSearchString","handleInputChange","useChangeLanguage","i18n","saveSetting","useSaveSetting","lng","changeLanguage","language","useGetPaginationWithRouter","_useSetPaginationPara","useSetPaginationParams","setPaginationParams","page","pageSize","onPageChange","pageNumber","setCurrentPagination","pagination","showQuickJumper","total","showSizeChanger","pageSizeOptions","showTotal","setPagination","useFetchAppConf","_useState7","_useState8","appConf","setAppConf","fetchAppConf","axios","useSendMessageWithSse","url","undefined","api","completeConversation","_useState9","_useState10","answer","setAnswer","_useState11","_useState12","done","setDone","timer","resetAnswer","clearTimeout","setTimeout","send","body","controller","_response$body","response","res","reader","_done","val","d","fetch","method","headers","Authorization","getAuthorization","JSON","stringify","signal","clone","pipeThrough","TextDecoderStream","EventSourceParserStream","getReader","read","parse","conversationId","conversation_id","warn","t1","t2","useSpeechWithSse","tts","error","useHandleMessageInputChange","_useState13","_useState14","setValue","nextValue","replaceAll","useSelectDerivedMessages","_useState15","_useState16","derivedMessages","setDerivedMessages","messages","scrollToBottom","_ref$current","scrollIntoView","behavior","useScrollToBottom","addNewestQuestion","id","buildMessageUuid","role","Assistant","addNewestAnswer","_pre$slice","reference","prompt","audio_binary","omit","removeLatestMessage","_pre$slice2","removeMessageById","messageId","_pre$filter","removeMessagesAfterCurrentMessage","findIndex","_pre$slice3","nextMessages","latestMessage","useRegenerateMessage","_ref4","sendMessage","regenerateMessage","uuid","useSelectItem","defaultId","_useState17","_useState18","selectedId","setSelectedId","handleItemClick","useFetchModelId","_tenantInfo$llm_id","tenantInfo","useFetchTenantInfo","llm_id","ChunkTokenNumMap","naive","knowledge_graph","setFieldValue","useResetFormOnCloseModal","prevOpenRef","prevOpen","resetFields","SegmentIndex","useSegmentedPathName","useLocation","pathname","useSecondPathName","Second","useThirdPathName","Third","useGetKnowledgeSearchParams","_useSearchParams","useSearchParams","currentQueryParameters","DocumentId","knowledgeId","KnowledgeId","useNavigateWithFromState","navigate","useNavigate","path","state","from","useNavigateToDataset","Dataset","_useSearchParams5","_useSearchParams6","queryParameters","setSearchParams","set","toString","Number","useFetchUserInfo","_yield$userService$us","user_info","showEmptyModelWarn","_useTranslation2","_yield$userService$ge","_data","get_tenant_info","isEmpty","embd_id","chat_id","speech2text_id","asr_id","_tenantInfo$parser_id","_tenantInfo$parser_id2","parser_ids","arr","userInfo","setting","useFetchSystemVersion","version","setVersion","setLoading","fetchSystemVersion","_yield$userService$ge2","getSystemVersion","useFetchSystemStatus","systemStatus","setSystemStatus","fetchSystemStatus","_yield$userService$ge3","getSystemStatus","useFetchManualSystemTokenList","_yield$userService$li","listToken","fetchSystemTokenList","useFetchSystemTokenList","_yield$userService$li2","refetch","useRemoveSystemToken","_data$data4","_yield$userService$re","removeToken","useCreateSystemToken","_callee9","_data$data5","_yield$userService$cr","_context9","createToken","useListTenantUser","_queryFn4","tenantId","tenant_id","_useQuery4","enabled","_callee10","_data$data6","_yield$listTenantUser","_context10","listTenantUser","useAddTenantUser","_callee11","email","_yield$addTenantUser","_context11","addTenantUser","useDeleteTenantUser","_mutationFn6","_useMutation6","_callee12","_data$data7","userId","_yield$deleteTenantUs","_context12","deleteTenantUser","useListTenant","_queryFn5","_useQuery5","_callee13","_data$data8","_yield$listTenant","_context13","listTenant","useAgreeTenant","_mutationFn7","_useMutation7","_callee14","_data$data9","_yield$agreeTenant","_context14","agreeTenant","_x6","_ref$initialValue","initialValue","_ref$max","max","Form","Item","tooltip","flex","noStyle","rules","required","Slider","InputNumber","min","AutoKeywordsItem","AutoQuestionsItem","DelimiterInput","maxLength","initialEntityTypes","_ref$field","field","EditTag","valuePropName","Switch","list","Select","excludedParseMethods","showRaptorParseConfiguration","useFormInstance","handleGenerate","random","Divider","shouldUpdate","prevValues","curValues","parser_config","raptor","use_raptor","getFieldValue","TextArea","rows","step","Button","showGraphRagItems","methodOptions","upperFirst","renderWideTooltip","overlayInnerStyle","graphrag","use_graphrag","EntityTypesItem","dangerouslySetInnerHTML","__html","hidePagesChunkMethods","parserConfig","_Form$useForm","useForm","_useFetchParserListOn","handleOk","_values$pages$map","_values$pages","validateFields","pages","to","isPdf","showPages","showOne","showMaxTokenNumber","hideDivider","showEntityTypes","showExcelToHtml","showAutoKeywords","_parserConfig$pages$m","_parserConfig$pages","setFieldsValue","Space","autoComplete","Tooltip","QuestionCircleOutlined","List","fields","add","remove","restField","_objectWithoutProperties","_excluded","display","dependencies","validator","_","Error","placeholder","precision","MinusCircleOutlined","block","LayoutRecognize","_ref7","MaxTokenNumber","Delimiter","ExcelToHtml","ParseConfiguration","GraphRagItems","labelCol","span","wrapperCol","maxWidth","__defProp","defineProperty","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","enumerable","configurable","writable","SvgCancel","a","b","prop","call","__spreadValues","fill","xmlns","stroke","strokeWidth","strokeLinecap","strokeLinejoin","SvgDelete","SvgDisable","viewBox","SvgEnable","SvgRun","selectedRowKeys","showCreateModal","showDocumentUploadModal","removeDocument","useRemoveNextDocument","showDeleteConfirm","runDocumentByIds","useRunNextDocument","setDocumentStatus","useSetNextDocumentStatus","actionItems","FileTextOutlined","FileOutlined","handleDelete","runDocument","run","documentIds","handleRunClick","handleCancelClick","onChangeStatus","status","handleEnableClick","handleDisableClick","EnableIcon","DisableIcon","RunIcon","CancelIcon","DeleteIcon","Dropdown","menu","placement","arrow","DownOutlined","allowClear","prefix","SearchOutlined","trigger","RunningStatusMap","UNSTART","color","RUNNING","CANCEL","DONE","FAIL","isParserRunning","text","showRenameModal","showChangeParserModal","showSetMetaModal","isRunning","isVirtualDocument","Virtual","onShowSetMetaModal","chunkItems","parser_id","ToolOutlined","EditOutlined","_record$parser_config","DeleteOutlined","downloadDocument","filename","DownloadOutlined","SvgRefresh","iconMap","RefreshIcon","PopoverContent","nextText","process_begin_at","process_duation","toFixed","progress_msg","replace","reactStringReplace","match","i","idx","runningStatus","_useHandleRunDocument","_useRunNextDocument","currentId","setCurrentId","isLoading","handleRunDocumentByIds","shouldDelete","_args6","_x8","_x9","useHandleRunDocumentByIds","OperationIcon","handleOperationIconClick","justify","Popover","Badge","progress","Popconfirm","chunkNum","chunk_num","onConfirm","classNames","initialName","okButtonProps","onFinish","log","onFinishFailed","errorInfo","pattern","RegExp","SetMetaModal","initialMetaData","meta","initialValues","remember","layout","rule","DOMPurify","Editor","defaultLanguage","loader","config","paths","vs","Text","Typography","setSelectedRowKeys","_useFetchNextDocument","useFetchNextDocumentList","documents","toChunk","linkToUploadPage","_useSetSelectedRecord","_useRenameDocument","_useSaveNextDocumentN","useSaveNextDocumentName","saveName","_useSetModalState","renameVisible","hideRenameModal","onRenameOk","renameLoading","useRenameDocument","_useCreateEmptyDocume","_useCreateNextDocumen","useCreateNextDocument","createDocument","_useSetModalState2","createVisible","hideCreateModal","onCreateOk","createLoading","useCreateEmptyDocument","_useChangeDocumentPar","_useSetNextDocumentPa","useSetNextDocumentParser","setDocumentParser","_useSetModalState3","changeParserVisible","hideChangeParserModal","onChangeParserOk","changeParserLoading","useChangeDocumentParser","_useHandleUploadDocum","_useSetModalState4","documentUploadVisible","hideDocumentUploadModal","_useUploadNextDocumen","useUploadNextDocument","uploadDocument","onDocumentUploadOk","count","getUnSupportedFilesCount","documentUploadLoading","useHandleUploadDocument","_useHandleWebCrawl","_useSetModalState5","webCrawlUploadVisible","hideWebCrawlUploadModal","showWebCrawlUploadModal","_useNextWebCrawl","useNextWebCrawl","webCrawl","onWebCrawlUploadOk","_x7","webCrawlUploadLoading","useHandleWebCrawl","_useShowMetaModal","_useSetDocumentMeta","useSetDocumentMeta","setDocumentMeta","_useSetModalState6","setMetaVisible","hideSetMetaModal","onSetMetaModalOk","_x10","setMetaLoading","useShowMetaModal","rowSelection","newSelectedRowKeys","finalColumns","dataIndex","fixed","render","thumbnail","src","alt","SvgIcon","getExtension","ellipsis","formatDate","_parserList$find","checked","ParsingStatusCell","ParsingActionCell","DocumentToolbar","showWebCrawlModal","Table","rowKey","columns","dataSource","scroll","scrollToFirstRowOnChange","CreateFileModal","ChunkMethodModal","RenameModal","FileUploadModal","WebCrawlModal","meta_fields","listFile","removeFile","uploadFile","renameFile","getAllParentFolder","createFolder","connectFileToKnowledge","get_document_file","getFile","moveFile","methods","responseType","getDocumentFile","fileManagerService","registerServer","request","create_kb","update_kb","rm_kb","get_kb_detail","kb_list","get_document_list","document_change_status","document_rm","document_delete","document_create","document_change_parser","document_thumbnails","chunk_list","create_chunk","set_chunk","get_chunk","switch_chunk","rm_chunk","retrieval_test","document_rename","document_run","document_upload","web_crawl","document_infos","upload_and_parse","listTagByKnowledgeIds","createKb","updateKb","rmKb","getList","setMeta","kbService","listTag","removeTag","tags","post","renameTag","fromTag","toTag","getKnowledgeGraph","login","logout","register","tenant_info","getSystemTokenList","removeSystemToken","createSystemToken","api_host","setDialog","getDialog","removeDialog","listDialog","setConversation","getConversation","getConversationSSE","listConversation","removeConversation","deleteMessage","thumbup","ask","mindmap","getRelatedQuestions","getStats","createExternalConversation","getExternalConversation","completeExternalConversation","uploadAndParseExternal","listSystemToken","listTemplates","listCanvas","getCanvas","getCanvasSSE","removeCanvas","setCanvas","resetCanvas","runCanvas","testDbConnect","getInputElements","debug","isConversationIdExist","buildMessageListWithUuid","_messages$map","getConversationId","buildMessageUuidWithRole","preprocessLaTeX","equation","date","dayjs","format","formatTime","transformFile2Base64","FileReader","readAsDataURL","onload","img","Image","result","canvas","document","createElement","ctx","getContext","maxSize","drawImage","compressedBase64","toDataURL","onerror","normFile","getUploadFileListFromBase64","avatar","uid","thumbUrl","getBase64FromUploadFileList","originFileObj","base64","downloadFileFromBlob","blob","window","URL","createObjectURL","href","download","click","revokeObjectURL","Blob","Units","formatBytes","l","n","parseInt","downloadJsonFile","fileName","Json","Methods","opt","server","_loop","urlAppendix","requestOptions","toLowerCase","RetcodeMessage","extend","errorHandler","notification","description","errorText","statusText","timeout","getResponse","interceptors","use","convertTheKeysOfTheObjectToSnake","skipToken","_response$clone","authorizationUtil","removeAll","history","webpackEmptyAsyncContext","req","then","module","exports"],"sourceRoot":""}