"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9615],{26625:function(e,n,a){a.d(n,{h:function(){return T}});var t=a(97857),r=a.n(t),s=a(13769),o=a.n(s),i=a(75962),l=a(62435),c=a(57636),d=a(27080),u=a(86074),m=["className"],f=["className"],x=["className"],h=["className"],p=["className"],g=["className"],v=["className"],N=["className"],j=i.fC,b=i.xz,w=i.h_,y=l.forwardRef((function(e,n){var a=e.className,t=o()(e,m);return(0,u.jsx)(i.aV,r()(r()({className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a)},t),{},{ref:n}))}));y.displayName=i.aV.displayName;var k=l.forwardRef((function(e,n){var a=e.className,t=o()(e,f);return(0,u.jsxs)(w,{children:[(0,u.jsx)(y,{}),(0,u.jsx)(i.VY,r()({ref:n,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-colors-background-neutral-standard p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a)},t))]})}));k.displayName=i.VY.displayName;var C=function(e){var n=e.className,a=o()(e,x);return(0,u.jsx)("div",r()({className:(0,d.cn)("flex flex-col space-y-2 text-center sm:text-left",n)},a))};C.displayName="AlertDialogHeader";var R=function(e){var n=e.className,a=o()(e,h);return(0,u.jsx)("div",r()({className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n)},a))};R.displayName="AlertDialogFooter";var M=l.forwardRef((function(e,n){var a=e.className,t=o()(e,p);return(0,u.jsx)(i.Dx,r()({ref:n,className:(0,d.cn)("text-lg font-semibold",a)},t))}));M.displayName=i.Dx.displayName,l.forwardRef((function(e,n){var a=e.className,t=o()(e,g);return(0,u.jsx)(i.dk,r()({ref:n,className:(0,d.cn)("text-sm text-muted-foreground",a)},t))})).displayName=i.dk.displayName;var z=l.forwardRef((function(e,n){var a=e.className,t=o()(e,v);return(0,u.jsx)(i.aU,r()({ref:n,className:(0,d.cn)((0,c.d)(),a)},t))}));z.displayName=i.aU.displayName;var S=l.forwardRef((function(e,n){var a=e.className,t=o()(e,N);return(0,u.jsx)(i.$j,r()({ref:n,className:(0,d.cn)((0,c.d)({variant:"outline"}),"mt-2 sm:mt-0",a)},t))}));S.displayName=i.$j.displayName;var $=a(13718),Z=a(67421);function T(e){var n=e.children,a=e.title,t=e.onOk,r=(0,Z.$G)().t;return(0,u.jsxs)(j,{children:[(0,u.jsx)(b,{asChild:!0,children:n}),(0,u.jsxs)(k,{children:[(0,u.jsx)(C,{children:(0,u.jsx)(M,{children:null!=a?a:r("common.deleteModalTitle")})}),(0,u.jsxs)(R,{children:[(0,u.jsx)(S,{children:r("common.cancel")}),(0,u.jsxs)(z,{className:"bg-colors-background-functional-solid-danger text--colors-text-neutral-strong",onClick:t,children:[(0,u.jsx)($.Z,{}),r("common.ok")]})]})]})]})}},83943:function(e,n,a){a.d(n,{Z:function(){return i}});var t=a(71981),r=a(57636),s=a(27591),o=a(86074);function i(e){var n=e.title,a=e.children,i=e.showDialog;return(0,o.jsxs)("div",{className:"flex justify-between mb-6",children:[(0,o.jsx)("span",{className:"text-3xl font-bold ",children:n}),(0,o.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,o.jsx)(t.Z,{className:"size-5"}),(0,o.jsx)(s.Mj,{}),(0,o.jsx)(r.z,{variant:"tertiary",size:"sm",onClick:i,children:a})]})]})}},23309:function(e,n,a){a.d(n,{X:function(){return f}});var t=a(97857),r=a.n(t),s=a(13769),o=a.n(s),i=a(46069),l=a(13742),c=a(62435),d=a(27080),u=a(86074),m=["className"],f=c.forwardRef((function(e,n){var a=e.className,t=o()(e,m);return(0,u.jsx)(i.fC,r()(r()({ref:n,className:(0,d.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a)},t),{},{children:(0,u.jsx)(i.z$,{className:(0,d.cn)("flex items-center justify-center text-current"),children:(0,u.jsx)(l.Z,{className:"h-4 w-4"})})}))}));f.displayName=i.fC.displayName},25910:function(e,n,a){a.d(n,{$F:function(){return y},AW:function(){return k},Ju:function(){return R},VD:function(){return M},Xi:function(){return C},h_:function(){return w}});var t=a(97857),r=a.n(t),s=a(13769),o=a.n(s),i=a(93133),l=a(64998),c=a(13742),d=a(50316),u=a(62435),m=a(27080),f=a(86074),x=["className","inset","children"],h=["className"],p=["className","sideOffset"],g=["className","inset"],v=["className","children","checked"],N=["className","children"],j=["className","inset"],b=["className"],w=i.fC,y=i.xz;i.ZA,i.Uv,i.Tr,i.Ee;u.forwardRef((function(e,n){var a=e.className,t=e.inset,s=e.children,c=o()(e,x);return(0,f.jsxs)(i.fF,r()(r()({ref:n,className:(0,m.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",a)},c),{},{children:[s,(0,f.jsx)(l.Z,{className:"ml-auto"})]}))})).displayName=i.fF.displayName,u.forwardRef((function(e,n){var a=e.className,t=o()(e,h);return(0,f.jsx)(i.tu,r()({ref:n,className:(0,m.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a)},t))})).displayName=i.tu.displayName;var k=u.forwardRef((function(e,n){var a=e.className,t=e.sideOffset,s=void 0===t?4:t,l=o()(e,p);return(0,f.jsx)(i.Uv,{children:(0,f.jsx)(i.VY,r()({ref:n,sideOffset:s,className:(0,m.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a)},l))})}));k.displayName=i.VY.displayName;var C=u.forwardRef((function(e,n){var a=e.className,t=e.inset,s=o()(e,g);return(0,f.jsx)(i.ck,r()({ref:n,className:(0,m.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",a)},s))}));C.displayName=i.ck.displayName,u.forwardRef((function(e,n){var a=e.className,t=e.children,s=e.checked,l=o()(e,v);return(0,f.jsxs)(i.oC,r()(r()({ref:n,className:(0,m.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:s},l),{},{children:[(0,f.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,f.jsx)(i.wU,{children:(0,f.jsx)(c.Z,{className:"h-4 w-4"})})}),t]}))})).displayName=i.oC.displayName,u.forwardRef((function(e,n){var a=e.className,t=e.children,s=o()(e,N);return(0,f.jsxs)(i.Rk,r()(r()({ref:n,className:(0,m.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a)},s),{},{children:[(0,f.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,f.jsx)(i.wU,{children:(0,f.jsx)(d.Z,{className:"h-2 w-2 fill-current"})})}),t]}))})).displayName=i.Rk.displayName;var R=u.forwardRef((function(e,n){var a=e.className,t=e.inset,s=o()(e,j);return(0,f.jsx)(i.__,r()({ref:n,className:(0,m.cn)("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",a)},s))}));R.displayName=i.__.displayName;var M=u.forwardRef((function(e,n){var a=e.className,t=o()(e,b);return(0,f.jsx)(i.Z0,r()({ref:n,className:(0,m.cn)("-mx-1 my-1 h-px bg-muted",a)},t))}));M.displayName=i.Z0.displayName},11524:function(e,n,a){a.d(n,{f:function(){return h}});var t=a(97857),r=a.n(t),s=a(13769),o=a.n(s),i=a(27080),l=a(88426),c=a(45139),d=a(36316),u=a(62435),m=a(86074),f=["className","loading","children","disabled","variant","size","asChild"],x=(0,c.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",tertiary:"bg-colors-background-sentiment-solid-primary text-colors-text-persist-light hover:bg-colors-background-sentiment-solid-primary/80"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),h=u.forwardRef((function(e,n){var a=e.className,t=e.loading,s=void 0!==t&&t,c=e.children,u=e.disabled,h=e.variant,p=e.size,g=e.asChild,v=void 0!==g&&g,N=o()(e,f),j=v?l.g7:"button";return(0,m.jsxs)(j,r()(r()({className:(0,i.cn)(x({variant:h,size:p,className:a})),ref:n,disabled:s||u},N),{},{children:[s&&(0,m.jsx)(d.Z,{className:"mr-2 h-5 w-5 animate-spin"}),(0,m.jsx)(l.A4,{children:c})]}))}));h.displayName="LoadingButton"},87033:function(e,n,a){a.d(n,{Od:function(){return d},q4:function(){return u}});var t=a(97857),r=a.n(t),s=a(13769),o=a.n(s),i=a(27080),l=a(86074),c=["className"];function d(e){var n=e.className,a=o()(e,c);return(0,l.jsx)("div",r()({className:(0,i.cn)("animate-pulse rounded-md bg-muted",n)},a))}function u(){return(0,l.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,l.jsx)(d,{className:"h-[125px] w-[250px] rounded-xl"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(d,{className:"h-4 w-[250px]"}),(0,l.jsx)(d,{className:"h-4 w-[200px]"})]})]})}},75269:function(e,n,a){a.d(n,{RM:function(){return j},SC:function(){return b},iA:function(){return v},pj:function(){return y},ss:function(){return w},xD:function(){return N}});var t=a(97857),r=a.n(t),s=a(13769),o=a.n(s),i=a(62435),l=a(27080),c=a(86074),d=["className"],u=["className"],m=["className"],f=["className"],x=["className"],h=["className"],p=["className"],g=["className"],v=i.forwardRef((function(e,n){var a=e.className,t=o()(e,d);return(0,c.jsx)("div",{className:"relative w-full overflow-auto",children:(0,c.jsx)("table",r()({ref:n,className:(0,l.cn)("w-full caption-bottom text-sm",a)},t))})}));v.displayName="Table";var N=i.forwardRef((function(e,n){var a=e.className,t=o()(e,u);return(0,c.jsx)("thead",r()({ref:n,className:(0,l.cn)("[&_tr]:border-b",a)},t))}));N.displayName="TableHeader";var j=i.forwardRef((function(e,n){var a=e.className,t=o()(e,m);return(0,c.jsx)("tbody",r()({ref:n,className:(0,l.cn)("[&_tr:last-child]:border-0",a)},t))}));j.displayName="TableBody",i.forwardRef((function(e,n){var a=e.className,t=o()(e,f);return(0,c.jsx)("tfoot",r()({ref:n,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a)},t))})).displayName="TableFooter";var b=i.forwardRef((function(e,n){var a=e.className,t=o()(e,x);return(0,c.jsx)("tr",r()({ref:n,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a)},t))}));b.displayName="TableRow";var w=i.forwardRef((function(e,n){var a=e.className,t=o()(e,h);return(0,c.jsx)("th",r()({ref:n,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a)},t))}));w.displayName="TableHead";var y=i.forwardRef((function(e,n){var a=e.className,t=o()(e,p);return(0,c.jsx)("td",r()({ref:n,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a)},t))}));y.displayName="TableCell",i.forwardRef((function(e,n){var a=e.className,t=o()(e,g);return(0,c.jsx)("caption",r()({ref:n,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",a)},t))})).displayName="TableCaption"},8074:function(e,n,a){a.d(n,{Rx:function(){return s.Rx},j$:function(){return i}});var t=a(9783),r=a.n(t),s=a(96330),o=(r()(r()(r()({},s.Rx.Dataset,"Dataset"),s.Rx.Testing,"Retrieval testing"),s.Rx.Configuration,"Configuration"),function(e){return e.Chunk="chunk",e.File="file",e}({})),i=(r()(r()({},o.Chunk,"Chunk"),o.File,"File Upload"),"tagRename")},62905:function(e,n,a){a.r(n),a.d(n,{default:function(){return le}});var t=a(83943),r=a(28142),s=a(9783),o=a.n(s),i=a(5574),l=a.n(i),c=a(74094),d=a(27060),u=a(61932),m=a(62435),f=a(28993),x=a(11524),h=a(8074),p=a(67421),g=a(15009),v=a.n(g),N=a(97857),j=a.n(N),b=a(99289),w=a.n(b),y=a(56312),k=a(87536),C=a(1604),R=a(80499),M=a(27591),z=a(86074);function S(e){var n=e.initialName,a=e.hideModal,t=e.onOk,r=(0,p.$G)().t,s=C.z.object({name:C.z.string().min(1,{message:r("common.namePlaceholder")}).trim()}),o=(0,k.cI)({resolver:(0,y.F)(s),defaultValues:{name:""}});function i(){return(i=w()(v()().mark((function e(n){return v()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==t?void 0:t(n.name);case 2:e.sent&&(null==a||a());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,m.useEffect)((function(){o.setValue("name",n)}),[o,n]),(0,z.jsx)(R.l0,j()(j()({},o),{},{children:(0,z.jsx)("form",{onSubmit:o.handleSubmit((function(e){return i.apply(this,arguments)})),className:"space-y-6",id:h.j$,children:(0,z.jsx)(R.Wi,{control:o.control,name:"name",render:function(e){var n=e.field;return(0,z.jsxs)(R.xJ,{children:[(0,z.jsx)(R.lX,{children:r("common.name")}),(0,z.jsx)(R.NI,{children:(0,z.jsx)(M.II,j()(j()({placeholder:r("common.namePlaceholder")},n),{},{autoComplete:"off"}))}),(0,z.jsx)(R.zG,{})]})}})})}))}function $(e){var n=e.hideModal,a=e.initialName,t=e.onOk,r=e.loading,s=(0,p.$G)().t;return(0,z.jsx)(f.Vq,{open:!0,onOpenChange:n,children:(0,z.jsxs)(f.cZ,{className:"sm:max-w-[425px]",children:[(0,z.jsx)(f.fK,{children:(0,z.jsx)(f.$N,{children:s("common.rename")})}),(0,z.jsx)(S,{initialName:a,hideModal:n,onOk:t}),(0,z.jsx)(f.cN,{children:(0,z.jsx)(x.f,{type:"submit",form:h.j$,loading:r,children:s("common.save")})})]})})}var Z=a(46693),T=a(87033);function _(){return(0,z.jsxs)("div",{className:"flex flex-col space-y-3 items-center",children:[(0,z.jsx)(T.Od,{className:"h-[125px] w-[250px] rounded-xl"}),(0,z.jsxs)("div",{className:"space-y-2 w-[250px]",children:[(0,z.jsx)(T.Od,{className:"h-4 w-[250px]"}),(0,z.jsx)(T.Od,{className:"h-4 w-[200px]"})]})]})}var F=a(75269);function I(e){var n=e.children,a=e.columnsLength;return(0,z.jsx)(F.SC,{children:(0,z.jsx)(F.pj,{colSpan:a,className:"h-24 text-center ",children:n})})}function O(e){var n=e.columnsLength;return(0,z.jsx)(I,{columnsLength:n,children:(0,z.jsx)(_,{})})}function V(e){var n=e.columnsLength;return(0,z.jsx)(I,{columnsLength:n,children:"No results."})}var K=a(19252),P=a(57636),L=a(23309),D=a(7182),A=a(89645),G=a(27080),X=a(31098),E=a(28382),U=a(5089),H=a(26625),q=a(25910);const Y=(0,a(91373).Z)("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);var B=a(13718),J=a(95999);function W(e){var n=e.row,a=e.showConnectToKnowledgeModal,t=e.showFileRenameModal,r=(0,p.$G)().t,s=n.original,o=s.id,i=(0,A.O6)().downloadFile,l=(0,m.useCallback)((function(){a(s)}),[s,a]),c=(0,m.useCallback)((function(){i({id:o,filename:s.name})}),[o,i,s.name]),d=(0,m.useCallback)((function(){t(s)}),[s,t]);return(0,z.jsxs)("section",{className:"flex gap-4 items-center",children:[(0,z.jsx)(P.z,{variant:"secondary",size:"icon",onClick:l,children:(0,z.jsx)(Y,{})}),(0,z.jsx)(H.h,{children:(0,z.jsx)(P.z,{variant:"secondary",size:"icon",children:(0,z.jsx)(B.Z,{})})}),(0,z.jsxs)(q.h_,{children:[(0,z.jsx)(q.$F,{asChild:!0,children:(0,z.jsx)(P.z,{variant:"secondary",size:"icon",children:(0,z.jsx)(J.Z,{})})}),(0,z.jsxs)(q.AW,{align:"end",children:[(0,z.jsx)(q.Xi,{onClick:function(){return navigator.clipboard.writeText(s.id)},children:r("common.move")}),(0,z.jsx)(q.VD,{}),(0,z.jsx)(q.Xi,{onClick:d,children:r("common.rename")}),(0,z.jsx)(q.VD,{}),(0,z.jsx)(q.Xi,{onClick:c,children:r("common.download")})]})]})]})}var Q=a(86968),ee=a(24701),ne=a(69106),ae=a(10541),te="LinkToDatasetForm",re=C.z.object({knowledgeIds:C.z.array(C.z.string()).min(0,{message:"Username must be at least 1 characters."})});function se(e){var n=e.initialConnectedIds,a=e.onConnectToKnowledgeOk,t=(0,p.$G)().t,r=(0,k.cI)({resolver:(0,y.F)(re),defaultValues:{knowledgeIds:n}}),s=(0,ae.pY)();return(0,z.jsx)(R.l0,j()(j()({},r),{},{children:(0,z.jsx)("form",{onSubmit:r.handleSubmit((function(e){a(e.knowledgeIds)})),className:"space-y-6",id:te,children:(0,z.jsx)(R.Wi,{control:r.control,name:"knowledgeIds",render:function(e){var n=e.field;return(0,z.jsxs)(R.xJ,{children:[(0,z.jsx)(R.lX,{children:"Name"}),(0,z.jsx)(R.NI,{children:(0,z.jsx)(ne.N,{options:s,onValueChange:n.onChange,defaultValue:n.value,placeholder:t("fileManager.pleaseSelect"),maxCount:100,modalPopover:!0})}),(0,z.jsx)(R.zG,{})]})}})})}))}function oe(e){var n=e.hideModal,a=e.initialConnectedIds,t=e.onConnectToKnowledgeOk,r=e.loading,s=(0,p.$G)().t;return(0,z.jsx)(f.Vq,{open:!0,onOpenChange:n,children:(0,z.jsxs)(f.cZ,{className:"sm:max-w-[425px]",children:[(0,z.jsx)(f.fK,{children:(0,z.jsx)(f.$N,{children:s("fileManager.addToKnowledge")})}),(0,z.jsx)(se,{initialConnectedIds:a,onConnectToKnowledgeOk:t}),(0,z.jsx)(f.cN,{children:(0,z.jsx)(x.f,{type:"submit",variant:"tertiary",form:te,loading:r,children:(0,z.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,z.jsx)(Y,{})," Save"]})})})]})})}function ie(){var e,n,a,t=m.useState([]),r=l()(t,2),s=r[0],i=r[1],f=m.useState([]),x=l()(f,2),h=x[0],g=x[1],N=m.useState({}),j=l()(N,2),b=j[0],y=j[1],k=m.useState({}),C=l()(k,2),R=C[0],M=C[1],S=(0,p.$G)("translation",{keyPrefix:"fileManager"}).t,T=(a=(0,ee.s0)(),(0,m.useCallback)((function(e){a("/file?folderId=".concat(e))}),[a])),_=function(){var e=(0,Q.pG)(),n=e.visible,a=e.hideModal,t=e.showModal,r=(0,A.n_)(),s=r.connectFileToKnowledge,o=r.loading,i=(0,m.useState)({}),c=l()(i,2),d=c[0],u=c[1],f=(0,m.useMemo)((function(){var e;return Array.isArray(null==d?void 0:d.kbs_info)?null==d||null===(e=d.kbs_info)||void 0===e?void 0:e.map((function(e){return e.kb_id})):[]}),[null==d?void 0:d.kbs_info]),x=(0,m.useCallback)(function(){var e=w()(v()().mark((function e(n){var t;return v()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({fileIds:[d.id],kbIds:n});case 2:return 0===(t=e.sent)&&a(),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[s,a,d.id]),h=(0,m.useCallback)((function(e){u(e),t()}),[t]);return{initialConnectedIds:f,connectToKnowledgeLoading:o,onConnectToKnowledgeOk:x,connectToKnowledgeVisible:n,hideConnectToKnowledgeModal:a,showConnectToKnowledgeModal:h}}(),I=_.connectToKnowledgeVisible,H=_.hideConnectToKnowledgeModal,q=_.showConnectToKnowledgeModal,Y=_.initialConnectedIds,B=_.onConnectToKnowledgeOk,J=_.connectToKnowledgeLoading,ne=function(){var e=(0,m.useState)({}),n=l()(e,2),a=n[0],t=n[1],r=(0,Q.pG)(),s=r.visible,o=r.hideModal,i=r.showModal,c=(0,A.vF)(),d=c.renameFile,u=c.loading,f=(0,m.useCallback)(function(){var e=w()(v()().mark((function e(n){return v()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d({fileId:a.id,name:n});case 2:0===e.sent&&o();case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[d,a,o]),x=(0,m.useCallback)(function(){var e=w()(v()().mark((function e(n){return v()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(n),i();case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[i]);return{fileRenameLoading:u,initialFileName:a.name,onFileRenameOk:f,fileRenameVisible:s,hideFileRenameModal:o,showFileRenameModal:x}}(),ae=ne.fileRenameVisible,te=ne.showFileRenameModal,re=ne.hideFileRenameModal,se=ne.onFileRenameOk,ie=ne.initialFileName,le=ne.fileRenameLoading,ce=(0,A.t)(),de=ce.pagination,ue=ce.data,me=ce.loading,fe=ce.setPagination,xe=[{id:"select",header:function(e){var n=e.table;return(0,z.jsx)(L.X,{checked:n.getIsAllPageRowsSelected()||n.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:function(e){return n.toggleAllPageRowsSelected(!!e)},"aria-label":"Select all"})},cell:function(e){var n=e.row;return(0,z.jsx)(L.X,{checked:n.getIsSelected(),onCheckedChange:function(e){return n.toggleSelected(!!e)},"aria-label":"Select row"})},enableSorting:!1,enableHiding:!1},{accessorKey:"name",header:function(e){var n=e.column;return(0,z.jsxs)(P.z,{variant:"ghost",onClick:function(){return n.toggleSorting("asc"===n.getIsSorted())},children:[S("name"),(0,z.jsx)(u.Z,{})]})},meta:{cellClassName:"max-w-[20vw]"},cell:function(e){var n=e.row,a=n.getValue("name"),t=n.original.type,r=n.original.id,s="folder"===t;return(0,z.jsxs)(D.u,{children:[(0,z.jsx)(D.aJ,{asChild:!0,children:(0,z.jsxs)("div",{className:"flex gap-2",children:[(0,z.jsx)(Z.Z,{name:"file-icon/".concat(s?"folder":(0,U.RT)(a)),width:24}),(0,z.jsx)("span",{className:(0,G.cn)("truncate",o()({},"cursor-pointer",s)),onClick:function(){s&&T(r)},children:a})]})}),(0,z.jsx)(D._v,{children:(0,z.jsx)("p",{children:a})})]})}},{accessorKey:"create_time",header:function(e){var n=e.column;return(0,z.jsxs)(P.z,{variant:"ghost",onClick:function(){return n.toggleSorting("asc"===n.getIsSorted())},children:[S("uploadDate"),(0,z.jsx)(u.Z,{})]})},cell:function(e){var n=e.row;return(0,z.jsx)("div",{className:"lowercase",children:(0,E.p6)(n.getValue("create_time"))})}},{accessorKey:"size",header:function(e){var n=e.column;return(0,z.jsxs)(P.z,{variant:"ghost",onClick:function(){return n.toggleSorting("asc"===n.getIsSorted())},children:[S("size"),(0,z.jsx)(u.Z,{})]})},cell:function(e){var n=e.row;return(0,z.jsx)("div",{className:"capitalize",children:(0,X.sS)(n.getValue("size"))})}},{accessorKey:"kbs_info",header:S("knowledgeBase"),cell:function(e){var n=e.row.getValue("kbs_info");return Array.isArray(n)?(0,z.jsxs)("section",{className:"flex gap-2 items-center",children:[null==n?void 0:n.slice(0,2).map((function(e){return(0,z.jsx)(K.C,{className:"",variant:"tertiary",children:e.kb_name},e.kb_id)})),n.length>2&&(0,z.jsxs)(P.z,{variant:"icon",size:"auto",children:["+",n.length-2]})]}):""}},{id:"actions",header:S("action"),enableHiding:!1,cell:function(e){var n=e.row;return(0,z.jsx)(W,{row:n,showConnectToKnowledgeModal:q,showFileRenameModal:te})}}],he=(0,m.useMemo)((function(){return{pageIndex:(de.current||1)-1,pageSize:de.pageSize||10}}),[de]),pe=(0,c.b7)({data:(null==ue?void 0:ue.files)||[],columns:xe,onSortingChange:i,onColumnFiltersChange:g,getCoreRowModel:(0,d.sC)(),getSortedRowModel:(0,d.tj)(),getFilteredRowModel:(0,d.vL)(),onColumnVisibilityChange:y,onRowSelectionChange:M,onPaginationChange:function(e){if("function"==typeof e){var n=e(he);fe({page:n.pageIndex+1,pageSize:n.pageSize})}else fe({page:e.pageIndex,pageSize:e.pageSize})},manualPagination:!0,state:{sorting:s,columnFilters:h,columnVisibility:b,rowSelection:R,pagination:he},rowCount:null!==(e=null==ue?void 0:ue.total)&&void 0!==e?e:0,debugTable:!0});return(0,z.jsxs)("div",{className:"w-full",children:[(0,z.jsx)("div",{className:"rounded-md border",children:(0,z.jsxs)(F.iA,{children:[(0,z.jsx)(F.xD,{children:pe.getHeaderGroups().map((function(e){return(0,z.jsx)(F.SC,{children:e.headers.map((function(e){return(0,z.jsx)(F.ss,{children:e.isPlaceholder?null:(0,c.ie)(e.column.columnDef.header,e.getContext())},e.id)}))},e.id)}))}),(0,z.jsx)(F.RM,{children:me?(0,z.jsx)(O,{columnsLength:xe.length}):null!==(n=pe.getRowModel().rows)&&void 0!==n&&n.length?pe.getRowModel().rows.map((function(e){return(0,z.jsx)(F.SC,{"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map((function(e){var n;return(0,z.jsx)(F.pj,{className:null===(n=e.column.columnDef.meta)||void 0===n?void 0:n.cellClassName,children:(0,c.ie)(e.column.columnDef.cell,e.getContext())},e.id)}))},e.id)})):(0,z.jsx)(V,{columnsLength:xe.length})})]})}),(0,z.jsxs)("div",{className:"flex items-center justify-end space-x-2 py-4",children:[(0,z.jsxs)("div",{className:"flex-1 text-sm text-muted-foreground",children:[pe.getFilteredSelectedRowModel().rows.length," of ",null==ue?void 0:ue.total," ","row(s) selected."]}),(0,z.jsxs)("div",{className:"space-x-2",children:[(0,z.jsx)(P.z,{variant:"outline",size:"sm",onClick:function(){return pe.previousPage()},disabled:!pe.getCanPreviousPage(),children:"Previous"}),(0,z.jsx)(P.z,{variant:"outline",size:"sm",onClick:function(){return pe.nextPage()},disabled:!pe.getCanNextPage(),children:"Next"})]})]}),I&&(0,z.jsx)(oe,{hideModal:H,initialConnectedIds:Y,onConnectToKnowledgeOk:B,loading:J}),ae&&(0,z.jsx)($,{hideModal:re,onOk:se,initialName:ie,loading:le})]})}function le(){return(0,z.jsxs)("section",{className:"p-8",children:[(0,z.jsxs)(t.Z,{title:"Files",children:[(0,z.jsx)(r.Z,{}),"Upload filed"]}),(0,z.jsx)(ie,{})]})}},74443:function(e,n,a){a.d(n,{ZP:function(){return o},c4:function(){return s}});var t=a(62435),r=a(25976);const s=["xxl","xl","lg","md","sm","xs"];function o(){const[,e]=(0,r.ZP)(),n=(e=>({xs:`(max-width: ${e.screenXSMax}px)`,sm:`(min-width: ${e.screenSM}px)`,md:`(min-width: ${e.screenMD}px)`,lg:`(min-width: ${e.screenLG}px)`,xl:`(min-width: ${e.screenXL}px)`,xxl:`(min-width: ${e.screenXXL}px)`}))((e=>{const n=e,a=[].concat(s).reverse();return a.forEach(((e,t)=>{const r=e.toUpperCase(),s=`screen${r}Min`,o=`screen${r}`;if(!(n[s]<=n[o]))throw new Error(`${s}<=${o} fails : !(${n[s]}<=${n[o]})`);if(t<a.length-1){const e=`screen${r}Max`;if(!(n[o]<=n[e]))throw new Error(`${o}<=${e} fails : !(${n[o]}<=${n[e]})`);const s=`screen${a[t+1].toUpperCase()}Min`;if(!(n[e]<=n[s]))throw new Error(`${e}<=${s} fails : !(${n[e]}<=${n[s]})`)}})),e})(e));return t.useMemo((()=>{const e=new Map;let a=-1,t={};return{matchHandlers:{},dispatch(n){return t=n,e.forEach((e=>e(t))),e.size>=1},subscribe(n){return e.size||this.register(),a+=1,e.set(a,n),n(t),a},unsubscribe(n){e.delete(n),e.size||this.unregister()},unregister(){Object.keys(n).forEach((e=>{const a=n[e],t=this.matchHandlers[a];null==t||t.mql.removeListener(null==t?void 0:t.listener)})),e.clear()},register(){Object.keys(n).forEach((e=>{const a=n[e],r=n=>{let{matches:a}=n;this.dispatch(Object.assign(Object.assign({},t),{[e]:a}))},s=window.matchMedia(a);s.addListener(r),this.matchHandlers[a]={mql:s,listener:r},r(s)}))},responsiveMap:n}}),[e])}},13742:function(e,n,a){a.d(n,{Z:function(){return t}});const t=(0,a(91373).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},8971:function(e,n,a){a.d(n,{Z:function(){return t}});const t=(0,a(91373).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},95999:function(e,n,a){a.d(n,{Z:function(){return t}});const t=(0,a(91373).Z)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},71981:function(e,n,a){a.d(n,{Z:function(){return t}});const t=(0,a(91373).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},36316:function(e,n,a){a.d(n,{Z:function(){return t}});const t=(0,a(91373).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},28142:function(e,n,a){a.d(n,{Z:function(){return t}});const t=(0,a(91373).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},84548:function(e,n,a){a.d(n,{B:function(){return l}});var t=a(62435),r=a(86074);function s(...e){const n=e[0];if(1===e.length)return n;const a=()=>{const a=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const r=a.reduce(((n,{useScope:a,scopeName:t})=>({...n,...a(e)[`__scope${t}`]})),{});return t.useMemo((()=>({[`__scope${n.scopeName}`]:r})),[r])}};return a.scopeName=n.scopeName,a}var o=a(28771),i=a(88426);function l(e){const n=e+"CollectionProvider",[a,l]=function(e,n=[]){let a=[];const o=()=>{const n=a.map((e=>t.createContext(e)));return function(a){const r=a?.[e]||n;return t.useMemo((()=>({[`__scope${e}`]:{...a,[e]:r}})),[a,r])}};return o.scopeName=e,[function(n,s){const o=t.createContext(s),i=a.length;function l(n){const{scope:a,children:s,...l}=n,c=a?.[e][i]||o,d=t.useMemo((()=>l),Object.values(l));return(0,r.jsx)(c.Provider,{value:d,children:s})}return a=[...a,s],l.displayName=n+"Provider",[l,function(a,r){const l=r?.[e][i]||o,c=t.useContext(l);if(c)return c;if(void 0!==s)return s;throw new Error(`\`${a}\` must be used within \`${n}\``)}]},s(o,...n)]}(n),[c,d]=a(n,{collectionRef:{current:null},itemMap:new Map}),u=e=>{const{scope:n,children:a}=e,s=t.useRef(null),o=t.useRef(new Map).current;return(0,r.jsx)(c,{scope:n,itemMap:o,collectionRef:s,children:a})};u.displayName=n;const m=e+"CollectionSlot",f=t.forwardRef(((e,n)=>{const{scope:a,children:t}=e,s=d(m,a),l=(0,o.e)(n,s.collectionRef);return(0,r.jsx)(i.g7,{ref:l,children:t})}));f.displayName=m;const x=e+"CollectionItemSlot",h="data-radix-collection-item",p=t.forwardRef(((e,n)=>{const{scope:a,children:s,...l}=e,c=t.useRef(null),u=(0,o.e)(n,c),m=d(x,a);return t.useEffect((()=>(m.itemMap.set(c,{ref:c,...l}),()=>{m.itemMap.delete(c)}))),(0,r.jsx)(i.g7,{[h]:"",ref:u,children:s})}));return p.displayName=x,[{Provider:u,Slot:f,ItemSlot:p},function(n){const a=d(e+"CollectionConsumer",n);return t.useCallback((()=>{const e=a.collectionRef.current;if(!e)return[];const n=Array.from(e.querySelectorAll(`[${h}]`));return Array.from(a.itemMap.values()).sort(((e,a)=>n.indexOf(e.ref.current)-n.indexOf(a.ref.current)))}),[a.collectionRef,a.itemMap])},l]}},78990:function(e,n,a){a.d(n,{gm:function(){return s}});var t=a(62435),r=(a(86074),t.createContext(void 0));function s(e){const n=t.useContext(r);return e||n||"ltr"}},57898:function(e,n,a){a.d(n,{D:function(){return r}});var t=a(62435);function r(e){const n=t.useRef({value:e,previous:e});return t.useMemo((()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous)),[e])}}}]);
//# sourceMappingURL=p__files__index.7285db66.async.js.map