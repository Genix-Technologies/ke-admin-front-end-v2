"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5410],{16165:function(e,n,t){var r=t(87462),s=t(1413),a=t(4942),i=t(45987),o=t(62435),c=t(93967),u=t.n(c),l=t(42550),d=t(63017),f=t(41755),m=["className","component","viewBox","spin","rotate","tabIndex","onClick","children"],p=o.forwardRef((function(e,n){var t=e.className,c=e.component,p=e.viewBox,h=e.spin,v=e.rotate,x=e.tabIndex,g=e.onClick,w=e.children,y=(0,i.Z)(e,m),Z=o.useRef(),b=(0,l.x1)(Z,n);(0,f.Kp)(Boolean(c||w),"Should have `component` prop or `children`."),(0,f.C3)(Z);var $=o.useContext(d.Z),k=$.prefixCls,j=void 0===k?"anticon":k,C=$.rootClassName,E=u()(C,j,t),M=u()((0,a.Z)({},"".concat(j,"-spin"),!!h)),N=v?{msTransform:"rotate(".concat(v,"deg)"),transform:"rotate(".concat(v,"deg)")}:void 0,P=(0,s.Z)((0,s.Z)({},f.vD),{},{className:M,style:N,viewBox:p});p||delete P.viewBox;var B=x;return void 0===B&&g&&(B=-1),o.createElement("span",(0,r.Z)({role:"img"},y,{ref:b,tabIndex:B,onClick:g,className:E}),c?o.createElement(c,P,w):w?((0,f.Kp)(Boolean(p)||1===o.Children.count(w)&&o.isValidElement(w)&&"use"===o.Children.only(w).type,"Make sure that you provide correct `viewBox` prop (default `0 0 1024 1024`) to the icon."),o.createElement("svg",(0,r.Z)({},P,{viewBox:p}),w)):null)}));p.displayName="AntdIcon",n.Z=p},51509:function(e,n,t){t.d(n,{UK:function(){return Z},aU:function(){return y},f0:function(){return g},mr:function(){return w}});var r=t(5574),s=t.n(r),a=t(15009),i=t.n(a),o=t(99289),c=t.n(o),u=t(39918),l=t(72668),d=t(61921),f=t(4527),m=t(45360),p=t(99859),h=t(62435),v=t(67421),x=t(24701),g=function(){var e,n=(0,v.$G)().t,t=(0,f.D)({mutationKey:["login"],mutationFn:(e=c()(i()().mark((function e(t){var r,s,a,o,c,f,p,h;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.ZP.login(t);case 2:if(r=e.sent,s=r.data,a=void 0===s?{}:s,o=r.response,alert(JSON.stringify(o)),0!==a.code){e.next=17;break}if(c=a.data,f=o.headers.get(u._n)){e.next=13;break}return m.ZP.error("Invalid authentication header"),e.abrupt("return");case 13:m.ZP.success(n("message.logged")),p=c.access_token,h={avatar:c.avatar,name:c.nickname,email:c.email},d.Z.setItems({Authorization:f,userInfo:JSON.stringify(h),Token:p});case 17:return e.abrupt("return",a.code);case 18:case"end":return e.stop()}}),e)}))),function(n){return e.apply(this,arguments)})});return{data:t.data,loading:t.isPending,login:t.mutateAsync}},w=function(){var e,n=(0,v.$G)().t,t=(0,f.D)({mutationKey:["register"],mutationFn:(e=c()(i()().mark((function e(t){var r,s,a;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.ZP.register(t);case 2:return r=e.sent,s=r.data,0===(a=void 0===s?{}:s).code&&m.ZP.success(n("message.registered")),e.abrupt("return",a.code);case 7:case"end":return e.stop()}}),e)}))),function(n){return e.apply(this,arguments)})});return{data:t.data,loading:t.isPending,register:t.mutateAsync}},y=function(){var e,n=(0,v.$G)().t,t=(0,f.D)({mutationKey:["logout"],mutationFn:(e=c()(i()().mark((function e(){var t,r,s;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.ZP.logout();case 2:return t=e.sent,r=t.data,0===(s=void 0===r?{}:r).code&&(m.ZP.success(n("message.logout")),d.Z.removeAll(),x.m8.push("/login")),e.abrupt("return",s.code);case 7:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})});return{data:t.data,loading:t.isPending,logout:t.mutateAsync}},Z=function(e){var n=(0,h.useState)(!1),t=s()(n,2),r=t[0],a=t[1],i=p.Z.useWatch([],e);return(0,h.useEffect)((function(){e.validateFields({validateOnly:!0}).then((function(){return a(!0)})).catch((function(){return a(!1)}))}),[e,i]),{submittable:r}}},33041:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});var r=t(86250),s=t(24701),a=t(40169),i=t(86968),o=t(51509),c=t(96100),u=t(39259),l=t(68508),d=t(62435),f=t(73828),m="sideBarWrapper___pApYb",p="version___uhL2R",h=t(86074),v=function(){var e=(0,s.s0)(),n=(0,c.Uu)(),t=(0,o.aU)().logout,v=(0,i.qM)("setting").t,x=(0,u.nv)(),g=x.version,w=x.fetchSystemVersion;(0,d.useEffect)((function(){location.host!==a.qp&&w()}),[w]);var y=Object.values(f.qh).map((function(e){return n=e,t=e,s=f.Dr[e],{key:t,icon:s,children:a,label:(0,h.jsxs)(r.Z,{justify:"space-between",children:[v(n),(0,h.jsx)("span",{className:p,children:"system"===n&&g})]}),type:i};var n,t,s,a,i})),Z=(0,d.useMemo)((function(){return[n]}),[n]);return(0,h.jsx)("section",{className:m,children:(0,h.jsx)(l.Z,{selectedKeys:Z,mode:"inline",items:y,onClick:function(n){var r=n.key;r===f.qh.Logout?t():e("/".concat(f.H7,"/").concat(r))},style:{width:312}})})},x=t(75041),g=function(){return(0,h.jsxs)(r.Z,{className:x.Z.settingWrapper,children:[(0,h.jsx)(v,{}),(0,h.jsx)(r.Z,{flex:1,className:x.Z.outletWrapper,children:(0,h.jsx)(s.j3,{})})]})}},74443:function(e,n,t){t.d(n,{ZP:function(){return i},c4:function(){return a}});var r=t(62435),s=t(25976);const a=["xxl","xl","lg","md","sm","xs"];function i(){const[,e]=(0,s.ZP)(),n=(e=>({xs:`(max-width: ${e.screenXSMax}px)`,sm:`(min-width: ${e.screenSM}px)`,md:`(min-width: ${e.screenMD}px)`,lg:`(min-width: ${e.screenLG}px)`,xl:`(min-width: ${e.screenXL}px)`,xxl:`(min-width: ${e.screenXXL}px)`}))((e=>{const n=e,t=[].concat(a).reverse();return t.forEach(((e,r)=>{const s=e.toUpperCase(),a=`screen${s}Min`,i=`screen${s}`;if(!(n[a]<=n[i]))throw new Error(`${a}<=${i} fails : !(${n[a]}<=${n[i]})`);if(r<t.length-1){const e=`screen${s}Max`;if(!(n[i]<=n[e]))throw new Error(`${i}<=${e} fails : !(${n[i]}<=${n[e]})`);const a=`screen${t[r+1].toUpperCase()}Min`;if(!(n[e]<=n[a]))throw new Error(`${e}<=${a} fails : !(${n[e]}<=${n[a]})`)}})),e})(e));return r.useMemo((()=>{const e=new Map;let t=-1,r={};return{matchHandlers:{},dispatch(n){return r=n,e.forEach((e=>e(r))),e.size>=1},subscribe(n){return e.size||this.register(),t+=1,e.set(t,n),n(r),t},unsubscribe(n){e.delete(n),e.size||this.unregister()},unregister(){Object.keys(n).forEach((e=>{const t=n[e],r=this.matchHandlers[t];null==r||r.mql.removeListener(null==r?void 0:r.listener)})),e.clear()},register(){Object.keys(n).forEach((e=>{const t=n[e],s=n=>{let{matches:t}=n;this.dispatch(Object.assign(Object.assign({},r),{[e]:t}))},a=window.matchMedia(t);a.addListener(s),this.matchHandlers[t]={mql:a,listener:s},s(a)}))},responsiveMap:n}}),[e])}}}]);
//# sourceMappingURL=p__user-setting__index.ddd928aa.async.js.map