{"version":3,"file":"p__search__index.13677978.async.js","mappings":"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","sources":["webpack:///./src/components/file-icon/index.less?cab7","webpack:///./src/components/file-icon/index.tsx","webpack:///./src/components/highlight-markdown/index.less?13d5","webpack:///./src/components/highlight-markdown/index.tsx","webpack:///./src/components/image/index.less?25dc","webpack:///./src/components/image/index.tsx","webpack:///./src/components/indented-tree/indented-tree.tsx","webpack:///./src/components/new-document-link.tsx","webpack:///./src/components/pdf-drawer/hooks.ts","webpack:///./src/components/pdf-previewer/index.less?80cf","webpack:///./src/components/pdf-previewer/index.tsx","webpack:///./src/components/pdf-drawer/index.tsx","webpack:///./src/components/pdf-previewer/hooks.ts","webpack:///./src/constants/common.ts","webpack:///./src/hooks/user-setting-hooks.tsx","webpack:///./src/pages/chat/markdown-content/index.less?ed51","webpack:///./src/pages/chat/markdown-content/index.tsx","webpack:///./src/pages/chat/utils.ts","webpack:///./src/pages/document-viewer/file-error/index.less?9a0d","webpack:///./src/pages/document-viewer/file-error/index.tsx","webpack:///./src/components/retrieval-documents/select-files.tsx","webpack:///./src/components/retrieval-documents/index.less?a74b","webpack:///./src/components/retrieval-documents/index.tsx","webpack:///./src/pages/search/index.less?2702","webpack:///./src/pages/search/mindmap-drawer.tsx","webpack:///./src/pages/search/hooks.ts","webpack:///./src/pages/search/sidebar.tsx","webpack:///./src/pages/search/index.tsx","webpack:///./src/services/user-service.ts","webpack:///./src/utils/api.ts","webpack:///./src/utils/register-server.ts","webpack:///./src/utils/request.ts","webpack:///./src/assets/svg/selected-files-collapse.svg"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"thumbnailImg\":\"thumbnailImg___cbGoI\"};","import { getExtension } from '@/utils/document-util';\nimport SvgIcon from '../svg-icon';\n\nimport { useFetchDocumentThumbnailsByIds } from '@/hooks/document-hooks';\nimport { useEffect } from 'react';\nimport styles from './index.less';\n\ninterface IProps {\n  name: string;\n  id: string;\n}\n\nconst FileIcon = ({ name, id }: IProps) => {\n  const fileExtension = getExtension(name);\n\n  const { data: fileThumbnails, setDocumentIds } =\n    useFetchDocumentThumbnailsByIds();\n  const fileThumbnail = fileThumbnails[id];\n\n  useEffect(() => {\n    if (id) {\n      setDocumentIds([id]);\n    }\n  }, [id, setDocumentIds]);\n\n  return fileThumbnail ? (\n    <img src={fileThumbnail} className={styles.thumbnailImg}></img>\n  ) : (\n    <SvgIcon name={`file-icon/${fileExtension}`} width={24}></SvgIcon>\n  );\n};\n\nexport default FileIcon;\n","// extracted by mini-css-extract-plugin\nexport default {\"text\":\"text___QzeTq\",\"code\":\"code___dMLXp\"};","import classNames from 'classnames';\nimport Markdown from 'react-markdown';\nimport { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';\nimport rehypeKatex from 'rehype-katex';\nimport rehypeRaw from 'rehype-raw';\nimport remarkGfm from 'remark-gfm';\nimport remarkMath from 'remark-math';\n\nimport 'katex/dist/katex.min.css'; // `rehype-katex` does not import the CSS for you\n\nimport { preprocessLaTeX } from '@/utils/chat';\nimport styles from './index.less';\n\nconst HightLightMarkdown = ({\n  children,\n}: {\n  children: string | null | undefined;\n}) => {\n  return (\n    <Markdown\n      remarkPlugins={[remarkGfm, remarkMath]}\n      rehypePlugins={[rehypeRaw, rehypeKatex]}\n      className={classNames(styles.text)}\n      components={\n        {\n          code(props: any) {\n            const { children, className, node, ...rest } = props;\n            const match = /language-(\\w+)/.exec(className || '');\n            return match ? (\n              <SyntaxHighlighter\n                {...rest}\n                PreTag=\"div\"\n                language={match[1]}\n                // style={dark}\n              >\n                {String(children).replace(/\\n$/, '')}\n              </SyntaxHighlighter>\n            ) : (\n              <code {...rest} className={`${className} ${styles.code}`}>\n                {children}\n              </code>\n            );\n          },\n        } as any\n      }\n    >\n      {children ? preprocessLaTeX(children) : children}\n    </Markdown>\n  );\n};\n\nexport default HightLightMarkdown;\n","// extracted by mini-css-extract-plugin\nexport default {\"primitiveImg\":\"primitiveImg___VkCiH\",\"image\":\"image___BCkCB\",\"imagePreview\":\"imagePreview___qFyP3\"};","import { api_host } from '@/utils/api';\nimport { Popover } from 'antd';\nimport classNames from 'classnames';\n\nimport styles from './index.less';\n\ninterface IImage {\n  id: string;\n  className: string;\n}\n\nconst Image = ({ id, className, ...props }: IImage) => {\n  return (\n    <img\n      {...props}\n      src={`${api_host}/document/image/${id}`}\n      alt=\"\"\n      className={classNames(styles.primitiveImg, className)}\n    />\n  );\n};\n\nexport default Image;\n\nexport const ImageWithPopover = ({ id }: { id: string }) => {\n  return (\n    <Popover\n      placement=\"left\"\n      content={<Image id={id} className={styles.imagePreview}></Image>}\n    >\n      <Image id={id} className={styles.image}></Image>\n    </Popover>\n  );\n};\n","import { Rect } from '@antv/g';\nimport {\n  Badge,\n  BaseBehavior,\n  BaseNode,\n  CommonEvent,\n  ExtensionCategory,\n  Graph,\n  NodeEvent,\n  Point,\n  Polyline,\n  PolylineStyleProps,\n  register,\n  subStyleProps,\n  treeToGraphData,\n} from '@antv/g6';\nimport { TreeData } from '@antv/g6/lib/types';\nimport isEmpty from 'lodash/isEmpty';\nimport React, { useCallback, useEffect, useRef } from 'react';\nimport { ErrorBoundary, FallbackProps } from 'react-error-boundary';\n\nconst rootId = 'root';\n\nconst COLORS = [\n  '#5B8FF9',\n  '#F6BD16',\n  '#5AD8A6',\n  '#945FB9',\n  '#E86452',\n  '#6DC8EC',\n  '#FF99C3',\n  '#1E9493',\n  '#FF9845',\n  '#5D7092',\n];\n\nconst TreeEvent = {\n  COLLAPSE_EXPAND: 'collapse-expand',\n  WHEEL: 'canvas:wheel',\n};\n\nclass IndentedNode extends BaseNode {\n  static defaultStyleProps = {\n    ports: [\n      {\n        key: 'in',\n        placement: 'right-bottom',\n      },\n      {\n        key: 'out',\n        placement: 'left-bottom',\n      },\n    ],\n  } as any;\n\n  constructor(options: any) {\n    Object.assign(options.style, IndentedNode.defaultStyleProps);\n    super(options);\n  }\n\n  get childrenData() {\n    return this.attributes.context?.model.getChildrenData(this.id);\n  }\n\n  getKeyStyle(attributes: any) {\n    const [width, height] = this.getSize(attributes);\n    const keyStyle = super.getKeyStyle(attributes);\n    return {\n      width,\n      height,\n      ...keyStyle,\n      fill: 'transparent',\n    };\n  }\n\n  drawKeyShape(attributes: any, container: any) {\n    const keyStyle = this.getKeyStyle(attributes);\n    return this.upsert('key', Rect, keyStyle, container);\n  }\n\n  getLabelStyle(attributes: any) {\n    if (attributes.label === false || !attributes.labelText) return false;\n    return subStyleProps(this.getGraphicStyle(attributes), 'label') as any;\n  }\n\n  drawIconArea(attributes: any, container: any) {\n    const [, h] = this.getSize(attributes);\n    const iconAreaStyle = {\n      fill: 'transparent',\n      height: 30,\n      width: 12,\n      x: -6,\n      y: h,\n      zIndex: -1,\n    };\n    this.upsert('icon-area', Rect, iconAreaStyle, container);\n  }\n\n  forwardEvent(target: any, type: any, listener: any) {\n    if (target && !Reflect.has(target, '__bind__')) {\n      Reflect.set(target, '__bind__', true);\n      target.addEventListener(type, listener);\n    }\n  }\n\n  getCountStyle(attributes: any) {\n    const { collapsed, color } = attributes;\n    if (collapsed) {\n      const [, height] = this.getSize(attributes);\n      return {\n        backgroundFill: color,\n        cursor: 'pointer',\n        fill: '#fff',\n        fontSize: 8,\n        padding: [0, 10],\n        text: `${this.childrenData?.length}`,\n        textAlign: 'center',\n        y: height + 8,\n      };\n    }\n\n    return false;\n  }\n\n  drawCountShape(attributes: any, container: any) {\n    const countStyle = this.getCountStyle(attributes);\n    const btn = this.upsert('count', Badge, countStyle as any, container);\n\n    this.forwardEvent(btn, CommonEvent.CLICK, (event: any) => {\n      event.stopPropagation();\n      attributes.context.graph.emit(TreeEvent.COLLAPSE_EXPAND, {\n        id: this.id,\n        collapsed: false,\n      });\n    });\n  }\n\n  isShowCollapse(attributes: any) {\n    return (\n      !attributes.collapsed &&\n      Array.isArray(this.childrenData) &&\n      this.childrenData?.length > 0\n    );\n  }\n\n  getCollapseStyle(attributes: any) {\n    const { showIcon, color } = attributes;\n    if (!this.isShowCollapse(attributes)) return false;\n    const [, height] = this.getSize(attributes);\n    return {\n      visibility: showIcon ? 'visible' : 'hidden',\n      backgroundFill: color,\n      backgroundHeight: 12,\n      backgroundWidth: 12,\n      cursor: 'pointer',\n      fill: '#fff',\n      fontFamily: 'iconfont',\n      fontSize: 8,\n      text: '\\ue6e4',\n      textAlign: 'center',\n      x: -1, // half of edge line width\n      y: height + 8,\n    };\n  }\n\n  drawCollapseShape(attributes: any, container: any) {\n    const iconStyle = this.getCollapseStyle(attributes);\n    const btn = this.upsert(\n      'collapse-expand',\n      Badge,\n      iconStyle as any,\n      container,\n    );\n\n    this.forwardEvent(btn, CommonEvent.CLICK, (event: any) => {\n      event.stopPropagation();\n      attributes.context.graph.emit(TreeEvent.COLLAPSE_EXPAND, {\n        id: this.id,\n        collapsed: !attributes.collapsed,\n      });\n    });\n  }\n\n  getAddStyle(attributes: any) {\n    const { collapsed, showIcon } = attributes;\n    if (collapsed) return false;\n    const [, height] = this.getSize(attributes);\n    const color = '#ddd';\n    const lineWidth = 1;\n\n    return {\n      visibility: showIcon ? 'visible' : 'hidden',\n      backgroundFill: '#fff',\n      backgroundHeight: 12,\n      backgroundLineWidth: lineWidth,\n      backgroundStroke: color,\n      backgroundWidth: 12,\n      cursor: 'pointer',\n      fill: color,\n      fontFamily: 'iconfont',\n      text: '\\ue664',\n      textAlign: 'center',\n      x: -1,\n      y: height + (this.isShowCollapse(attributes) ? 22 : 8),\n    };\n  }\n\n  render(attributes = this.parsedAttributes, container = this) {\n    super.render(attributes, container);\n\n    this.drawCountShape(attributes, container);\n\n    this.drawIconArea(attributes, container);\n    this.drawCollapseShape(attributes, container);\n  }\n}\n\nclass IndentedEdge extends Polyline {\n  getControlPoints(\n    attributes: Required<PolylineStyleProps>,\n    sourcePoint: Point,\n    targetPoint: Point,\n  ) {\n    const [sx] = sourcePoint;\n    const [, ty] = targetPoint;\n    return [[sx, ty]] as any;\n  }\n}\n\nclass CollapseExpandTree extends BaseBehavior {\n  constructor(context: any, options: any) {\n    super(context, options);\n    this.bindEvents();\n  }\n\n  update(options: any) {\n    this.unbindEvents();\n    super.update(options);\n    this.bindEvents();\n  }\n\n  bindEvents() {\n    const { graph } = this.context;\n\n    graph.on(NodeEvent.POINTER_ENTER, this.showIcon);\n    graph.on(NodeEvent.POINTER_LEAVE, this.hideIcon);\n    graph.on(TreeEvent.COLLAPSE_EXPAND, this.onCollapseExpand);\n  }\n\n  unbindEvents() {\n    const { graph } = this.context;\n\n    graph.off(NodeEvent.POINTER_ENTER, this.showIcon);\n    graph.off(NodeEvent.POINTER_LEAVE, this.hideIcon);\n    graph.off(TreeEvent.COLLAPSE_EXPAND, this.onCollapseExpand);\n  }\n\n  status = 'idle';\n\n  showIcon = (event: any) => {\n    this.setIcon(event, true);\n  };\n\n  hideIcon = (event: any) => {\n    this.setIcon(event, false);\n  };\n\n  setIcon = (event: any, show: boolean) => {\n    if (this.status !== 'idle') return;\n    const { target } = event;\n    const id = target.id;\n    const { graph, element } = this.context;\n    graph.updateNodeData([{ id, style: { showIcon: show } }]);\n    element?.draw({ animation: false, silence: true });\n  };\n\n  onCollapseExpand = async (event: any) => {\n    this.status = 'busy';\n    const { id, collapsed } = event;\n    const { graph } = this.context;\n    if (collapsed) await graph.collapseElement(id);\n    else await graph.expandElement(id);\n    this.status = 'idle';\n  };\n}\n\nregister(ExtensionCategory.NODE, 'indented', IndentedNode);\nregister(ExtensionCategory.EDGE, 'indented', IndentedEdge);\nregister(\n  ExtensionCategory.BEHAVIOR,\n  'collapse-expand-tree',\n  CollapseExpandTree,\n);\n\ninterface IProps {\n  data: TreeData;\n  show: boolean;\n  style?: React.CSSProperties;\n}\n\nfunction fallbackRender({ error }: FallbackProps) {\n  // Call resetErrorBoundary() to reset the error boundary and retry the render.\n\n  return (\n    <div role=\"alert\">\n      <p>Something went wrong:</p>\n      <pre style={{ color: 'red' }}>{error.message}</pre>\n    </div>\n  );\n}\n\nconst IndentedTree = ({ data, show, style = {} }: IProps) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const graphRef = useRef<Graph | null>(null);\n  const assignIds = React.useCallback(function assignIds(\n    node: TreeData,\n    parentId: string = '',\n    index = 0,\n  ) {\n    if (!node.id) node.id = parentId ? `${parentId}-${index}` : 'root';\n    if (node.children) {\n      node.children.forEach((child, idx) => assignIds(child, node.id, idx));\n    }\n  }, []);\n\n  const render = useCallback(\n    async (data: TreeData) => {\n      const graph: Graph = new Graph({\n        container: containerRef.current!,\n        x: 60,\n        node: {\n          type: 'indented',\n          style: {\n            size: (d) => [d.id.length * 6 + 10, 20],\n            labelBackground: (datum) => datum.id === rootId,\n            labelBackgroundRadius: 0,\n            labelBackgroundFill: '#576286',\n            labelFill: (datum) => (datum.id === rootId ? '#fff' : '#666'),\n            labelText: (d) => d.style?.labelText || d.id,\n            labelTextAlign: (datum) =>\n              datum.id === rootId ? 'center' : 'left',\n            labelTextBaseline: 'top',\n            color: (datum: any) => {\n              const depth = graph.getAncestorsData(datum.id, 'tree').length - 1;\n              return COLORS[depth % COLORS.length] || '#576286';\n            },\n          },\n          state: {\n            selected: {\n              lineWidth: 0,\n              labelFill: '#40A8FF',\n              labelBackground: true,\n              labelFontWeight: 'normal',\n              labelBackgroundFill: '#e8f7ff',\n              labelBackgroundRadius: 10,\n            },\n          },\n        },\n        edge: {\n          type: 'indented',\n          style: {\n            radius: 16,\n            lineWidth: 2,\n            sourcePort: 'out',\n            targetPort: 'in',\n            stroke: (datum: any) => {\n              const depth = graph.getAncestorsData(datum.source, 'tree').length;\n              return COLORS[depth % COLORS.length] || 'black';\n            },\n          },\n        },\n        layout: {\n          type: 'indented',\n          direction: 'LR',\n          isHorizontal: true,\n          indent: 40,\n          getHeight: () => 20,\n          getVGap: () => 10,\n        },\n        behaviors: [\n          'scroll-canvas',\n          'collapse-expand-tree',\n          {\n            type: 'click-select',\n            enable: (event: any) =>\n              event.targetType === 'node' && event.target.id !== rootId,\n          },\n        ],\n      });\n\n      if (graphRef.current) {\n        graphRef.current.destroy();\n      }\n\n      graphRef.current = graph;\n\n      assignIds(data);\n\n      graph?.setData(treeToGraphData(data));\n\n      graph?.render();\n    },\n    [assignIds],\n  );\n\n  useEffect(() => {\n    if (!isEmpty(data)) {\n      render(data);\n    }\n  }, [render, data]);\n\n  return (\n    <ErrorBoundary fallbackRender={fallbackRender}>\n      <div\n        id=\"tree\"\n        ref={containerRef}\n        style={{\n          width: '90vw',\n          height: '80vh',\n          display: show ? 'block' : 'none',\n          ...style,\n        }}\n      />\n    </ErrorBoundary>\n  );\n};\n\nexport default IndentedTree;\n","import {\n  getExtension,\n  isSupportedPreviewDocumentType,\n} from '@/utils/document-util';\nimport React from 'react';\n\ninterface IProps extends React.PropsWithChildren {\n  link?: string;\n  preventDefault?: boolean;\n  color?: string;\n  documentName: string;\n  documentId?: string;\n  prefix?: string;\n}\n\nconst NewDocumentLink = ({\n  children,\n  link,\n  preventDefault = false,\n  color = 'rgb(15, 79, 170)',\n  documentId,\n  documentName,\n  prefix = 'file',\n}: IProps) => {\n  let nextLink = link;\n  const extension = getExtension(documentName);\n  if (!link) {\n    nextLink = `/document/${documentId}?ext=${extension}&prefix=${prefix}`;\n  }\n\n  return (\n    <a\n      target=\"_blank\"\n      onClick={\n        !preventDefault || isSupportedPreviewDocumentType(extension)\n          ? undefined\n          : (e) => e.preventDefault()\n      }\n      href={nextLink}\n      rel=\"noreferrer\"\n      style={{ color, wordBreak: 'break-all' }}\n    >\n      {children}\n    </a>\n  );\n};\n\nexport default NewDocumentLink;\n","import { useSetModalState } from '@/hooks/common-hooks';\nimport { IReferenceChunk } from '@/interfaces/database/chat';\nimport { useCallback, useState } from 'react';\n\nexport const useClickDrawer = () => {\n  const { visible, showModal, hideModal } = useSetModalState();\n  const [selectedChunk, setSelectedChunk] = useState<IReferenceChunk>(\n    {} as IReferenceChunk,\n  );\n  const [documentId, setDocumentId] = useState<string>('');\n\n  const clickDocumentButton = useCallback(\n    (documentId: string, chunk: IReferenceChunk) => {\n      showModal();\n      setSelectedChunk(chunk);\n      setDocumentId(documentId);\n    },\n    [showModal],\n  );\n\n  return {\n    clickDocumentButton,\n    visible,\n    showModal,\n    hideModal,\n    selectedChunk,\n    documentId,\n  };\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"documentContainer\":\"documentContainer___kWzt7\"};","import {\n  useGetChunkHighlights,\n  useGetDocumentUrl,\n} from '@/hooks/document-hooks';\nimport { IReferenceChunk } from '@/interfaces/database/chat';\nimport { IChunk } from '@/interfaces/database/knowledge';\nimport FileError from '@/pages/document-viewer/file-error';\nimport { Skeleton } from 'antd';\nimport { useEffect, useRef, useState } from 'react';\nimport {\n  AreaHighlight,\n  Highlight,\n  IHighlight,\n  PdfHighlighter,\n  PdfLoader,\n  Popup,\n} from 'react-pdf-highlighter';\nimport { useCatchDocumentError } from './hooks';\n\nimport styles from './index.less';\n\ninterface IProps {\n  chunk: IChunk | IReferenceChunk;\n  documentId: string;\n  visible: boolean;\n}\n\nconst HighlightPopup = ({\n  comment,\n}: {\n  comment: { text: string; emoji: string };\n}) =>\n  comment.text ? (\n    <div className=\"Highlight__popup\">\n      {comment.emoji} {comment.text}\n    </div>\n  ) : null;\n\nconst DocumentPreviewer = ({ chunk, documentId, visible }: IProps) => {\n  const getDocumentUrl = useGetDocumentUrl(documentId);\n  const { highlights: state, setWidthAndHeight } = useGetChunkHighlights(chunk);\n  const ref = useRef<(highlight: IHighlight) => void>(() => {});\n  const [loaded, setLoaded] = useState(false);\n  const url = getDocumentUrl();\n  const error = useCatchDocumentError(url);\n\n  const resetHash = () => {};\n\n  useEffect(() => {\n    setLoaded(visible);\n  }, [visible]);\n\n  useEffect(() => {\n    if (state.length > 0 && loaded) {\n      setLoaded(false);\n      ref.current(state[0]);\n    }\n  }, [state, loaded]);\n\n  return (\n    <div className={styles.documentContainer}>\n      <PdfLoader\n        url={url}\n        beforeLoad={<Skeleton active />}\n        workerSrc=\"/pdfjs-dist/pdf.worker.min.js\"\n        errorMessage={<FileError>{error}</FileError>}\n      >\n        {(pdfDocument) => {\n          pdfDocument.getPage(1).then((page) => {\n            const viewport = page.getViewport({ scale: 1 });\n            const width = viewport.width;\n            const height = viewport.height;\n            setWidthAndHeight(width, height);\n          });\n\n          return (\n            <PdfHighlighter\n              pdfDocument={pdfDocument}\n              enableAreaSelection={(event) => event.altKey}\n              onScrollChange={resetHash}\n              scrollRef={(scrollTo) => {\n                ref.current = scrollTo;\n                setLoaded(true);\n              }}\n              onSelectionFinished={() => null}\n              highlightTransform={(\n                highlight,\n                index,\n                setTip,\n                hideTip,\n                viewportToScaled,\n                screenshot,\n                isScrolledTo,\n              ) => {\n                const isTextHighlight = !Boolean(\n                  highlight.content && highlight.content.image,\n                );\n\n                const component = isTextHighlight ? (\n                  <Highlight\n                    isScrolledTo={isScrolledTo}\n                    position={highlight.position}\n                    comment={highlight.comment}\n                  />\n                ) : (\n                  <AreaHighlight\n                    isScrolledTo={isScrolledTo}\n                    highlight={highlight}\n                    onChange={() => {}}\n                  />\n                );\n\n                return (\n                  <Popup\n                    popupContent={<HighlightPopup {...highlight} />}\n                    onMouseOver={(popupContent) =>\n                      setTip(highlight, () => popupContent)\n                    }\n                    onMouseOut={hideTip}\n                    key={index}\n                  >\n                    {component}\n                  </Popup>\n                );\n              }}\n              highlights={state}\n            />\n          );\n        }}\n      </PdfLoader>\n    </div>\n  );\n};\n\nexport default DocumentPreviewer;\n","import { IModalProps } from '@/interfaces/common';\nimport { IReferenceChunk } from '@/interfaces/database/chat';\nimport { IChunk } from '@/interfaces/database/knowledge';\nimport { Drawer } from 'antd';\nimport DocumentPreviewer from '../pdf-previewer';\n\ninterface IProps extends IModalProps<any> {\n  documentId: string;\n  chunk: IChunk | IReferenceChunk;\n}\n\nexport const PdfDrawer = ({\n  visible = false,\n  hideModal,\n  documentId,\n  chunk,\n}: IProps) => {\n  return (\n    <Drawer\n      title=\"Document Previewer\"\n      onClose={hideModal}\n      open={visible}\n      width={'50vw'}\n    >\n      <DocumentPreviewer\n        documentId={documentId}\n        chunk={chunk}\n        visible={visible}\n      ></DocumentPreviewer>\n    </Drawer>\n  );\n};\n\nexport default PdfDrawer;\n","import axios from 'axios';\nimport { useCallback, useEffect, useState } from 'react';\n\nexport const useCatchDocumentError = (url: string) => {\n  const [error, setError] = useState<string>('');\n\n  const fetchDocument = useCallback(async () => {\n    const { data } = await axios.get(url);\n    if (data.code !== 0) {\n      setError(data?.message);\n    }\n  }, [url]);\n  useEffect(() => {\n    fetchDocument();\n  }, [fetchDocument]);\n\n  return error;\n};\n","export const fileIconMap = {\n  aep: 'aep.svg',\n  ai: 'ai.svg',\n  avi: 'avi.svg',\n  css: 'css.svg',\n  csv: 'csv.svg',\n  dmg: 'dmg.svg',\n  doc: 'doc.svg',\n  docx: 'docx.svg',\n  eps: 'eps.svg',\n  exe: 'exe.svg',\n  fig: 'fig.svg',\n  gif: 'gif.svg',\n  html: 'html.svg',\n  indd: 'indd.svg',\n  java: 'java.svg',\n  jpeg: 'jpeg.svg',\n  jpg: 'jpg.svg',\n  js: 'js.svg',\n  json: 'json.svg',\n  mkv: 'mkv.svg',\n  mp3: 'mp3.svg',\n  mp4: 'mp4.svg',\n  mpeg: 'mpeg.svg',\n  pdf: 'pdf.svg',\n  png: 'png.svg',\n  ppt: 'ppt.svg',\n  pptx: 'pptx.svg',\n  psd: 'psd.svg',\n  rss: 'rss.svg',\n  sql: 'sql.svg',\n  svg: 'svg.svg',\n  tiff: 'tiff.svg',\n  txt: 'txt.svg',\n  wav: 'wav.svg',\n  webp: 'webp.svg',\n  xls: 'xls.svg',\n  xlsx: 'xlsx.svg',\n  xml: 'xml.svg',\n};\n\nexport const LanguageList = [\n  'English',\n  'Other_language',\n  /*'Chinese',\n  'Traditional Chinese',\n  'Indonesia',\n  'Spanish',\n  'Vietnamese',\n  'Japanese',\n  'Portuguese BR',*/\n];\n\nexport const LanguageMap = {\n  English: 'English',\n  Other_language: 'Lang 2'\n /*  'Traditional Chinese': '',\n  Indonesia: 'Indonesia',\n  Spanish: 'Espaol',\n  Vietnamese: 'Ting vit',\n  Japanese: '',\n  'Portuguese BR': 'Portugus BR',*/\n};\n\nexport const LanguageTranslationMap = {\n  English: 'en',\n  Chinese: 'zh',\n  'Traditional Chinese': 'zh-TRADITIONAL',\n  Indonesia: 'id',\n  Spanish: 'es',\n  Vietnamese: 'vi',\n  Japanese: 'ja',\n  'Portuguese BR': 'pt-br',\n};\n\nexport enum FileMimeType {\n  Bmp = 'image/bmp',\n  Csv = 'text/csv',\n  Odt = 'application/vnd.oasis.opendocument.text',\n  Doc = 'application/msword',\n  Docx = 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n  Gif = 'image/gif',\n  Htm = 'text/htm',\n  Html = 'text/html',\n  Jpg = 'image/jpg',\n  Jpeg = 'image/jpeg',\n  Pdf = 'application/pdf',\n  Png = 'image/png',\n  Ppt = 'application/vnd.ms-powerpoint',\n  Pptx = 'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n  Tiff = 'image/tiff',\n  Txt = 'text/plain',\n  Xls = 'application/vnd.ms-excel',\n  Xlsx = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n  Mp4 = 'video/mp4',\n  Json = 'application/json',\n}\n\nexport const Domain = 'demo.ragflow.io';\n\n//#region file preview\nexport const Images = [\n  'jpg',\n  'jpeg',\n  'png',\n  'gif',\n  'bmp',\n  'tif',\n  'tiff',\n  'webp',\n  // 'svg',\n  'ico',\n];\n\n// Without FileViewer\nexport const ExceptiveType = ['xlsx', 'xls', 'pdf', 'docx', ...Images];\n\nexport const SupportedPreviewDocumentTypes = [...ExceptiveType];\n//#endregion\n","import { LanguageTranslationMap } from '@/constants/common';\nimport { ResponseGetType } from '@/interfaces/database/base';\nimport { IToken } from '@/interfaces/database/chat';\nimport { ITenantInfo } from '@/interfaces/database/knowledge';\nimport {\n  ISystemStatus,\n  ITenant,\n  ITenantUser,\n  IUserInfo,\n} from '@/interfaces/database/user-setting';\nimport userService, {\n  addTenantUser,\n  agreeTenant,\n  deleteTenantUser,\n  listTenant,\n  listTenantUser,\n} from '@/services/user-service';\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport { Modal, message } from 'antd';\nimport DOMPurify from 'dompurify';\nimport { isEmpty } from 'lodash';\nimport { useCallback, useMemo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { history } from 'umi';\n\nexport const useFetchUserInfo = (): ResponseGetType<IUserInfo> => {\n  const { i18n } = useTranslation();\n\n  const { data, isFetching: loading } = useQuery({\n    queryKey: ['userInfo'],\n    initialData: {},\n    gcTime: 0,\n    queryFn: async () => {\n      const { data } = await userService.user_info();\n      if (data.code === 0) {\n        i18n.changeLanguage(\n          LanguageTranslationMap[\n            data.data.language as keyof typeof LanguageTranslationMap\n          ],\n        );\n      }\n      return data?.data ?? {};\n    },\n  });\n\n  return { data, loading };\n};\n\nexport const useFetchTenantInfo = (\n  showEmptyModelWarn = false,\n): ResponseGetType<ITenantInfo> => {\n  const { t } = useTranslation();\n  const { data, isFetching: loading } = useQuery({\n    queryKey: ['tenantInfo'],\n    initialData: {},\n    gcTime: 0,\n    queryFn: async () => {\n      const { data: res } = await userService.get_tenant_info();\n      if (res.code === 0) {\n        // llm_id is chat_id\n        // asr_id is speech2txt\n        const { data } = res;\n        if (\n          showEmptyModelWarn &&\n          (isEmpty(data.embd_id) || isEmpty(data.llm_id))\n        ) {\n          /*Modal.warning({\n            title: t('common.warn'),\n            content: (\n              <div\n                dangerouslySetInnerHTML={{\n                  __html: DOMPurify.sanitize(t('setting.modelProvidersWarn')),\n                }}\n              ></div>\n            ),\n            onOk() {\n              history.push('/user-setting/model');\n            },\n          });*/\n        }\n        data.chat_id = data.llm_id;\n        data.speech2text_id = data.asr_id;\n\n        return data;\n      }\n\n      return res;\n    },\n  });\n\n  return { data, loading };\n};\n\nexport const useSelectParserList = (): Array<{\n  value: string;\n  label: string;\n}> => {\n  const { data: tenantInfo } = useFetchTenantInfo(true);\n\n  const parserList = useMemo(() => {\n    const parserArray: Array<string> = tenantInfo?.parser_ids?.split(',') ?? [];\n    return parserArray.map((x) => {\n      const arr = x.split(':');\n      return { value: arr[0], label: arr[1] };\n    });\n  }, [tenantInfo]);\n\n  return parserList;\n};\n\nexport const useSaveSetting = () => {\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['saveSetting'],\n    mutationFn: async (\n      userInfo: { new_password: string } | Partial<IUserInfo>,\n    ) => {\n      const { data } = await userService.setting(userInfo);\n      if (data.code === 0) {\n        message.success(t('message.modified'));\n        queryClient.invalidateQueries({ queryKey: ['userInfo'] });\n      }\n      return data?.code;\n    },\n  });\n\n  return { data, loading, saveSetting: mutateAsync };\n};\n\nexport const useFetchSystemVersion = () => {\n  const [version, setVersion] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const fetchSystemVersion = useCallback(async () => {\n    try {\n      setLoading(true);\n      const { data } = await userService.getSystemVersion();\n      if (data.code === 0) {\n        setVersion(data.data);\n        setLoading(false);\n      }\n    } catch (error) {\n      setLoading(false);\n    }\n  }, []);\n\n  return { fetchSystemVersion, version, loading };\n};\n\nexport const useFetchSystemStatus = () => {\n  const [systemStatus, setSystemStatus] = useState<ISystemStatus>(\n    {} as ISystemStatus,\n  );\n  const [loading, setLoading] = useState(false);\n\n  const fetchSystemStatus = useCallback(async () => {\n    setLoading(true);\n    const { data } = await userService.getSystemStatus();\n    if (data.code === 0) {\n      setSystemStatus(data.data);\n      setLoading(false);\n    }\n  }, []);\n\n  return {\n    systemStatus,\n    fetchSystemStatus,\n    loading,\n  };\n};\n\nexport const useFetchManualSystemTokenList = () => {\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['fetchManualSystemTokenList'],\n    mutationFn: async () => {\n      const { data } = await userService.listToken();\n\n      return data?.data ?? [];\n    },\n  });\n\n  return { data, loading, fetchSystemTokenList: mutateAsync };\n};\n\nexport const useFetchSystemTokenList = () => {\n  const {\n    data,\n    isFetching: loading,\n    refetch,\n  } = useQuery<IToken[]>({\n    queryKey: ['fetchSystemTokenList'],\n    initialData: [],\n    gcTime: 0,\n    queryFn: async () => {\n      const { data } = await userService.listToken();\n\n      return data?.data ?? [];\n    },\n  });\n\n  return { data, loading, refetch };\n};\n\nexport const useRemoveSystemToken = () => {\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['removeSystemToken'],\n    mutationFn: async (token: string) => {\n      const { data } = await userService.removeToken({}, token);\n      if (data.code === 0) {\n        message.success(t('message.deleted'));\n        queryClient.invalidateQueries({ queryKey: ['fetchSystemTokenList'] });\n      }\n      return data?.data ?? [];\n    },\n  });\n\n  return { data, loading, removeToken: mutateAsync };\n};\n\nexport const useCreateSystemToken = () => {\n  const queryClient = useQueryClient();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['createSystemToken'],\n    mutationFn: async (params: Record<string, any>) => {\n      const { data } = await userService.createToken(params);\n      if (data.code === 0) {\n        queryClient.invalidateQueries({ queryKey: ['fetchSystemTokenList'] });\n      }\n      return data?.data ?? [];\n    },\n  });\n\n  return { data, loading, createToken: mutateAsync };\n};\n\nexport const useListTenantUser = () => {\n  const { data: tenantInfo } = useFetchTenantInfo();\n  const tenantId = tenantInfo.tenant_id;\n  const {\n    data,\n    isFetching: loading,\n    refetch,\n  } = useQuery<ITenantUser[]>({\n    queryKey: ['listTenantUser', tenantId],\n    initialData: [],\n    gcTime: 0,\n    enabled: !!tenantId,\n    queryFn: async () => {\n      const { data } = await listTenantUser(tenantId);\n\n      return data?.data ?? [];\n    },\n  });\n\n  return { data, loading, refetch };\n};\n\nexport const useAddTenantUser = () => {\n  const { data: tenantInfo } = useFetchTenantInfo();\n  const queryClient = useQueryClient();\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['addTenantUser'],\n    mutationFn: async (email: string) => {\n      const { data } = await addTenantUser(tenantInfo.tenant_id, email);\n      if (data.code === 0) {\n        queryClient.invalidateQueries({ queryKey: ['listTenantUser'] });\n      }\n      return data?.code;\n    },\n  });\n\n  return { data, loading, addTenantUser: mutateAsync };\n};\n\nexport const useDeleteTenantUser = () => {\n  const { data: tenantInfo } = useFetchTenantInfo();\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['deleteTenantUser'],\n    mutationFn: async ({\n      userId,\n      tenantId,\n    }: {\n      userId: string;\n      tenantId?: string;\n    }) => {\n      const { data } = await deleteTenantUser({\n        tenantId: tenantId ?? tenantInfo.tenant_id,\n        userId,\n      });\n      if (data.code === 0) {\n        message.success(t('message.deleted'));\n        queryClient.invalidateQueries({ queryKey: ['listTenantUser'] });\n        queryClient.invalidateQueries({ queryKey: ['listTenant'] });\n      }\n      return data?.data ?? [];\n    },\n  });\n\n  return { data, loading, deleteTenantUser: mutateAsync };\n};\n\nexport const useListTenant = () => {\n  const { data: tenantInfo } = useFetchTenantInfo();\n  const tenantId = tenantInfo.tenant_id;\n  const {\n    data,\n    isFetching: loading,\n    refetch,\n  } = useQuery<ITenant[]>({\n    queryKey: ['listTenant', tenantId],\n    initialData: [],\n    gcTime: 0,\n    enabled: !!tenantId,\n    queryFn: async () => {\n      const { data } = await listTenant();\n\n      return data?.data ?? [];\n    },\n  });\n\n  return { data, loading, refetch };\n};\n\nexport const useAgreeTenant = () => {\n  const queryClient = useQueryClient();\n  const { t } = useTranslation();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['agreeTenant'],\n    mutationFn: async (tenantId: string) => {\n      const { data } = await agreeTenant(tenantId);\n      if (data.code === 0) {\n        message.success(t('message.operated'));\n        queryClient.invalidateQueries({ queryKey: ['listTenant'] });\n      }\n      return data?.data ?? [];\n    },\n  });\n\n  return { data, loading, agreeTenant: mutateAsync };\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"referencePopoverWrapper\":\"referencePopoverWrapper___rn9A6\",\"referenceChunkImage\":\"referenceChunkImage___LoR67\",\"referenceImagePreview\":\"referenceImagePreview___kcQgd\",\"chunkContentText\":\"chunkContentText___vcP0P\",\"documentLink\":\"documentLink___USud0\",\"referenceIcon\":\"referenceIcon___g5Mgk\",\"cursor\":\"cursor___rRuWB\",\"blink\":\"blink___BYl7u\",\"fileThumbnail\":\"fileThumbnail___BzBir\"};","import Image from '@/components/image';\nimport SvgIcon from '@/components/svg-icon';\nimport { IReference, IReferenceChunk } from '@/interfaces/database/chat';\nimport { getExtension } from '@/utils/document-util';\nimport { InfoCircleOutlined } from '@ant-design/icons';\nimport { Button, Flex, Popover, Space } from 'antd';\nimport DOMPurify from 'dompurify';\nimport { useCallback, useEffect, useMemo } from 'react';\nimport Markdown from 'react-markdown';\nimport reactStringReplace from 'react-string-replace';\nimport SyntaxHighlighter from 'react-syntax-highlighter';\nimport rehypeKatex from 'rehype-katex';\nimport rehypeRaw from 'rehype-raw';\nimport remarkGfm from 'remark-gfm';\nimport remarkMath from 'remark-math';\nimport { visitParents } from 'unist-util-visit-parents';\n\nimport { useFetchDocumentThumbnailsByIds } from '@/hooks/document-hooks';\nimport { useTranslation } from 'react-i18next';\n\nimport 'katex/dist/katex.min.css'; // `rehype-katex` does not import the CSS for you\n\nimport { preprocessLaTeX } from '@/utils/chat';\nimport { replaceTextByOldReg } from '../utils';\n\nimport styles from './index.less';\n\nconst reg = /(~{2}\\d+={2})/g;\nconst curReg = /(~{2}\\d+\\${2})/g;\n\nconst getChunkIndex = (match: string) => Number(match.slice(2, -2));\n// TODO: The display of the table is inconsistent with the display previously placed in the MessageItem.\nconst MarkdownContent = ({\n  reference,\n  clickDocumentButton,\n  content,\n  loading,\n}: {\n  content: string;\n  loading: boolean;\n  reference: IReference;\n  clickDocumentButton?: (documentId: string, chunk: IReferenceChunk) => void;\n}) => {\n  const { t } = useTranslation();\n  const { setDocumentIds, data: fileThumbnails } =\n    useFetchDocumentThumbnailsByIds();\n  const contentWithCursor = useMemo(() => {\n    let text = content;\n    if (text === '') {\n      text = t('chat.searching');\n    }\n    const nextText = replaceTextByOldReg(text);\n    return loading ? nextText?.concat('~~2$$') : preprocessLaTeX(nextText);\n  }, [content, loading, t]);\n\n  useEffect(() => {\n    const docAggs = reference?.doc_aggs;\n    setDocumentIds(Array.isArray(docAggs) ? docAggs.map((x) => x.doc_id) : []);\n  }, [reference, setDocumentIds]);\n\n  const handleDocumentButtonClick = useCallback(\n    (documentId: string, chunk: IReferenceChunk, isPdf: boolean) => () => {\n      if (!isPdf) {\n        return;\n      }\n      clickDocumentButton?.(documentId, chunk);\n    },\n    [clickDocumentButton],\n  );\n\n  const rehypeWrapReference = () => {\n    return function wrapTextTransform(tree: any) {\n      visitParents(tree, 'text', (node, ancestors) => {\n        const latestAncestor = ancestors.at(-1);\n        if (\n          latestAncestor.tagName !== 'custom-typography' &&\n          latestAncestor.tagName !== 'code'\n        ) {\n          node.type = 'element';\n          node.tagName = 'custom-typography';\n          node.properties = {};\n          node.children = [{ type: 'text', value: node.value }];\n        }\n      });\n    };\n  };\n\n  const getPopoverContent = useCallback(\n    (chunkIndex: number) => {\n      const chunks = reference?.chunks ?? [];\n      const chunkItem = chunks[chunkIndex];\n      const document = reference?.doc_aggs?.find(\n        (x) => x?.doc_id === chunkItem?.document_id,\n      );\n      const documentId = document?.doc_id;\n      const fileThumbnail = documentId ? fileThumbnails[documentId] : '';\n      const fileExtension = documentId ? getExtension(document?.doc_name) : '';\n      const imageId = chunkItem?.image_id;\n      return (\n        <Flex\n          key={chunkItem?.id}\n          gap={10}\n          className={styles.referencePopoverWrapper}\n        >\n          {imageId && (\n            <Popover\n              placement=\"left\"\n              content={\n                <Image\n                  id={imageId}\n                  className={styles.referenceImagePreview}\n                ></Image>\n              }\n            >\n              <Image\n                id={imageId}\n                className={styles.referenceChunkImage}\n              ></Image>\n            </Popover>\n          )}\n          <Space direction={'vertical'}>\n            <div\n              dangerouslySetInnerHTML={{\n                __html: DOMPurify.sanitize(chunkItem?.content ?? ''),\n              }}\n              className={styles.chunkContentText}\n            ></div>\n            {documentId && (\n              <Flex gap={'small'}>\n                {fileThumbnail ? (\n                  <img\n                    src={fileThumbnail}\n                    alt=\"\"\n                    className={styles.fileThumbnail}\n                  />\n                ) : (\n                  <SvgIcon\n                    name={`file-icon/${fileExtension}`}\n                    width={24}\n                  ></SvgIcon>\n                )}\n                <Button\n                  type=\"link\"\n                  className={styles.documentLink}\n                  onClick={handleDocumentButtonClick(\n                    documentId,\n                    chunkItem,\n                    fileExtension === 'pdf',\n                  )}\n                >\n                  {document?.doc_name}\n                </Button>\n              </Flex>\n            )}\n          </Space>\n        </Flex>\n      );\n    },\n    [reference, fileThumbnails, handleDocumentButtonClick],\n  );\n\n  const renderReference = useCallback(\n    (text: string) => {\n      let replacedText = reactStringReplace(text, reg, (match, i) => {\n        const chunkIndex = getChunkIndex(match);\n        return (\n          <Popover content={getPopoverContent(chunkIndex)} key={i}>\n            <InfoCircleOutlined className={styles.referenceIcon} />\n          </Popover>\n        );\n      });\n\n      replacedText = reactStringReplace(replacedText, curReg, (match, i) => (\n        <span className={styles.cursor} key={i}></span>\n      ));\n\n      return replacedText;\n    },\n    [getPopoverContent],\n  );\n\n  return (\n    <Markdown\n      rehypePlugins={[rehypeWrapReference, rehypeKatex, rehypeRaw]}\n      remarkPlugins={[remarkGfm, remarkMath]}\n      components={\n        {\n          'custom-typography': ({ children }: { children: string }) =>\n            renderReference(children),\n          code(props: any) {\n            const { children, className, node, ...rest } = props;\n            const match = /language-(\\w+)/.exec(className || '');\n            return match ? (\n              <SyntaxHighlighter {...rest} PreTag=\"div\" language={match[1]}>\n                {String(children).replace(/\\n$/, '')}\n              </SyntaxHighlighter>\n            ) : (\n              <code {...rest} className={className}>\n                {children}\n              </code>\n            );\n          },\n        } as any\n      }\n    >\n      {contentWithCursor}\n    </Markdown>\n  );\n};\n\nexport default MarkdownContent;\n","import { MessageType } from '@/constants/chat';\nimport { IConversation, IReference } from '@/interfaces/database/chat';\nimport { isEmpty } from 'lodash';\nimport { EmptyConversationId } from './constants';\nimport { IMessage } from './interface';\n\nexport const isConversationIdExist = (conversationId: string) => {\n  return conversationId !== EmptyConversationId && conversationId !== '';\n};\n\nexport const getDocumentIdsFromConversionReference = (data: IConversation) => {\n  const documentIds = data.reference.reduce(\n    (pre: Array<string>, cur: IReference) => {\n      cur.doc_aggs\n        ?.map((x) => x.doc_id)\n        .forEach((x) => {\n          if (pre.every((y) => y !== x)) {\n            pre.push(x);\n          }\n        });\n      return pre;\n    },\n    [],\n  );\n  return documentIds.join(',');\n};\n\nexport const buildMessageItemReference = (\n  conversation: { message: IMessage[]; reference: IReference[] },\n  message: IMessage,\n) => {\n  const assistantMessages = conversation.message\n    ?.filter((x) => x.role === MessageType.Assistant)\n    .slice(1);\n  const referenceIndex = assistantMessages.findIndex(\n    (x) => x.id === message.id,\n  );\n  const reference = !isEmpty(message?.reference)\n    ? message?.reference\n    : (conversation?.reference ?? [])[referenceIndex];\n\n  return reference ?? { doc_aggs: [], chunks: [], total: 0 };\n};\n\nconst oldReg = /(#{2}\\d+\\${2})/g;\n\n// To be compatible with the old index matching mode\nexport const replaceTextByOldReg = (text: string) => {\n  return text.replace(oldReg, function (substring) {\n    return `~~${substring.slice(2, -2)}==`;\n  });\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"errorWrapper\":\"errorWrapper___QfVXQ\"};","import { Alert, Flex } from 'antd';\n\nimport { useTranslate } from '@/hooks/common-hooks';\nimport React from 'react';\nimport styles from './index.less';\n\nconst FileError = ({ children }: React.PropsWithChildren) => {\n  const { t } = useTranslate('fileManager');\n  return (\n    <Flex align=\"center\" justify=\"center\" className={styles.errorWrapper}>\n      <Alert\n        type=\"error\"\n        message={<h2>{children || t('fileError')}</h2>}\n      ></Alert>\n    </Flex>\n  );\n};\n\nexport default FileError;\n","import NewDocumentLink from '@/components/new-document-link';\nimport { useTranslate } from '@/hooks/common-hooks';\nimport { useSelectTestingResult } from '@/hooks/knowledge-hooks';\nimport { ITestingDocument } from '@/interfaces/database/knowledge';\nimport { EyeOutlined } from '@ant-design/icons';\nimport { Button, Table, TableProps, Tooltip } from 'antd';\n\ninterface IProps {\n  handleTesting: (ids: string[]) => void;\n  setSelectedDocumentIds: (ids: string[]) => void;\n}\n\nconst SelectFiles = ({ setSelectedDocumentIds, handleTesting }: IProps) => {\n  const { documents } = useSelectTestingResult();\n  const { t } = useTranslate('fileManager');\n\n  const columns: TableProps<ITestingDocument>['columns'] = [\n    {\n      title: 'Name',\n      dataIndex: 'doc_name',\n      key: 'doc_name',\n      render: (text) => <p>{text}</p>,\n    },\n\n    {\n      title: 'Hits',\n      dataIndex: 'count',\n      key: 'count',\n      width: 80,\n    },\n    {\n      title: 'View',\n      key: 'view',\n      width: 50,\n      render: (_, { doc_id, doc_name }) => (\n        <NewDocumentLink\n          documentName={doc_name}\n          documentId={doc_id}\n          prefix=\"document\"\n        >\n          <Tooltip title={t('preview')}>\n            <Button type=\"text\">\n              <EyeOutlined size={20} />\n            </Button>\n          </Tooltip>\n        </NewDocumentLink>\n      ),\n    },\n  ];\n\n  const rowSelection = {\n    onChange: (selectedRowKeys: React.Key[]) => {\n      handleTesting(selectedRowKeys as string[]);\n      setSelectedDocumentIds(selectedRowKeys as string[]);\n    },\n    getCheckboxProps: (record: ITestingDocument) => ({\n      disabled: record.doc_name === 'Disabled User', // Column configuration not to be checked\n      name: record.doc_name,\n    }),\n  };\n\n  return (\n    <Table\n      columns={columns}\n      dataSource={documents}\n      showHeader={false}\n      rowSelection={rowSelection}\n      rowKey={'doc_id'}\n    />\n  );\n};\n\nexport default SelectFiles;\n","// extracted by mini-css-extract-plugin\nexport default {\"selectFilesCollapse\":\"selectFilesCollapse___tHbPt\",\"selectFilesTitle\":\"selectFilesTitle___OKrhv\"};","import { ReactComponent as SelectedFilesCollapseIcon } from '@/assets/svg/selected-files-collapse.svg';\nimport { Collapse, Flex, Space } from 'antd';\nimport SelectFiles from './select-files';\n\nimport { useSelectTestingResult } from '@/hooks/knowledge-hooks';\nimport { useTranslation } from 'react-i18next';\nimport styles from './index.less';\n\ninterface IProps {\n  onTesting(documentIds: string[]): void;\n  setSelectedDocumentIds(documentIds: string[]): void;\n  selectedDocumentIds: string[];\n}\n\nconst RetrievalDocuments = ({\n  onTesting,\n  selectedDocumentIds,\n  setSelectedDocumentIds,\n}: IProps) => {\n  const { t } = useTranslation();\n  const { documents } = useSelectTestingResult();\n\n  return (\n    <Collapse\n      expandIcon={() => <SelectedFilesCollapseIcon></SelectedFilesCollapseIcon>}\n      className={styles.selectFilesCollapse}\n      items={[\n        {\n          key: '1',\n          label: (\n            <Flex\n              justify={'space-between'}\n              align=\"center\"\n              className={styles.selectFilesTitle}\n            >\n              <Space>\n                <span>\n                  {selectedDocumentIds?.length ?? 0}/{documents?.length ?? 0}\n                </span>\n                {t('knowledgeDetails.filesSelected')}\n              </Space>\n            </Flex>\n          ),\n          children: (\n            <div>\n              <SelectFiles\n                setSelectedDocumentIds={setSelectedDocumentIds}\n                handleTesting={onTesting}\n              ></SelectFiles>\n            </div>\n          ),\n        },\n      ]}\n    />\n  );\n};\n\nexport default RetrievalDocuments;\n","// extracted by mini-css-extract-plugin\nexport default {\"searchPage\":\"searchPage___TO5ok\",\"card\":\"card___scTJ7\",\"tag\":\"tag___F3dia\",\"searchSide\":\"searchSide___Ur4mG\",\"modelForm\":\"modelForm___v4GJN\",\"checkGroup\":\"checkGroup___YVVws\",\"list\":\"list___FBGDW\",\"checkbox\":\"checkbox___CWAZR\",\"knowledgeName\":\"knowledgeName___pQK8r\",\"embeddingId\":\"embeddingId___yxVE4\",\"firstRenderContent\":\"firstRenderContent___kYeDC\",\"content\":\"content___FJSce\",\"hide\":\"hide___d1U6O\",\"main\":\"main___G4gQT\",\"highlightContent\":\"highlightContent___GkhyP\",\"documentReference\":\"documentReference___Bj5k4\",\"pagination\":\"pagination___EGLXC\",\"answerWrapper\":\"answerWrapper___EIJcg\",\"globalInput\":\"globalInput___jG4B8\",\"partialInput\":\"partialInput___kQwzQ\",\"appIcon\":\"appIcon____OfF0\",\"appName\":\"appName___JGWuY\",\"textclip\":\"textclip___AoVgw\",\"popupMarkdown\":\"popupMarkdown___Zggfc\",\"mindMapFloatButton\":\"mindMapFloatButton___GL1ZJ\"};","import IndentedTree from '@/components/indented-tree/indented-tree';\nimport { IModalProps } from '@/interfaces/common';\nimport { Drawer, Flex, Progress } from 'antd';\nimport { useTranslation } from 'react-i18next';\nimport { usePendingMindMap } from './hooks';\n\ninterface IProps extends IModalProps<any> {\n  data: any;\n}\n\nconst MindMapDrawer = ({ data, hideModal, visible, loading }: IProps) => {\n  const { t } = useTranslation();\n  const percent = usePendingMindMap();\n  return (\n    <Drawer\n      title={t('chunk.mind')}\n      onClose={hideModal}\n      open={visible}\n      width={'40vw'}\n    >\n      {loading ? (\n        <Flex justify=\"center\">\n          <Progress type=\"circle\" percent={percent} size={200} />\n        </Flex>\n      ) : (\n        <IndentedTree\n          data={data}\n          show\n          style={{ width: '100%', height: '100%' }}\n        ></IndentedTree>\n      )}\n    </Drawer>\n  );\n};\n\nexport default MindMapDrawer;\n","import { useFetchMindMap, useFetchRelatedQuestions } from '@/hooks/chat-hooks';\nimport { useSetModalState } from '@/hooks/common-hooks';\nimport { useTestChunkRetrieval } from '@/hooks/knowledge-hooks';\nimport {\n  useGetPaginationWithRouter,\n  useSendMessageWithSse,\n} from '@/hooks/logic-hooks';\nimport { IAnswer } from '@/interfaces/database/chat';\nimport api from '@/utils/api';\nimport { get, isEmpty, isEqual, trim } from 'lodash';\nimport {\n  ChangeEventHandler,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\n\nexport const useSendQuestion = (kbIds: string[]) => {\n  const { send, answer, done } = useSendMessageWithSse(api.ask);\n  const { testChunk, loading } = useTestChunkRetrieval();\n  const [sendingLoading, setSendingLoading] = useState(false);\n  const [currentAnswer, setCurrentAnswer] = useState({} as IAnswer);\n  const { fetchRelatedQuestions, data: relatedQuestions } =\n    useFetchRelatedQuestions();\n  const [searchStr, setSearchStr] = useState<string>('');\n  const [isFirstRender, setIsFirstRender] = useState(true);\n  const [selectedDocumentIds, setSelectedDocumentIds] = useState<string[]>([]);\n\n  const { pagination, setPagination } = useGetPaginationWithRouter();\n\n  const sendQuestion = useCallback(\n    (question: string) => {\n      const q = trim(question);\n      if (isEmpty(q)) return;\n      setPagination({ page: 1 });\n      setIsFirstRender(false);\n      setCurrentAnswer({} as IAnswer);\n      setSendingLoading(true);\n      send({ kb_ids: kbIds, question: q });\n      testChunk({\n        kb_id: kbIds,\n        highlight: true,\n        question: q,\n        page: 1,\n        size: pagination.pageSize,\n      });\n\n      fetchRelatedQuestions(q);\n    },\n    [\n      send,\n      testChunk,\n      kbIds,\n      fetchRelatedQuestions,\n      setPagination,\n      pagination.pageSize,\n    ],\n  );\n\n  const handleSearchStrChange: ChangeEventHandler<HTMLInputElement> =\n    useCallback((e) => {\n      setSearchStr(e.target.value);\n    }, []);\n\n  const handleClickRelatedQuestion = useCallback(\n    (question: string) => () => {\n      if (sendingLoading) return;\n\n      setSearchStr(question);\n      sendQuestion(question);\n    },\n    [sendQuestion, sendingLoading],\n  );\n\n  const handleTestChunk = useCallback(\n    (documentIds: string[], page: number = 1, size: number = 10) => {\n      const q = trim(searchStr);\n      if (sendingLoading || isEmpty(q)) return;\n\n      testChunk({\n        kb_id: kbIds,\n        highlight: true,\n        question: q,\n        doc_ids: documentIds ?? selectedDocumentIds,\n        page,\n        size,\n      });\n    },\n    [sendingLoading, searchStr, kbIds, testChunk, selectedDocumentIds],\n  );\n\n  useEffect(() => {\n    if (!isEmpty(answer)) {\n      setCurrentAnswer(answer);\n    }\n  }, [answer]);\n\n  useEffect(() => {\n    if (done) {\n      setSendingLoading(false);\n    }\n  }, [done]);\n\n  return {\n    sendQuestion,\n    handleSearchStrChange,\n    handleClickRelatedQuestion,\n    handleTestChunk,\n    setSelectedDocumentIds,\n    loading,\n    sendingLoading,\n    answer: currentAnswer,\n    relatedQuestions: relatedQuestions?.slice(0, 5) ?? [],\n    searchStr,\n    isFirstRender,\n    selectedDocumentIds,\n    isSearchStrEmpty: isEmpty(trim(searchStr)),\n  };\n};\n\nexport const useFetchBackgroundImage = () => {\n  const [imgUrl, setImgUrl] = useState<string>('');\n\n  const fetchImage = useCallback(async () => {\n    try {\n      const res = await fetch(\n        '/HPImageArchive.aspx?format=js&idx=0&n=1&mkt=zh-CN',\n      );\n      const ret = await res.json();\n      const url = get(ret, 'images.0.url');\n      if (url) {\n        setImgUrl(url);\n      }\n    } catch (error) {\n      console.log(' ~ fetchImage ~ error:', error);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchImage();\n  }, [fetchImage]);\n\n  return `https://cn.bing.com${imgUrl}`;\n};\n\nexport const useTestRetrieval = (\n  kbIds: string[],\n  searchStr: string,\n  sendingLoading: boolean,\n) => {\n  const { testChunk, loading } = useTestChunkRetrieval();\n  const { pagination } = useGetPaginationWithRouter();\n\n  const [selectedDocumentIds, setSelectedDocumentIds] = useState<string[]>([]);\n\n  const handleTestChunk = useCallback(() => {\n    const q = trim(searchStr);\n    if (sendingLoading || isEmpty(q)) return;\n\n    testChunk({\n      kb_id: kbIds,\n      highlight: true,\n      question: q,\n      doc_ids: Array.isArray(selectedDocumentIds) ? selectedDocumentIds : [],\n      page: pagination.current,\n      size: pagination.pageSize,\n    });\n  }, [\n    sendingLoading,\n    searchStr,\n    kbIds,\n    testChunk,\n    selectedDocumentIds,\n    pagination,\n  ]);\n\n  useEffect(() => {\n    handleTestChunk();\n  }, [handleTestChunk]);\n\n  return {\n    loading,\n    selectedDocumentIds,\n    setSelectedDocumentIds,\n  };\n};\n\nexport const useShowMindMapDrawer = (kbIds: string[], question: string) => {\n  const { visible, showModal, hideModal } = useSetModalState();\n  const ref = useRef<any>();\n\n  const {\n    fetchMindMap,\n    data: mindMap,\n    loading: mindMapLoading,\n  } = useFetchMindMap();\n\n  const handleShowModal = useCallback(() => {\n    const searchParams = { question: trim(question), kb_ids: kbIds };\n    if (\n      !isEmpty(searchParams.question) &&\n      !isEqual(searchParams, ref.current)\n    ) {\n      ref.current = searchParams;\n      fetchMindMap(searchParams);\n    }\n    showModal();\n  }, [fetchMindMap, showModal, question, kbIds]);\n\n  return {\n    mindMap,\n    mindMapVisible: visible,\n    mindMapLoading,\n    showMindMapModal: handleShowModal,\n    hideMindMapModal: hideModal,\n  };\n};\n\nexport const usePendingMindMap = () => {\n  const [count, setCount] = useState<number>(0);\n  const ref = useRef<NodeJS.Timeout>();\n\n  const setCountInterval = useCallback(() => {\n    ref.current = setInterval(() => {\n      setCount((pre) => {\n        if (pre > 40) {\n          clearInterval(ref?.current);\n        }\n        return pre + 1;\n      });\n    }, 1000);\n  }, []);\n\n  useEffect(() => {\n    setCountInterval();\n    return () => {\n      clearInterval(ref?.current);\n    };\n  }, [setCountInterval]);\n\n  return Number(((count / 43) * 100).toFixed(0));\n};\n","import { useFetchKnowledgeList } from '@/hooks/knowledge-hooks';\nimport { UserOutlined } from '@ant-design/icons';\nimport type { TreeDataNode, TreeProps } from 'antd';\nimport { Avatar, Layout, Space, Spin, Tree, Typography } from 'antd';\nimport classNames from 'classnames';\nimport {\n  Dispatch,\n  SetStateAction,\n  useCallback,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react';\n\nimport styles from './index.less';\n\nconst { Sider } = Layout;\n\ninterface IProps {\n  isFirstRender: boolean;\n  checkedList: string[];\n  setCheckedList: Dispatch<SetStateAction<string[]>>;\n}\n\nconst SearchSidebar = ({\n  isFirstRender,\n  checkedList,\n  setCheckedList,\n}: IProps) => {\n  const { list, loading } = useFetchKnowledgeList();\n\n  const groupedList = useMemo(() => {\n    return list.reduce((pre: TreeDataNode[], cur) => {\n      const parentItem = pre.find((x) => x.key === cur.embd_id);\n      const childItem: TreeDataNode = {\n        title: cur.name,\n        key: cur.id,\n        isLeaf: true,\n      };\n      if (parentItem) {\n        parentItem.children?.push(childItem);\n      } else {\n        pre.push({\n          title: cur.embd_id,\n          key: cur.embd_id,\n          isLeaf: false,\n          children: [childItem],\n        });\n      }\n\n      return pre;\n    }, []);\n  }, [list]);\n\n  const [expandedKeys, setExpandedKeys] = useState<React.Key[]>([]);\n  const [selectedKeys, setSelectedKeys] = useState<React.Key[]>([]);\n  const [autoExpandParent, setAutoExpandParent] = useState<boolean>(true);\n\n  const onExpand: TreeProps['onExpand'] = (expandedKeysValue) => {\n    // if not set autoExpandParent to false, if children expanded, parent can not collapse.\n    // or, you can remove all expanded children keys.\n    setExpandedKeys(expandedKeysValue);\n    setAutoExpandParent(false);\n  };\n\n  const onCheck: TreeProps['onCheck'] = (checkedKeysValue, info) => {\n    console.log('onCheck', checkedKeysValue, info);\n    const currentCheckedKeysValue = checkedKeysValue as string[];\n\n    let nextSelectedKeysValue: string[] = [];\n    const { isLeaf, checked, key, children } = info.node;\n    if (isLeaf) {\n      const item = list.find((x) => x.id === key);\n      if (!checked) {\n        const embeddingIds = currentCheckedKeysValue\n          .filter((x) => list.some((y) => y.id === x))\n          .map((x) => list.find((y) => y.id === x)?.embd_id);\n\n        if (embeddingIds.some((x) => x !== item?.embd_id)) {\n          nextSelectedKeysValue = [key as string];\n        } else {\n          nextSelectedKeysValue = currentCheckedKeysValue;\n        }\n      } else {\n        nextSelectedKeysValue = currentCheckedKeysValue;\n      }\n    } else {\n      if (!checked) {\n        nextSelectedKeysValue = [\n          key as string,\n          ...(children?.map((x) => x.key as string) ?? []),\n        ];\n      } else {\n        nextSelectedKeysValue = [];\n      }\n    }\n\n    setCheckedList(nextSelectedKeysValue);\n  };\n\n  const onSelect: TreeProps['onSelect'] = (selectedKeysValue, info) => {\n    console.log('onSelect', info);\n\n    setSelectedKeys(selectedKeysValue);\n  };\n\n  const renderTitle = useCallback(\n    (node: TreeDataNode) => {\n      const item = list.find((x) => x.id === node.key);\n      return (\n        <Space>\n          {node.isLeaf && (\n            <Avatar size={24} icon={<UserOutlined />} src={item?.avatar} />\n          )}\n          <Typography.Text\n            ellipsis={{ tooltip: node.title as string }}\n            className={node.isLeaf ? styles.knowledgeName : styles.embeddingId}\n          >\n            {node.title as string}\n          </Typography.Text>\n        </Space>\n      );\n    },\n    [list],\n  );\n\n  useEffect(() => {\n    const firstGroup = groupedList[0]?.children?.map((x) => x.key as string);\n    if (firstGroup) {\n      setCheckedList(firstGroup);\n    }\n    setExpandedKeys(groupedList.map((x) => x.key));\n  }, [groupedList, setExpandedKeys, setCheckedList]);\n\n  return (\n    <Sider\n      className={classNames(styles.searchSide, {\n        [styles.transparentSearchSide]: isFirstRender,\n      })}\n      theme={'light'}\n      width={'20%'}\n    >\n      <Spin spinning={loading}>\n        <Tree\n          className={styles.list}\n          checkable\n          onExpand={onExpand}\n          expandedKeys={expandedKeys}\n          autoExpandParent={autoExpandParent}\n          onCheck={onCheck}\n          checkedKeys={checkedList}\n          onSelect={onSelect}\n          selectedKeys={selectedKeys}\n          treeData={groupedList}\n          titleRender={renderTitle}\n        />\n      </Spin>\n    </Sider>\n  );\n};\n\nexport default SearchSidebar;\n","import FileIcon from '@/components/file-icon';\nimport HightLightMarkdown from '@/components/highlight-markdown';\nimport { ImageWithPopover } from '@/components/image';\nimport PdfDrawer from '@/components/pdf-drawer';\nimport { useClickDrawer } from '@/components/pdf-drawer/hooks';\nimport RetrievalDocuments from '@/components/retrieval-documents';\nimport SvgIcon from '@/components/svg-icon';\nimport {\n  useFetchKnowledgeList,\n  useSelectTestingResult,\n} from '@/hooks/knowledge-hooks';\nimport { useGetPaginationWithRouter } from '@/hooks/logic-hooks';\nimport { IReference } from '@/interfaces/database/chat';\nimport {\n  Card,\n  Divider,\n  Flex,\n  FloatButton,\n  Input,\n  Layout,\n  List,\n  Pagination,\n  PaginationProps,\n  Popover,\n  Skeleton,\n  Space,\n  Spin,\n  Tag,\n  Tooltip,\n} from 'antd';\nimport DOMPurify from 'dompurify';\nimport { isEmpty } from 'lodash';\nimport { useMemo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport MarkdownContent from '../chat/markdown-content';\nimport { useSendQuestion, useShowMindMapDrawer } from './hooks';\nimport styles from './index.less';\nimport MindMapDrawer from './mindmap-drawer';\nimport SearchSidebar from './sidebar';\n\nconst { Content } = Layout;\nconst { Search } = Input;\n\nconst SearchPage = () => {\n  const { t } = useTranslation();\n  const [checkedList, setCheckedList] = useState<string[]>([]);\n  const { chunks, total } = useSelectTestingResult();\n  const { list: knowledgeList } = useFetchKnowledgeList();\n  const checkedWithoutEmbeddingIdList = useMemo(() => {\n    return checkedList.filter((x) => knowledgeList.some((y) => y.id === x));\n  }, [checkedList, knowledgeList]);\n\n  const {\n    sendQuestion,\n    handleClickRelatedQuestion,\n    handleSearchStrChange,\n    handleTestChunk,\n    setSelectedDocumentIds,\n    answer,\n    sendingLoading,\n    relatedQuestions,\n    searchStr,\n    loading,\n    isFirstRender,\n    selectedDocumentIds,\n    isSearchStrEmpty,\n  } = useSendQuestion(checkedWithoutEmbeddingIdList);\n  const { visible, hideModal, documentId, selectedChunk, clickDocumentButton } =\n    useClickDrawer();\n  const { pagination } = useGetPaginationWithRouter();\n  const {\n    mindMapVisible,\n    hideMindMapModal,\n    showMindMapModal,\n    mindMapLoading,\n    mindMap,\n  } = useShowMindMapDrawer(checkedWithoutEmbeddingIdList, searchStr);\n\n  const onChange: PaginationProps['onChange'] = (pageNumber, pageSize) => {\n    pagination.onChange?.(pageNumber, pageSize);\n    handleTestChunk(selectedDocumentIds, pageNumber, pageSize);\n  };\n\n  const InputSearch = (\n    <Search\n      value={searchStr}\n      onChange={handleSearchStrChange}\n      placeholder={t('header.search')}\n      allowClear\n      enterButton\n      onSearch={sendQuestion}\n      size=\"large\"\n      loading={sendingLoading}\n      disabled={checkedWithoutEmbeddingIdList.length === 0}\n      className={isFirstRender ? styles.globalInput : styles.partialInput}\n    />\n  );\n\n  return (\n    <>\n      <Layout className={styles.searchPage}>\n        <SearchSidebar\n          isFirstRender={isFirstRender}\n          checkedList={checkedWithoutEmbeddingIdList}\n          setCheckedList={setCheckedList}\n        ></SearchSidebar>\n        <Layout className={isFirstRender ? styles.mainLayout : ''}>\n          <Content>\n            {isFirstRender ? (\n              <Flex justify=\"center\" className={styles.firstRenderContent}>\n                <Flex vertical align=\"center\" gap={'large'}>\n                  {InputSearch}\n                </Flex>\n              </Flex>\n            ) : (\n              <Flex className={styles.content}>\n                <section className={styles.main}>\n                  {InputSearch}\n                  <Card\n                    title={\n                      <Flex gap={10}>\n                        <img src=\"/ke_logo_new.png\" alt=\"\" width={20} />\n                        {t('chat.answerTitle')}\n                      </Flex>\n                    }\n                    className={styles.answerWrapper}\n                  >\n                    {isEmpty(answer) && sendingLoading ? (\n                      <Skeleton active />\n                    ) : (\n                      answer.answer && (\n                        <MarkdownContent\n                          loading={sendingLoading}\n                          content={answer.answer}\n                          reference={answer.reference ?? ({} as IReference)}\n                          clickDocumentButton={clickDocumentButton}\n                        ></MarkdownContent>\n                      )\n                    )}\n                  </Card>\n                  <Divider></Divider>\n                  <RetrievalDocuments\n                    selectedDocumentIds={selectedDocumentIds}\n                    setSelectedDocumentIds={setSelectedDocumentIds}\n                    onTesting={handleTestChunk}\n                  ></RetrievalDocuments>\n                  <Divider></Divider>\n                  <Spin spinning={loading}>\n                    {chunks?.length > 0 && (\n                      <List\n                        dataSource={chunks || []}\n                        className={styles.chunks}\n                        renderItem={(item) => (\n                          <List.Item>\n                            <Card className={styles.card}>\n                              <Space>\n                                <ImageWithPopover\n                                  id={item.img_id}\n                                ></ImageWithPopover>\n                                <Flex vertical gap={10}>\n                                  <Popover\n                                    content={\n                                      <div className={styles.popupMarkdown}>\n                                        <HightLightMarkdown>\n                                          {item.content_with_weight}\n                                        </HightLightMarkdown>\n                                      </div>\n                                    }\n                                  >\n                                    <div\n                                      dangerouslySetInnerHTML={{\n                                        __html: DOMPurify.sanitize(\n                                          `${item.highlight}...`,\n                                        ),\n                                      }}\n                                      className={styles.highlightContent}\n                                    ></div>\n                                  </Popover>\n                                  <Space\n                                    className={styles.documentReference}\n                                    onClick={() =>\n                                      clickDocumentButton(\n                                        item.doc_id,\n                                        item as any,\n                                      )\n                                    }\n                                  >\n                                    <FileIcon\n                                      id={item.image_id}\n                                      name={item.docnm_kwd}\n                                    ></FileIcon>\n                                    {item.docnm_kwd}\n                                  </Space>\n                                </Flex>\n                              </Space>\n                            </Card>\n                          </List.Item>\n                        )}\n                      />\n                    )}\n                  </Spin>\n                  {relatedQuestions?.length > 0 && (\n                    <Card title={t('chat.relatedQuestion')}>\n                      <Flex wrap=\"wrap\" gap={'10px 0'}>\n                        {relatedQuestions?.map((x, idx) => (\n                          <Tag\n                            key={idx}\n                            className={styles.tag}\n                            onClick={handleClickRelatedQuestion(x)}\n                          >\n                            {x}\n                          </Tag>\n                        ))}\n                      </Flex>\n                    </Card>\n                  )}\n                  <Divider></Divider>\n                  <Pagination\n                    {...pagination}\n                    total={total}\n                    onChange={onChange}\n                    className={styles.pagination}\n                  />\n                </section>\n              </Flex>\n            )}\n          </Content>\n        </Layout>\n      </Layout>\n      {!isFirstRender &&\n        !isSearchStrEmpty &&\n        !isEmpty(checkedWithoutEmbeddingIdList) && (\n          <Tooltip title={t('chunk.mind')} zIndex={1}>\n            <FloatButton\n              className={styles.mindMapFloatButton}\n              onClick={showMindMapModal}\n              icon={\n                <SvgIcon name=\"paper-clip\" width={24} height={30}></SvgIcon>\n              }\n            />\n          </Tooltip>\n        )}\n      {visible && (\n        <PdfDrawer\n          visible={visible}\n          hideModal={hideModal}\n          documentId={documentId}\n          chunk={selectedChunk}\n        ></PdfDrawer>\n      )}\n      {mindMapVisible && (\n        <MindMapDrawer\n          visible={mindMapVisible}\n          hideModal={hideMindMapModal}\n          data={mindMap}\n          loading={mindMapLoading}\n        ></MindMapDrawer>\n      )}\n    </>\n  );\n};\n\nexport default SearchPage;\n","import api from '@/utils/api';\nimport registerServer from '@/utils/register-server';\nimport request, { post } from '@/utils/request';\n\nconst {\n  login,\n  logout,\n  register,\n  setting,\n  user_info,\n  tenant_info,\n  factories_list,\n  llm_list,\n  my_llm,\n  set_api_key,\n  set_tenant_info,\n  add_llm,\n  delete_llm,\n  deleteFactory,\n  getSystemStatus,\n  getSystemVersion,\n  getSystemTokenList,\n  removeSystemToken,\n  createSystemToken,\n} = api;\n\nconst methods = {\n  login: {\n    url: login,\n    method: 'post',\n  },\n  logout: {\n    url: logout,\n    method: 'get',\n  },\n  register: {\n    url: register,\n    method: 'post',\n  },\n  setting: {\n    url: setting,\n    method: 'post',\n  },\n  user_info: {\n    url: user_info,\n    method: 'get',\n  },\n  get_tenant_info: {\n    url: tenant_info,\n    method: 'get',\n  },\n  set_tenant_info: {\n    url: set_tenant_info,\n    method: 'post',\n  },\n  factories_list: {\n    url: factories_list,\n    method: 'get',\n  },\n  llm_list: {\n    url: llm_list,\n    method: 'get',\n  },\n  my_llm: {\n    url: my_llm,\n    method: 'get',\n  },\n  set_api_key: {\n    url: set_api_key,\n    method: 'post',\n  },\n  add_llm: {\n    url: add_llm,\n    method: 'post',\n  },\n  delete_llm: {\n    url: delete_llm,\n    method: 'post',\n  },\n  getSystemStatus: {\n    url: getSystemStatus,\n    method: 'get',\n  },\n  getSystemVersion: {\n    url: getSystemVersion,\n    method: 'get',\n  },\n  deleteFactory: {\n    url: deleteFactory,\n    method: 'post',\n  },\n  listToken: {\n    url: getSystemTokenList,\n    method: 'get',\n  },\n  createToken: {\n    url: createSystemToken,\n    method: 'post',\n  },\n  removeToken: {\n    url: removeSystemToken,\n    method: 'delete',\n  },\n} as const;\n\nconst userService = registerServer<keyof typeof methods>(methods, request);\n\nexport const listTenantUser = (tenantId: string) =>\n  request.get(api.listTenantUser(tenantId));\n\nexport const addTenantUser = (tenantId: string, email: string) =>\n  post(api.addTenantUser(tenantId), { email });\n\nexport const deleteTenantUser = ({\n  tenantId,\n  userId,\n}: {\n  tenantId: string;\n  userId: string;\n}) => request.delete(api.deleteTenantUser(tenantId, userId));\n\nexport const listTenant = () => request.get(api.listTenant);\n\nexport const agreeTenant = (tenantId: string) =>\n  request.put(api.agreeTenant(tenantId));\n\nexport default userService;\n","let api_host = `http://ec2-44-212-5-246.compute-1.amazonaws.com/v1`; //\"http://localhost:9380/v1\"; //http://ec2-44-212-5-246.compute-1.amazonaws.com\n\nexport { api_host }; \n\nexport default {\n  // user\n  login: `${api_host}/user/login`,\n  logout: `${api_host}/user/logout`,\n  register: `${api_host}/user/register`,\n  setting: `${api_host}/user/setting`,\n  user_info: `${api_host}/user/info`,\n  tenant_info: `${api_host}/user/tenant_info`,\n  set_tenant_info: `${api_host}/user/set_tenant_info`,\n\n  // team\n  addTenantUser: (tenantId: string) => `${api_host}/tenant/${tenantId}/user`,\n  listTenantUser: (tenantId: string) =>\n    `${api_host}/tenant/${tenantId}/user/list`,\n  deleteTenantUser: (tenantId: string, userId: string) =>\n    `${api_host}/tenant/${tenantId}/user/${userId}`,\n  listTenant: `${api_host}/tenant/list`,\n  agreeTenant: (tenantId: string) => `${api_host}/tenant/agree/${tenantId}`,\n\n  // llm model\n  factories_list: `${api_host}/llm/factories`,\n  llm_list: `${api_host}/llm/list`,\n  my_llm: `${api_host}/llm/my_llms`,\n  set_api_key: `${api_host}/llm/set_api_key`,\n  add_llm: `${api_host}/llm/add_llm`,\n  delete_llm: `${api_host}/llm/delete_llm`,\n  deleteFactory: `${api_host}/llm/delete_factory`,\n\n  // knowledge base\n  kb_list: `${api_host}/kb/list`,\n  create_kb: `${api_host}/kb/create`,\n  update_kb: `${api_host}/kb/update`,\n  rm_kb: `${api_host}/kb/rm`,\n  get_kb_detail: `${api_host}/kb/detail`,\n  getKnowledgeGraph: (knowledgeId: string) =>\n    `${api_host}/kb/${knowledgeId}/knowledge_graph`,\n\n  // tags\n  listTag: (knowledgeId: string) => `${api_host}/kb/${knowledgeId}/tags`,\n  listTagByKnowledgeIds: `${api_host}/kb/tags`,\n  removeTag: (knowledgeId: string) => `${api_host}/kb/${knowledgeId}/rm_tags`,\n  renameTag: (knowledgeId: string) =>\n    `${api_host}/kb/${knowledgeId}/rename_tag`,\n\n  // chunk\n  chunk_list: `${api_host}/chunk/list`,\n  create_chunk: `${api_host}/chunk/create`,\n  set_chunk: `${api_host}/chunk/set`,\n  get_chunk: `${api_host}/chunk/get`,\n  switch_chunk: `${api_host}/chunk/switch`,\n  rm_chunk: `${api_host}/chunk/rm`,\n  retrieval_test: `${api_host}/chunk/retrieval_test`,\n  knowledge_graph: `${api_host}/chunk/knowledge_graph`,\n\n  // document\n  get_document_list: `${api_host}/document/list`,\n  document_change_status: `${api_host}/document/change_status`,\n  document_rm: `${api_host}/document/rm`,\n  document_delete: `${api_host}/api/document`,\n  document_rename: `${api_host}/document/rename`,\n  document_create: `${api_host}/document/create`,\n  document_run: `${api_host}/document/run`,\n  document_change_parser: `${api_host}/document/change_parser`,\n  document_thumbnails: `${api_host}/document/thumbnails`,\n  get_document_file: `${api_host}/document/get`,\n  document_upload: `${api_host}/document/upload`,\n  web_crawl: `${api_host}/document/web_crawl`,\n  document_infos: `${api_host}/document/infos`,\n  upload_and_parse: `${api_host}/document/upload_and_parse`,\n  parse: `${api_host}/document/parse`,\n  setMeta: `${api_host}/document/set_meta`,\n\n  // chat\n  setDialog: `${api_host}/dialog/set`,\n  getDialog: `${api_host}/dialog/get`,\n  removeDialog: `${api_host}/dialog/rm`,\n  listDialog: `${api_host}/dialog/list`,\n  setConversation: `${api_host}/conversation/set`,\n  getConversation: `${api_host}/conversation/get`,\n  getConversationSSE: `${api_host}/conversation/getsse`,\n  listConversation: `${api_host}/conversation/list`,\n  removeConversation: `${api_host}/conversation/rm`,\n  completeConversation: `${api_host}/conversation/completion`,\n  deleteMessage: `${api_host}/conversation/delete_msg`,\n  thumbup: `${api_host}/conversation/thumbup`,\n  tts: `${api_host}/conversation/tts`,\n  ask: `${api_host}/conversation/ask`,\n  mindmap: `${api_host}/conversation/mindmap`,\n  getRelatedQuestions: `${api_host}/conversation/related_questions`,\n  // chat for external\n  createToken: `${api_host}/api/new_token`,\n  listToken: `${api_host}/api/token_list`,\n  removeToken: `${api_host}/api/rm`,\n  getStats: `${api_host}/api/stats`,\n  createExternalConversation: `${api_host}/api/new_conversation`,\n  getExternalConversation: `${api_host}/api/conversation`,\n  completeExternalConversation: `${api_host}/api/completion`,\n  uploadAndParseExternal: `${api_host}/api/document/upload_and_parse`,\n\n  // file manager\n  //listFile: `${api_host}/file/list`,\n  listFile: `${api_host}/file/listall`,\n  uploadFile: `${api_host}/file/upload`,\n  removeFile: `${api_host}/file/rm`,\n  renameFile: `${api_host}/file/rename`,\n  getAllParentFolder: `${api_host}/file/all_parent_folder`,\n  createFolder: `${api_host}/file/create`,\n  connectFileToKnowledge: `${api_host}/file2document/convert`,\n  getFile: `${api_host}/file/get`,\n  moveFile: `${api_host}/file/mv`,\n\n  // system\n  getSystemVersion: `${api_host}/system/version`,\n  getSystemStatus: `${api_host}/system/status`,\n  getSystemTokenList: `${api_host}/system/token_list`,\n  createSystemToken: `${api_host}/system/new_token`,\n  listSystemToken: `${api_host}/system/token_list`,\n  removeSystemToken: `${api_host}/system/token`,\n\n  // flow\n  listTemplates: `${api_host}/canvas/templates`,\n  listCanvas: `${api_host}/canvas/list`,\n  getCanvas: `${api_host}/canvas/get`,\n  getCanvasSSE: `${api_host}/canvas/getsse`,\n  removeCanvas: `${api_host}/canvas/rm`,\n  setCanvas: `${api_host}/canvas/set`,\n  resetCanvas: `${api_host}/canvas/reset`,\n  runCanvas: `${api_host}/canvas/completion`,\n  testDbConnect: `${api_host}/canvas/test_db_connect`,\n  getInputElements: `${api_host}/canvas/input_elements`,\n  debug: `${api_host}/canvas/debug`,\n};\n","import omit from 'lodash/omit';\nimport { RequestMethod } from 'umi-request';\n\ntype Service<T extends string> = Record<\n  T,\n  (params?: any, urlAppendix?: string) => any\n>;\n\nconst Methods = ['post', 'delete', 'put'];\n\nconst registerServer = <T extends string>(\n  opt: Record<T, { url: string; method: string }>,\n  request: RequestMethod,\n) => {\n  const server: Service<T> = {} as Service<T>;\n  for (let key in opt) {\n    server[key] = (params?: any, urlAppendix?: string) => {\n      let url = opt[key].url;\n      const requestOptions = opt[key];\n      if (urlAppendix) {\n        url = url + '/' + urlAppendix;\n      }\n      if (Methods.some((x) => x === opt[key].method.toLowerCase())) {\n        return request(url, {\n          method: opt[key].method,\n          data: params,\n        });\n      }\n\n      if (opt[key].method === 'get' || opt[key].method === 'GET') {\n        return request.get(url, {\n          ...omit(requestOptions, ['method', 'url']),\n          params,\n        });\n      }\n    };\n  }\n  return server;\n};\n\nexport default registerServer;\n","import { Authorization } from '@/constants/authorization';\nimport { ResponseType } from '@/interfaces/database/base';\nimport i18n from '@/locales/config';\nimport authorizationUtil, {\n  getAuthorization,\n} from '@/utils/authorization-util';\nimport { message, notification } from 'antd';\nimport { history } from 'umi';\nimport { RequestMethod, extend } from 'umi-request';\nimport { convertTheKeysOfTheObjectToSnake } from './common-util';\n\nconst FAILED_TO_FETCH = 'Failed to fetch';\n\nconst RetcodeMessage = {\n  200: i18n.t('message.200'),\n  201: i18n.t('message.201'),\n  202: i18n.t('message.202'),\n  204: i18n.t('message.204'),\n  400: i18n.t('message.400'),\n  401: i18n.t('message.401'),\n  403: i18n.t('message.403'),\n  404: i18n.t('message.404'),\n  406: i18n.t('message.406'),\n  410: i18n.t('message.410'),\n  413: i18n.t('message.413'),\n  422: i18n.t('message.422'),\n  500: i18n.t('message.500'),\n  502: i18n.t('message.502'),\n  503: i18n.t('message.503'),\n  504: i18n.t('message.504'),\n};\ntype ResultCode =\n  | 200\n  | 201\n  | 202\n  | 204\n  | 400\n  | 401\n  | 403\n  | 404\n  | 406\n  | 410\n  | 413\n  | 422\n  | 500\n  | 502\n  | 503\n  | 504;\n\nconst errorHandler = (error: {\n  response: Response;\n  message: string;\n}): Response => {\n  const { response } = error;\n  if (error.message === FAILED_TO_FETCH) {\n    notification.error({\n      description: i18n.t('message.networkAnomalyDescription'),\n      message: i18n.t('message.networkAnomaly'),\n    });\n  } else {\n    if (response && response.status) {\n      const errorText =\n        RetcodeMessage[response.status as ResultCode] || response.statusText;\n      const { status, url } = response;\n      notification.error({\n        message: `${i18n.t('message.requestError')} ${status}: ${url}`,\n        description: errorText,\n      });\n    }\n  }\n  return response;\n};\n\nconst request: RequestMethod = extend({\n  errorHandler,\n  timeout: 300000,\n  getResponse: true,\n});\n\nrequest.interceptors.request.use((url: string, options: any) => {\n  const data = convertTheKeysOfTheObjectToSnake(options.data);\n  const params = convertTheKeysOfTheObjectToSnake(options.params);\n\n  return {\n    url,\n    options: {\n      ...options,\n      data,\n      params,\n      headers: {\n        ...(options.skipToken\n          ? undefined\n          : { [Authorization]: getAuthorization() }),\n        ...options.headers,\n      },\n      interceptors: true,\n    },\n  };\n});\n\nrequest.interceptors.response.use(async (response: any, options) => {\n  if (response?.status === 413 || response?.status === 504) {\n    message.error(RetcodeMessage[response?.status as ResultCode]);\n  }\n\n  if (options.responseType === 'blob') {\n    return response;\n  }\n\n  const data: ResponseType = await response?.clone()?.json();\n  if (data?.code === 100) {\n    message.error(data?.message);\n  } else if (data?.code === 401) {\n    notification.error({\n      message: data?.message,\n      description: data?.message,\n      duration: 3,\n    });\n    authorizationUtil.removeAll();\n    history.push('/login'); // Will not jump to the login page\n  } else if (data?.code !== 0) {\n    notification.error({\n      message: `${i18n.t('message.hint')} : ${data?.code}`,\n      description: data?.message,\n      duration: 3,\n    });\n  }\n  return response;\n});\n\nexport default request;\n\nexport const get = (url: string) => {\n  return request.get(url);\n};\n\nexport const post = (url: string, body: any) => {\n  return request.post(url, { data: body });\n};\n\nexport const drop = () => {};\n\nexport const put = () => {};\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nimport * as React from \"react\";\nconst SvgSelectedFilesCollapse = (props) => /* @__PURE__ */ React.createElement(\"svg\", __spreadValues({ width: 20, height: 20, fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" }, props), /* @__PURE__ */ React.createElement(\"path\", { d: \"M6.667 10h6.666M6.5 17.5h7c1.4 0 2.1 0 2.635-.273a2.5 2.5 0 0 0 1.092-1.092c.273-.535.273-1.235.273-2.635v-7c0-1.4 0-2.1-.273-2.635a2.5 2.5 0 0 0-1.092-1.093C15.6 2.5 14.9 2.5 13.5 2.5h-7c-1.4 0-2.1 0-2.635.272a2.5 2.5 0 0 0-1.093 1.093C2.5 4.4 2.5 5.1 2.5 6.5v7c0 1.4 0 2.1.272 2.635a2.5 2.5 0 0 0 1.093 1.092C4.4 17.5 5.1 17.5 6.5 17.5Z\", stroke: \"#7F56D9\", strokeWidth: 2, strokeLinecap: \"round\", strokeLinejoin: \"round\" }));\nexport { SvgSelectedFilesCollapse as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTYuNjY3IDEwaDYuNjY2TTYuNSAxNy41aDdjMS40IDAgMi4xIDAgMi42MzUtLjI3M2EyLjUgMi41IDAgMCAwIDEuMDkyLTEuMDkyYy4yNzMtLjUzNS4yNzMtMS4yMzUuMjczLTIuNjM1di03YzAtMS40IDAtMi4xLS4yNzMtMi42MzVhMi41IDIuNSAwIDAgMC0xLjA5Mi0xLjA5M0MxNS42IDIuNSAxNC45IDIuNSAxMy41IDIuNWgtN2MtMS40IDAtMi4xIDAtMi42MzUuMjcyYTIuNSAyLjUgMCAwIDAtMS4wOTMgMS4wOTNDMi41IDQuNCAyLjUgNS4xIDIuNSA2LjV2N2MwIDEuNCAwIDIuMS4yNzIgMi42MzVhMi41IDIuNSAwIDAgMCAxLjA5MyAxLjA5MkM0LjQgMTcuNSA1LjEgMTcuNSA2LjUgMTcuNVoiIHN0cm9rZT0iIzdGNTZEOSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48L3N2Zz4=\";\n"],"names":["_ref","name","id","fileExtension","getExtension","_useFetchDocumentThum","useFetchDocumentThumbnailsByIds","fileThumbnails","data","setDocumentIds","fileThumbnail","useEffect","_jsx","src","className","styles","SvgIcon","concat","width","children","Markdown","remarkPlugins","remarkGfm","remarkMath","rehypePlugins","rehypeRaw","rehypeKatex","classNames","components","code","props","rest","node","_objectWithoutProperties","_excluded","match","exec","SyntaxHighlighter","_objectSpread","PreTag","language","String","replace","preprocessLaTeX","Image","api_host","alt","ImageWithPopover","_ref2","Popover","placement","content","rootId","COLORS","TreeEvent","IndentedNode","_BaseNode","_inherits","_super","_createSuper","options","_classCallCheck","Object","assign","style","defaultStyleProps","call","_createClass","key","get","_this$attributes$cont","this","attributes","context","model","getChildrenData","value","_this$getSize","getSize","_this$getSize2","_slicedToArray","height","keyStyle","_get","_getPrototypeOf","prototype","fill","container","getKeyStyle","upsert","Rect","label","labelText","subStyleProps","getGraphicStyle","_this$getSize3","iconAreaStyle","x","y","zIndex","target","type","listener","Reflect","has","set","addEventListener","collapsed","color","_this$childrenData","_this$getSize5","backgroundFill","cursor","fontSize","padding","text","childrenData","length","textAlign","_this","countStyle","getCountStyle","btn","Badge","forwardEvent","CommonEvent","CLICK","event","stopPropagation","graph","emit","_this$childrenData2","Array","isArray","showIcon","isShowCollapse","_this$getSize7","visibility","backgroundHeight","backgroundWidth","fontFamily","_this2","iconStyle","getCollapseStyle","_this$getSize9","backgroundLineWidth","backgroundStroke","arguments","undefined","parsedAttributes","drawCountShape","drawIconArea","drawCollapseShape","BaseNode","_defineProperty","ports","IndentedEdge","_Polyline","_super2","apply","sourcePoint","targetPoint","Polyline","CollapseExpandTree","_BaseBehavior","_super3","_this3","_assertThisInitialized","setIcon","show","status","_this3$context","element","updateNodeData","draw","animation","silence","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","collapseElement","expandElement","stop","_x","bindEvents","unbindEvents","on","NodeEvent","POINTER_ENTER","POINTER_LEAVE","hideIcon","onCollapseExpand","off","BaseBehavior","fallbackRender","error","_jsxs","role","message","register","ExtensionCategory","NODE","EDGE","BEHAVIOR","_ref3","_ref3$style","containerRef","useRef","graphRef","assignIds","React","parentId","index","forEach","child","idx","render","useCallback","_ref4","_callee2","_context2","Graph","current","size","d","labelBackground","datum","labelBackgroundRadius","labelBackgroundFill","labelFill","_d$style","labelTextAlign","labelTextBaseline","depth","getAncestorsData","state","selected","lineWidth","labelFontWeight","edge","radius","sourcePort","targetPort","stroke","source","layout","direction","isHorizontal","indent","getHeight","getVGap","behaviors","enable","targetType","destroy","setData","treeToGraphData","_x2","isEmpty","ErrorBoundary","ref","display","link","_ref$preventDefault","preventDefault","_ref$color","documentId","documentName","_ref$prefix","prefix","nextLink","extension","onClick","isSupportedPreviewDocumentType","e","href","rel","wordBreak","useClickDrawer","_useSetModalState","useSetModalState","visible","showModal","hideModal","_useState","useState","_useState2","selectedChunk","setSelectedChunk","_useState3","_useState4","setDocumentId","clickDocumentButton","chunk","HighlightPopup","comment","emoji","getDocumentUrl","useGetDocumentUrl","_useGetChunkHighlight","useGetChunkHighlights","highlights","setWidthAndHeight","loaded","setLoaded","url","useCatchDocumentError","resetHash","PdfLoader","beforeLoad","Skeleton","active","workerSrc","errorMessage","FileError","pdfDocument","getPage","then","page","viewport","getViewport","scale","PdfHighlighter","enableAreaSelection","altKey","onScrollChange","scrollRef","scrollTo","onSelectionFinished","highlightTransform","highlight","setTip","hideTip","viewportToScaled","screenshot","isScrolledTo","component","Boolean","image","Highlight","position","AreaHighlight","onChange","Popup","popupContent","onMouseOver","onMouseOut","_ref$visible","Drawer","title","onClose","open","DocumentPreviewer","setError","fetchDocument","_yield$axios$get","axios","sent","fileIconMap","aep","ai","avi","css","csv","dmg","doc","docx","eps","exe","fig","gif","html","indd","java","jpeg","jpg","js","json","mkv","mp3","mp4","mpeg","pdf","png","ppt","pptx","psd","rss","sql","svg","tiff","txt","wav","webp","xls","xlsx","xml","LanguageList","LanguageMap","English","Other_language","LanguageTranslationMap","Chinese","Indonesia","Spanish","Vietnamese","Japanese","FileMimeType","Domain","Images","ExceptiveType","SupportedPreviewDocumentTypes","_toConsumableArray","useFetchUserInfo","_queryFn","i18n","useTranslation","_useQuery","useQuery","queryKey","initialData","gcTime","queryFn","_data$data","_yield$userService$us","userService","user_info","changeLanguage","abrupt","loading","isFetching","useFetchTenantInfo","_queryFn2","showEmptyModelWarn","_useTranslation2","_useQuery2","t","_yield$userService$ge","res","_data","get_tenant_info","embd_id","llm_id","chat_id","speech2text_id","asr_id","useSelectParserList","tenantInfo","useMemo","_tenantInfo$parser_id","_tenantInfo$parser_id2","parser_ids","split","map","arr","useSaveSetting","_mutationFn","queryClient","useQueryClient","_useMutation","useMutation","mutationKey","mutationFn","_callee3","userInfo","_yield$userService$se","_context3","setting","success","invalidateQueries","isPending","saveSetting","mutateAsync","useFetchSystemVersion","version","setVersion","setLoading","fetchSystemVersion","_callee4","_yield$userService$ge2","_context4","getSystemVersion","t0","useFetchSystemStatus","_useState5","_useState6","systemStatus","setSystemStatus","_useState7","_useState8","fetchSystemStatus","_callee5","_yield$userService$ge3","_context5","getSystemStatus","useFetchManualSystemTokenList","_mutationFn2","_useMutation2","_callee6","_data$data2","_yield$userService$li","_context6","listToken","fetchSystemTokenList","useFetchSystemTokenList","_queryFn3","_useQuery3","_callee7","_data$data3","_yield$userService$li2","_context7","refetch","useRemoveSystemToken","_mutationFn3","_useMutation3","_callee8","token","_data$data4","_yield$userService$re","_context8","removeToken","useCreateSystemToken","_mutationFn4","_useMutation4","_callee9","params","_data$data5","_yield$userService$cr","_context9","createToken","_x3","useListTenantUser","_queryFn4","tenantId","tenant_id","_useQuery4","enabled","_callee10","_data$data6","_yield$listTenantUser","_context10","listTenantUser","useAddTenantUser","_mutationFn5","_useMutation5","_callee11","email","_yield$addTenantUser","_context11","addTenantUser","_x4","useDeleteTenantUser","_mutationFn6","_useMutation6","_callee12","_data$data7","userId","_yield$deleteTenantUs","_context12","deleteTenantUser","_x5","useListTenant","_queryFn5","_useQuery5","_callee13","_data$data8","_yield$listTenant","_context13","listTenant","useAgreeTenant","_mutationFn7","_useMutation7","_callee14","_data$data9","_yield$agreeTenant","_context14","agreeTenant","_x6","reg","curReg","reference","contentWithCursor","nextText","replaceTextByOldReg","docAggs","doc_aggs","doc_id","handleDocumentButtonClick","isPdf","getPopoverContent","chunkIndex","_reference$chunks","_reference$doc_aggs","_chunkItem$content","chunkItem","chunks","document","find","document_id","doc_name","imageId","image_id","Flex","gap","Space","dangerouslySetInnerHTML","__html","DOMPurify","Button","renderReference","replacedText","reactStringReplace","i","Number","slice","getChunkIndex","InfoCircleOutlined","tree","visitParents","ancestors","latestAncestor","at","tagName","properties","buildMessageItemReference","conversation","_conversation$message","_conversation$referen","referenceIndex","filter","MessageType","Assistant","findIndex","total","oldReg","substring","useTranslate","align","justify","Alert","setSelectedDocumentIds","handleTesting","documents","useSelectTestingResult","columns","dataIndex","_","NewDocumentLink","Tooltip","EyeOutlined","rowSelection","selectedRowKeys","getCheckboxProps","record","disabled","Table","dataSource","showHeader","rowKey","_selectedDocumentIds$","_documents$length","onTesting","selectedDocumentIds","Collapse","expandIcon","SelectedFilesCollapseIcon","items","SelectFiles","_useState15","_useState16","count","setCount","setCountInterval","percent","setInterval","pre","clearInterval","toFixed","Progress","IndentedTree","Sider","Layout","isFirstRender","checkedList","setCheckedList","_useFetchKnowledgeLis","useFetchKnowledgeList","list","groupedList","reduce","cur","_parentItem$children","parentItem","childItem","isLeaf","push","expandedKeys","setExpandedKeys","selectedKeys","setSelectedKeys","autoExpandParent","setAutoExpandParent","renderTitle","item","Avatar","icon","UserOutlined","avatar","Typography","Text","ellipsis","tooltip","knowledgeName","embeddingId","_groupedList$","firstGroup","searchSide","transparentSearchSide","theme","Spin","spinning","Tree","checkable","onExpand","expandedKeysValue","onCheck","checkedKeysValue","info","console","log","currentCheckedKeysValue","nextSelectedKeysValue","_info$node","checked","some","_list$find","_children$map","checkedKeys","onSelect","selectedKeysValue","treeData","titleRender","Content","Search","Input","_answer$reference","_useSelectTestingResu","knowledgeList","checkedWithoutEmbeddingIdList","_useSendQuestion","kbIds","_relatedQuestions$sli","_useSendMessageWithSs","useSendMessageWithSse","api","ask","send","answer","done","_useTestChunkRetrieva","useTestChunkRetrieval","testChunk","sendingLoading","setSendingLoading","currentAnswer","setCurrentAnswer","_useFetchRelatedQuest","useFetchRelatedQuestions","fetchRelatedQuestions","relatedQuestions","searchStr","setSearchStr","setIsFirstRender","_useState9","_useState10","_useGetPaginationWith","useGetPaginationWithRouter","pagination","setPagination","sendQuestion","question","q","trim","kb_ids","kb_id","pageSize","handleSearchStrChange","handleClickRelatedQuestion","handleTestChunk","documentIds","doc_ids","isSearchStrEmpty","useSendQuestion","_useClickDrawer","_useShowMindMapDrawer","_useFetchMindMap","useFetchMindMap","fetchMindMap","mindMap","mindMapVisible","mindMapLoading","showMindMapModal","searchParams","isEqual","hideMindMapModal","useShowMindMapDrawer","InputSearch","placeholder","allowClear","enterButton","onSearch","globalInput","partialInput","_Fragment","searchPage","SearchSidebar","mainLayout","firstRenderContent","vertical","main","Card","answerWrapper","MarkdownContent","Divider","RetrievalDocuments","List","renderItem","Item","card","img_id","popupMarkdown","HightLightMarkdown","content_with_weight","highlightContent","documentReference","FileIcon","docnm_kwd","Tag","tag","Pagination","pageNumber","_pagination$onChange","FloatButton","mindMapFloatButton","PdfDrawer","MindMapDrawer","login","logout","tenant_info","factories_list","llm_list","my_llm","set_api_key","set_tenant_info","add_llm","delete_llm","deleteFactory","getSystemTokenList","removeSystemToken","methods","method","createSystemToken","registerServer","request","post","kb_list","create_kb","update_kb","rm_kb","get_kb_detail","getKnowledgeGraph","knowledgeId","listTag","listTagByKnowledgeIds","removeTag","renameTag","chunk_list","create_chunk","set_chunk","get_chunk","switch_chunk","rm_chunk","retrieval_test","knowledge_graph","get_document_list","document_change_status","document_rm","document_delete","document_rename","document_create","document_run","document_change_parser","document_thumbnails","get_document_file","document_upload","web_crawl","document_infos","upload_and_parse","parse","setMeta","setDialog","getDialog","removeDialog","listDialog","setConversation","getConversation","getConversationSSE","listConversation","removeConversation","completeConversation","deleteMessage","thumbup","tts","mindmap","getRelatedQuestions","getStats","createExternalConversation","getExternalConversation","completeExternalConversation","uploadAndParseExternal","listFile","uploadFile","removeFile","renameFile","getAllParentFolder","createFolder","connectFileToKnowledge","getFile","moveFile","listSystemToken","listTemplates","listCanvas","getCanvas","getCanvasSSE","removeCanvas","setCanvas","resetCanvas","runCanvas","testDbConnect","getInputElements","debug","Methods","opt","server","_loop","urlAppendix","requestOptions","toLowerCase","omit","RetcodeMessage","extend","errorHandler","response","notification","description","errorText","statusText","timeout","getResponse","interceptors","use","convertTheKeysOfTheObjectToSnake","headers","skipToken","Authorization","getAuthorization","_response$clone","responseType","clone","duration","authorizationUtil","removeAll","history","body","__defProp","defineProperty","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","enumerable","configurable","writable","SvgSelectedFilesCollapse","a","b","prop","__spreadValues","xmlns","strokeWidth","strokeLinecap","strokeLinejoin"],"sourceRoot":""}