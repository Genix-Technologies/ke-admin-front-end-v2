"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8323],{96330:function(e,n,a){a.d(n,{Rx:function(){return i},S8:function(){return o},Vr:function(){return d},cG:function(){return l},ld:function(){return c},n_:function(){return u},oQ:function(){return s}});var t=a(9783),r=a.n(t),i=function(e){return e.Dataset="dataset",e.Testing="testing",e.Configuration="configuration",e.KnowledgeGraph="knowledgeGraph",e}({}),l=function(e){return e.UNSTART="0",e.RUNNING="1",e.CANCEL="2",e.DONE="3",e.FAIL="4",e}({}),s=function(e){return e.Improvise="Improvise",e.Precise="Precise",e.Balance="Balance",e}({}),o=r()(r()(r()({},s.Improvise,{temperature:.9,top_p:.9,frequency_penalty:.2,presence_penalty:.4,max_tokens:512}),s.Precise,{temperature:.1,top_p:.3,frequency_penalty:.7,presence_penalty:.4,max_tokens:512}),s.Balance,{temperature:.5,top_p:.5,frequency_penalty:.7,presence_penalty:.4,max_tokens:512}),d=function(e){return e.Embedding="embedding",e.Chat="chat",e.Image2text="image2text",e.Speech2text="speech2text",e.Rerank="rerank",e.TTS="tts",e}({}),c=function(e){return e.DocumentId="doc_id",e.KnowledgeId="id",e}({}),u=function(e){return e.Virtual="virtual",e.Visual="visual",e}({})},38392:function(e,n,a){a.d(n,{DC:function(){return F},Ju:function(){return q},OR:function(){return S},T:function(){return T},X7:function(){return O},hl:function(){return I},uZ:function(){return C},ux:function(){return L}});var t=a(97857),r=a.n(t),i=a(19632),l=a.n(i),s=a(9783),o=a.n(s),d=a(5574),c=a.n(d),u=a(15009),m=a.n(u),p=a(99289),h=a.n(p),g=a(46693),x=a(96330),f=a(72668),y=a(31098),v=a(78551),k=a(30202),j=a(4527),b=a(86250),M=a(45360),_=a(62435),Z=a(67421),A=a(86074),w=function(e){var n,a=(0,v.a)({queryKey:["llmList"],initialData:{},queryFn:(n=h()(m()().mark((function n(){var a,t,r;return m()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.ZP.llm_list({model_type:e});case 2:return t=n.sent,r=t.data,n.abrupt("return",null!==(a=null==r?void 0:r.data)&&void 0!==a?a:{});case 5:case"end":return n.stop()}}),n)}))),function(){return n.apply(this,arguments)})});return a.data},I=function(){var e=w(),n=function(n){return Object.entries(e).filter((function(e){var a=c()(e,2)[1];return!n||a.some((function(e){return e.model_type.includes(n)}))})).map((function(e){var a=c()(e,2);return{label:a[0],options:a[1].filter((function(e){return(!n||e.model_type.includes(n))&&e.available})).map((function(e){return{label:(0,A.jsxs)(b.Z,{align:"center",gap:6,children:[(0,A.jsx)(g.$,{name:(n=e.fid,a=e.llm_name,"FastEmbed"===n?null!==(t=a.split("/").at(0))&&void 0!==t?t:"":n),width:26,height:26,size:"small"}),(0,A.jsx)("span",{children:e.llm_name})]}),value:"".concat(e.llm_name,"@").concat(e.fid),disabled:!e.available};var n,a,t}))}})).filter((function(e){return e.options.length>0}))};return o()(o()(o()(o()(o()(o()({},x.Vr.Chat,n(x.Vr.Chat)),x.Vr.Embedding,n(x.Vr.Embedding)),x.Vr.Image2text,n(x.Vr.Image2text)),x.Vr.Speech2text,n(x.Vr.Speech2text)),x.Vr.Rerank,n(x.Vr.Rerank)),x.Vr.TTS,n(x.Vr.TTS))},T=function(e){var n=I();return e.reduce((function(e,a){return n[a].forEach((function(n){var a,t=e.find((function(e){return e.label===n.label}));t?(a=t.options).push.apply(a,l()(n.options)):e.push(n)})),e}),[])},F=function(){var e,n,a,t,i=(n=(0,v.a)({queryKey:["myLlmList"],initialData:{},gcTime:0,queryFn:(e=h()(m()().mark((function e(){var n,a,t;return m()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.ZP.my_llm();case 2:return a=e.sent,t=a.data,e.abrupt("return",null!==(n=null==t?void 0:t.data)&&void 0!==n?n:{});case 5:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})}),{data:n.data,loading:n.isFetching}),l=i.data,s=i.loading,o=(t=(0,v.a)({queryKey:["factoryList"],initialData:[],gcTime:0,queryFn:(a=h()(m()().mark((function e(){var n,a,t;return m()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.ZP.factories_list();case 2:return a=e.sent,t=a.data,e.abrupt("return",null!==(n=null==t?void 0:t.data)&&void 0!==n?n:[]);case 5:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})}),{data:t.data,loading:t.isFetching}),d=o.data,u=o.loading;return{myLlmList:(0,_.useMemo)((function(){return Object.entries(l).map((function(e){var n,a,t=c()(e,2),i=t[0],l=t[1];return r()({name:i,logo:null!==(n=null===(a=d.find((function(e){return e.name===i})))||void 0===a?void 0:a.logo)&&void 0!==n?n:""},l)}))}),[l,d]),factoryList:(0,_.useMemo)((function(){var e=d.filter((function(e){return Object.keys(l).every((function(n){return n!==e.name}))}));return(0,y.tJ)(e)}),[d,l]),loading:s||u}},L=function(){var e,n=(0,k.NL)(),a=(0,Z.$G)().t,t=(0,j.D)({mutationKey:["saveApiKey"],mutationFn:(e=h()(m()().mark((function e(t){var r,i;return m()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.ZP.set_api_key(t);case 2:return r=e.sent,0===(i=r.data).code&&(M.ZP.success(a("message.modified")),n.invalidateQueries({queryKey:["myLlmList"]}),n.invalidateQueries({queryKey:["factoryList"]})),e.abrupt("return",i.code);case 6:case"end":return e.stop()}}),e)}))),function(n){return e.apply(this,arguments)})});return{data:t.data,loading:t.isPending,saveApiKey:t.mutateAsync}},S=function(){var e,n=(0,Z.$G)().t,a=(0,j.D)({mutationKey:["saveTenantInfo"],mutationFn:(e=h()(m()().mark((function e(a){var t,r;return m()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.ZP.set_tenant_info(a);case 2:return t=e.sent,0===(r=t.data).code&&M.ZP.success(n("message.modified")),e.abrupt("return",r.code);case 6:case"end":return e.stop()}}),e)}))),function(n){return e.apply(this,arguments)})});return{data:a.data,loading:a.isPending,saveTenantInfo:a.mutateAsync}},C=function(){var e,n=(0,k.NL)(),a=(0,Z.$G)().t,t=(0,j.D)({mutationKey:["addLlm"],mutationFn:(e=h()(m()().mark((function e(t){var r,i;return m()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.ZP.add_llm(t);case 2:return r=e.sent,0===(i=r.data).code&&(n.invalidateQueries({queryKey:["myLlmList"]}),n.invalidateQueries({queryKey:["factoryList"]}),M.ZP.success(a("message.modified"))),e.abrupt("return",i.code);case 6:case"end":return e.stop()}}),e)}))),function(n){return e.apply(this,arguments)})});return{data:t.data,loading:t.isPending,addLlm:t.mutateAsync}},q=function(){var e,n=(0,k.NL)(),a=(0,Z.$G)().t,t=(0,j.D)({mutationKey:["deleteLlm"],mutationFn:(e=h()(m()().mark((function e(t){var r,i;return m()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.ZP.delete_llm(t);case 2:return r=e.sent,0===(i=r.data).code&&(n.invalidateQueries({queryKey:["myLlmList"]}),n.invalidateQueries({queryKey:["factoryList"]}),M.ZP.success(a("message.deleted"))),e.abrupt("return",i.code);case 6:case"end":return e.stop()}}),e)}))),function(n){return e.apply(this,arguments)})});return{data:t.data,loading:t.isPending,deleteLlm:t.mutateAsync}},O=function(){var e,n=(0,k.NL)(),a=(0,Z.$G)().t,t=(0,j.D)({mutationKey:["deleteFactory"],mutationFn:(e=h()(m()().mark((function e(t){var r,i;return m()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.ZP.deleteFactory(t);case 2:return r=e.sent,0===(i=r.data).code&&(n.invalidateQueries({queryKey:["myLlmList"]}),n.invalidateQueries({queryKey:["factoryList"]}),M.ZP.success(a("message.deleted"))),e.abrupt("return",i.code);case 6:case"end":return e.stop()}}),e)}))),function(n){return e.apply(this,arguments)})});return{data:t.data,loading:t.isPending,deleteFactory:t.mutateAsync}}},15112:function(e,n,a){var t=a(86968),r=a(42952),i=a(22850),l=a(86250),s=a(15867),o=a(86074),d=i.Z.Title,c=i.Z.Paragraph;n.Z=function(e){var n=e.title,a=e.description,i=e.clickButton,u=e.showRightButton,m=void 0!==u&&u,p=(0,t.qM)("setting").t;return(0,o.jsxs)(l.Z,{align:"center",justify:"space-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)(d,{level:5,children:n}),(0,o.jsx)(c,{children:a})]}),m&&(0,o.jsx)(s.ZP,{type:"primary",onClick:i,children:(0,o.jsxs)(l.Z,{align:"center",gap:4,children:[(0,o.jsx)(r.Z,{}),p("systemModelSettings")]})})]})}},73828:function(e,n,a){a.d(n,{Dr:function(){return d},H7:function(){return l.H7},at:function(){return c},qh:function(){return l.qh},rQ:function(){return l.rQ},z7:function(){return u}});var t=a(9783),r=a.n(t),i=a(38520),l=a(9450),s=a(70101),o=a(86074),d=r()(r()(r()(r()(r()(r()(r()({},l.qh.Profile,(0,o.jsx)(i.m2,{})),l.qh.Password,(0,o.jsx)(i.CW,{})),l.qh.Model,(0,o.jsx)(i.eS,{})),l.qh.System,(0,o.jsx)(s.Z,{style:{fontSize:24}})),l.qh.Team,(0,o.jsx)(i.Ww,{})),l.qh.Logout,(0,o.jsx)(i.Hl,{})),l.qh.Api,(0,o.jsx)(i.Fg,{})),c=["Ollama","Xinference","LocalAI","LM-Studio","OpenAI-API-Compatible","TogetherAI","Replicate","OpenRouter","HuggingFace","GPUStack"],u=function(e){return e.Owner="owner",e.Invite="invite",e.Normal="normal",e}({})},596:function(e,n,a){a.r(n),a.d(n,{default:function(){return Pe}});var t=a(62435),r=Object.defineProperty,i=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(e,n,a)=>n in e?r(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a;const d=e=>t.createElement("svg",((e,n)=>{for(var a in n||(n={}))l.call(n,a)&&o(e,a,n[a]);if(i)for(var a of i(n))s.call(n,a)&&o(e,a,n[a]);return e})({width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),t.createElement("path",{d:"M17.667 18.334c.233 0 .35 0 .439-.046a.416.416 0 0 0 .182-.182c.045-.089.045-.206.045-.439V9c0-.233 0-.35-.045-.439a.416.416 0 0 0-.182-.182c-.09-.045-.206-.045-.44-.045h-2c-.233 0-.35 0-.439.045a.417.417 0 0 0-.182.182c-.045.09-.045.206-.045.44v2c0 .233 0 .35-.045.439a.417.417 0 0 1-.182.182c-.09.045-.206.045-.44.045h-2c-.233 0-.35 0-.439.045a.417.417 0 0 0-.182.183c-.045.089-.045.205-.045.439v2c0 .233 0 .35-.046.439a.417.417 0 0 1-.182.182C11.35 15 11.233 15 11 15H9c-.233 0-.35 0-.44.046a.417.417 0 0 0-.181.182c-.046.089-.046.206-.046.439v2c0 .233 0 .35.046.44.04.078.103.141.182.181.089.046.206.046.439.046h8.667ZM8.333 5.667c0-.233 0-.35.046-.44a.417.417 0 0 1 .182-.181C8.65 5 8.767 5 9 5h2c.233 0 .35 0 .44.046.078.04.141.103.181.182.046.089.046.206.046.439v2c0 .233 0 .35-.046.44a.417.417 0 0 1-.182.181c-.089.046-.206.046-.439.046H9c-.233 0-.35 0-.44-.046a.417.417 0 0 1-.181-.182c-.046-.089-.046-.206-.046-.439v-2ZM2.5 10.667c0-.233 0-.35.045-.44a.417.417 0 0 1 .183-.181C2.817 10 2.933 10 3.167 10h2c.233 0 .35 0 .439.046.078.04.142.103.182.182.045.089.045.206.045.439v2c0 .233 0 .35-.045.44a.416.416 0 0 1-.182.181c-.09.046-.206.046-.44.046h-2c-.233 0-.35 0-.438-.046a.416.416 0 0 1-.183-.182c-.045-.089-.045-.206-.045-.439v-2ZM1.667 2.334c0-.234 0-.35.045-.44a.417.417 0 0 1 .182-.182c.09-.045.206-.045.44-.045h2c.233 0 .35 0 .439.045.078.04.142.104.182.183C5 1.984 5 2.1 5 2.333v2c0 .233 0 .35-.045.439a.417.417 0 0 1-.182.182C4.683 5 4.567 5 4.333 5h-2c-.233 0-.35 0-.439-.045a.417.417 0 0 1-.182-.182c-.045-.09-.045-.206-.045-.44v-2Z",stroke:"#98A2B3",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"}));var c=a(46693),u=a(98236),m=a(86968),p=a(38392),h=a(42952),g=a(18429),x=a(22850),f=a(2487),y=a(4393),v=a(71230),k=a(15746),j=a(86250),b=a(42075),M=a(15867),_=a(66309),Z=a(83062),A=a(96074),w=a(75081),I=a(47221),T=a(15112),F=a(73828),L=function(e){return F.at.some((function(n){return n===e}))},S=a(15009),C=a.n(S),q=a(97857),O=a.n(q),P=a(99289),V=a.n(P),K=a(5574),D=a.n(K),G=a(34041),N=a(99859),B=a(85576),z=a(79531),H=a(57557),E=a.n(H),R=a(86074),W=G.Z.Option,U=function(e){var n=e.visible,a=e.hideModal,t=e.onOk,r=e.loading,i=e.llmFactory,l=N.Z.useForm(),s=D()(l,1)[0],o=(0,m.qM)("setting").t,d=function(){var e=V()(C()().mark((function e(){var n,a,r;return C()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.validateFields();case 2:n=e.sent,a=n.model_type,r=O()(O()({},E()(n)),{},{model_type:a,llm_factory:i,max_tokens:16e3}),console.info(r),null==t||t(r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,R.jsx)(B.Z,{title:o("addLlmTitle",{name:i}),open:n,onOk:d,onCancel:a,okButtonProps:{loading:r},footer:function(e){return(0,R.jsxs)(j.Z,{justify:"space-between",children:[(0,R.jsx)("a",{href:"https://cloud.tencent.com/document/api/1093/37823",target:"_blank",rel:"noreferrer",children:o("TencentCloudLink")}),(0,R.jsx)(b.Z,{children:e})]})},confirmLoading:r,children:(0,R.jsxs)(N.Z,{name:"basic",style:{maxWidth:600},autoComplete:"off",layout:"vertical",form:s,children:[(0,R.jsx)(N.Z.Item,{label:o("modelType"),name:"model_type",initialValue:"speech2text",rules:[{required:!0,message:o("modelTypeMessage")}],children:(0,R.jsx)(G.Z,{placeholder:o("modelTypeMessage"),children:(0,R.jsx)(W,{value:"speech2text",children:"speech2text"})})}),(0,R.jsx)(N.Z.Item,{label:o("modelName"),name:"llm_name",initialValue:"16k_zh",rules:[{required:!0,message:o("SparkModelNameMessage")}],children:(0,R.jsxs)(G.Z,{placeholder:o("modelTypeMessage"),children:[(0,R.jsx)(W,{value:"16k_zh",children:"16k_zh"}),(0,R.jsx)(W,{value:"16k_zh_large",children:"16k_zh_large"}),(0,R.jsx)(W,{value:"16k_multi_lang",children:"16k_multi_lang"}),(0,R.jsx)(W,{value:"16k_zh_dialect",children:"16k_zh_dialect"}),(0,R.jsx)(W,{value:"16k_en",children:"16k_en"}),(0,R.jsx)(W,{value:"16k_yue",children:"16k_yue"}),(0,R.jsx)(W,{value:"16k_zh-PY",children:"16k_zh-PY"}),(0,R.jsx)(W,{value:"16k_ja",children:"16k_ja"}),(0,R.jsx)(W,{value:"16k_ko",children:"16k_ko"}),(0,R.jsx)(W,{value:"16k_vi",children:"16k_vi"}),(0,R.jsx)(W,{value:"16k_ms",children:"16k_ms"}),(0,R.jsx)(W,{value:"16k_id",children:"16k_id"}),(0,R.jsx)(W,{value:"16k_fil",children:"16k_fil"}),(0,R.jsx)(W,{value:"16k_th",children:"16k_th"}),(0,R.jsx)(W,{value:"16k_pt",children:"16k_pt"}),(0,R.jsx)(W,{value:"16k_tr",children:"16k_tr"}),(0,R.jsx)(W,{value:"16k_ar",children:"16k_ar"}),(0,R.jsx)(W,{value:"16k_es",children:"16k_es"}),(0,R.jsx)(W,{value:"16k_hi",children:"16k_hi"}),(0,R.jsx)(W,{value:"16k_fr",children:"16k_fr"}),(0,R.jsx)(W,{value:"16k_zh_medical",children:"16k_zh_medical"}),(0,R.jsx)(W,{value:"16k_de",children:"16k_de"})]})}),(0,R.jsx)(N.Z.Item,{label:o("addTencentCloudSID"),name:"TencentCloud_sid",rules:[{required:!0,message:o("TencentCloudSIDMessage")}],children:(0,R.jsx)(z.Z,{placeholder:o("TencentCloudSIDMessage")})}),(0,R.jsx)(N.Z.Item,{label:o("addTencentCloudSK"),name:"TencentCloud_sk",rules:[{required:!0,message:o("TencentCloudSKMessage")}],children:(0,R.jsx)(z.Z,{placeholder:o("TencentCloudSKMessage")})})]})})},Q=["OpenAI","Azure-OpenAI"],X=function(e){var n=e.visible,a=e.hideModal,r=e.llmFactory,i=e.loading,l=e.initialValue,s=e.onOk,o=N.Z.useForm(),d=D()(o,1)[0],c=(0,m.qM)("setting").t,u=function(){var e=V()(C()().mark((function e(){var n;return C()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.validateFields();case 2:return n=e.sent,e.abrupt("return",s(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){n&&d.setFieldValue("api_key",l)}),[l,d,n]),(0,R.jsx)(B.Z,{title:c("modify"),open:n,onOk:u,onCancel:a,okButtonProps:{loading:i},confirmLoading:i,children:(0,R.jsxs)(N.Z,{name:"basic",labelCol:{span:6},wrapperCol:{span:18},style:{maxWidth:600},autoComplete:"off",form:d,children:[(0,R.jsx)(N.Z.Item,{label:c("apiKey"),name:"api_key",tooltip:c("apiKeyTip"),rules:[{required:!0,message:c("apiKeyMessage")}],children:(0,R.jsx)(z.Z,{})}),Q.some((function(e){return e===r}))&&(0,R.jsx)(N.Z.Item,{label:c("baseUrl"),name:"base_url",tooltip:c("baseUrlTip"),children:(0,R.jsx)(z.Z,{placeholder:"https://api.openai.com/v1"})}),(null==r?void 0:r.toLowerCase())==="Minimax".toLowerCase()&&(0,R.jsx)(N.Z.Item,{label:"Group ID",name:"group_id",children:(0,R.jsx)(z.Z,{})})]})})},$=a(48928),Y=a(72269),J=G.Z.Option,ee=function(e){var n=e.visible,a=e.hideModal,t=e.onOk,r=e.loading,i=e.llmFactory,l=N.Z.useForm(),s=D()(l,1)[0],o=(0,m.qM)("setting").t,d=function(){var e=V()(C()().mark((function e(){var n,a,r;return C()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.validateFields();case 2:n=e.sent,a="chat"===n.model_type&&n.vision?"image2text":n.model_type,r=O()(O()({},E()(n,["vision"])),{},{model_type:a,llm_factory:i,max_tokens:n.max_tokens}),console.info(r),null==t||t(r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=[{value:"chat",label:"chat"},{value:"embedding",label:"embedding"},{value:"image2text",label:"image2text"}];return(0,R.jsx)(B.Z,{title:o("addLlmTitle",{name:i}),open:n,onOk:d,onCancel:a,okButtonProps:{loading:r},children:(0,R.jsxs)(N.Z,{name:"basic",style:{maxWidth:600},autoComplete:"off",layout:"vertical",form:s,children:[(0,R.jsx)(N.Z.Item,{label:o("modelType"),name:"model_type",initialValue:"embedding",rules:[{required:!0,message:o("modelTypeMessage")}],children:(0,R.jsx)(G.Z,{placeholder:o("modelTypeMessage"),children:c.map((function(e){return(0,R.jsx)(J,{value:e.value,children:e.label},e.value)}))})}),(0,R.jsx)(N.Z.Item,{label:o("addLlmBaseUrl"),name:"api_base",rules:[{required:!0,message:o("baseUrlNameMessage")}],children:(0,R.jsx)(z.Z,{placeholder:o("baseUrlNameMessage")})}),(0,R.jsx)(N.Z.Item,{label:o("apiKey"),name:"api_key",rules:[{required:!1,message:o("apiKeyMessage")}],children:(0,R.jsx)(z.Z,{placeholder:o("apiKeyMessage")})}),(0,R.jsx)(N.Z.Item,{label:o("modelName"),name:"llm_name",initialValue:"gpt-3.5-turbo",rules:[{required:!0,message:o("modelNameMessage")}],children:(0,R.jsx)(z.Z,{placeholder:o("modelNameMessage")})}),(0,R.jsx)(N.Z.Item,{label:o("apiVersion"),name:"api_version",initialValue:"2024-02-01",rules:[{required:!1,message:o("apiVersionMessage")}],children:(0,R.jsx)(z.Z,{placeholder:o("apiVersionMessage")})}),(0,R.jsx)(N.Z.Item,{label:o("maxTokens"),name:"max_tokens",rules:[{required:!0,message:o("maxTokensMessage")},{type:"number",message:o("maxTokensInvalidMessage")},function(e){e.getFieldValue;return{validator:function(e,n){return n<0?Promise.reject(new Error(o("maxTokensMinMessage"))):Promise.resolve()}}}],children:(0,R.jsx)($.Z,{placeholder:o("maxTokensTip"),style:{width:"100%"}})}),(0,R.jsx)(N.Z.Item,{noStyle:!0,dependencies:["model_type"],children:function(e){return"chat"===(0,e.getFieldValue)("model_type")&&(0,R.jsx)(N.Z.Item,{label:o("vision"),valuePropName:"checked",name:"vision",children:(0,R.jsx)(Y.Z,{})})}})]})})},ne=["us-east-1","us-west-2","ap-southeast-1","ap-northeast-1","eu-central-1","us-gov-west-1","ap-southeast-2"],ae=G.Z.Option,te=function(e){var n=e.visible,a=e.hideModal,r=e.onOk,i=e.loading,l=e.llmFactory,s=N.Z.useForm(),o=D()(s,1)[0],d=(0,m.qM)("setting").t,c=(0,t.useMemo)((function(){return ne.map((function(e){return{value:e,label:d(e)}}))}),[d]),u=function(){var e=V()(C()().mark((function e(){var n,a;return C()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.validateFields();case 2:n=e.sent,a=O()(O()({},n),{},{llm_factory:l,max_tokens:n.max_tokens}),null==r||r(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,R.jsx)(B.Z,{title:d("addLlmTitle",{name:l}),open:n,onOk:u,onCancel:a,okButtonProps:{loading:i},footer:function(e){return(0,R.jsxs)(j.Z,{justify:"space-between",children:[(0,R.jsx)("a",{href:"https://console.aws.amazon.com/",target:"_blank",rel:"noreferrer",children:d("ollamaLink",{name:l})}),(0,R.jsx)(b.Z,{children:e})]})},children:(0,R.jsxs)(N.Z,{name:"basic",style:{maxWidth:600},autoComplete:"off",layout:"vertical",form:o,children:[(0,R.jsx)(N.Z.Item,{label:d("modelType"),name:"model_type",initialValue:"chat",rules:[{required:!0,message:d("modelTypeMessage")}],children:(0,R.jsxs)(G.Z,{placeholder:d("modelTypeMessage"),children:[(0,R.jsx)(ae,{value:"chat",children:"chat"}),(0,R.jsx)(ae,{value:"embedding",children:"embedding"})]})}),(0,R.jsx)(N.Z.Item,{label:d("modelName"),name:"llm_name",rules:[{required:!0,message:d("bedrockModelNameMessage")}],children:(0,R.jsx)(z.Z,{placeholder:d("bedrockModelNameMessage")})}),(0,R.jsx)(N.Z.Item,{label:d("addBedrockEngineAK"),name:"bedrock_ak",rules:[{required:!0,message:d("bedrockAKMessage")}],children:(0,R.jsx)(z.Z,{placeholder:d("bedrockAKMessage")})}),(0,R.jsx)(N.Z.Item,{label:d("addBedrockSK"),name:"bedrock_sk",rules:[{required:!0,message:d("bedrockSKMessage")}],children:(0,R.jsx)(z.Z,{placeholder:d("bedrockSKMessage")})}),(0,R.jsx)(N.Z.Item,{label:d("bedrockRegion"),name:"bedrock_region",rules:[{required:!0,message:d("bedrockRegionMessage")}],children:(0,R.jsx)(G.Z,{placeholder:d("bedrockRegionMessage"),options:c,allowClear:!0})}),(0,R.jsx)(N.Z.Item,{label:d("maxTokens"),name:"max_tokens",rules:[{required:!0,message:d("maxTokensMessage")},{type:"number",message:d("maxTokensInvalidMessage")},function(e){e.getFieldValue;return{validator:function(e,n){return n<0?Promise.reject(new Error(d("maxTokensMinMessage"))):Promise.resolve()}}}],children:(0,R.jsx)($.Z,{placeholder:d("maxTokensTip"),style:{width:"100%"}})})]})})},re=G.Z.Option,ie=function(e){var n=e.visible,a=e.hideModal,t=e.onOk,r=e.loading,i=e.llmFactory,l=N.Z.useForm(),s=D()(l,1)[0],o=(0,m.qM)("setting").t,d=function(){var e=V()(C()().mark((function e(){var n,a,r;return C()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.validateFields();case 2:n=e.sent,a=n.model_type,r=O()(O()({},E()(n)),{},{model_type:a,llm_factory:i,max_tokens:n.max_tokens}),console.info(r),null==t||t(r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,R.jsx)(B.Z,{title:o("addLlmTitle",{name:i}),open:n,onOk:d,onCancel:a,okButtonProps:{loading:r},footer:function(e){return(0,R.jsxs)(j.Z,{justify:"space-between",children:[(0,R.jsx)("a",{href:"https://fish.audio",target:"_blank",rel:"noreferrer",children:o("FishAudioLink")}),(0,R.jsx)(b.Z,{children:e})]})},confirmLoading:r,children:(0,R.jsxs)(N.Z,{name:"basic",style:{maxWidth:600},autoComplete:"off",layout:"vertical",form:s,children:[(0,R.jsx)(N.Z.Item,{label:o("modelType"),name:"model_type",initialValue:"tts",rules:[{required:!0,message:o("modelTypeMessage")}],children:(0,R.jsx)(G.Z,{placeholder:o("modelTypeMessage"),children:(0,R.jsx)(re,{value:"tts",children:"tts"})})}),(0,R.jsx)(N.Z.Item,{label:o("modelName"),name:"llm_name",rules:[{required:!0,message:o("FishAudioModelNameMessage")}],children:(0,R.jsx)(z.Z,{placeholder:o("FishAudioModelNameMessage")})}),(0,R.jsx)(N.Z.Item,{label:o("addFishAudioAK"),name:"fish_audio_ak",rules:[{required:!0,message:o("FishAudioAKMessage")}],children:(0,R.jsx)(z.Z,{placeholder:o("FishAudioAKMessage")})}),(0,R.jsx)(N.Z.Item,{label:o("addFishAudioRefID"),name:"fish_audio_refid",rules:[{required:!0,message:o("FishAudioRefIDMessage")}],children:(0,R.jsx)(z.Z,{placeholder:o("FishAudioRefIDMessage")})}),(0,R.jsx)(N.Z.Item,{label:o("maxTokens"),name:"max_tokens",rules:[{required:!0,message:o("maxTokensMessage")},{type:"number",message:o("maxTokensInvalidMessage")},function(e){e.getFieldValue;return{validator:function(e,n){return n<0?Promise.reject(new Error(o("maxTokensMinMessage"))):Promise.resolve()}}}],children:(0,R.jsx)($.Z,{placeholder:o("maxTokensTip"),style:{width:"100%"}})})]})})},le=G.Z.Option,se=function(e){var n=e.visible,a=e.hideModal,t=e.onOk,r=e.loading,i=e.llmFactory,l=N.Z.useForm(),s=D()(l,1)[0],o=(0,m.qM)("setting").t,d=function(){var e=V()(C()().mark((function e(){var n,a;return C()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.validateFields();case 2:n=e.sent,a=O()(O()({},n),{},{llm_factory:i,max_tokens:n.max_tokens}),null==t||t(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,R.jsx)(B.Z,{title:o("addLlmTitle",{name:i}),open:n,onOk:d,onCancel:a,okButtonProps:{loading:r},children:(0,R.jsxs)(N.Z,{name:"basic",style:{maxWidth:600},autoComplete:"off",layout:"vertical",form:s,children:[(0,R.jsx)(N.Z.Item,{label:o("modelType"),name:"model_type",initialValue:"chat",rules:[{required:!0,message:o("modelTypeMessage")}],children:(0,R.jsx)(G.Z,{placeholder:o("modelTypeMessage"),children:(0,R.jsx)(le,{value:"chat",children:"chat"})})}),(0,R.jsx)(N.Z.Item,{label:o("modelID"),name:"llm_name",rules:[{required:!0,message:o("GoogleModelIDMessage")}],children:(0,R.jsx)(z.Z,{placeholder:o("GoogleModelIDMessage")})}),(0,R.jsx)(N.Z.Item,{label:o("addGoogleProjectID"),name:"google_project_id",rules:[{required:!0,message:o("GoogleProjectIDMessage")}],children:(0,R.jsx)(z.Z,{placeholder:o("GoogleProjectIDMessage")})}),(0,R.jsx)(N.Z.Item,{label:o("addGoogleRegion"),name:"google_region",rules:[{required:!0,message:o("GoogleRegionMessage")}],children:(0,R.jsx)(z.Z,{placeholder:o("GoogleRegionMessage")})}),(0,R.jsx)(N.Z.Item,{label:o("addGoogleServiceAccountKey"),name:"google_service_account_key",rules:[{required:!0,message:o("GoogleServiceAccountKeyMessage")}],children:(0,R.jsx)(z.Z,{placeholder:o("GoogleServiceAccountKeyMessage")})}),(0,R.jsx)(N.Z.Item,{label:o("maxTokens"),name:"max_tokens",rules:[{required:!0,message:o("maxTokensMessage")},{type:"number",message:o("maxTokensInvalidMessage")},function(e){e.getFieldValue;return{validator:function(e,n){return n<0?Promise.reject(new Error(o("maxTokensMinMessage"))):Promise.resolve()}}}],children:(0,R.jsx)($.Z,{placeholder:o("maxTokensTip"),style:{width:"100%"}})})]})})},oe=a(39259),de=(G.Z.Option,function(e){var n=e.visible,a=e.hideModal,t=e.onOk,r=e.loading,i=e.llmFactory,l=N.Z.useForm(),s=D()(l,1)[0],o=(0,m.qM)("setting").t,d=function(){var e=V()(C()().mark((function e(){var n,a,r;return C()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.validateFields();case 2:n=e.sent,a="chat"===n.model_type&&n.vision?"image2text":n.model_type,r=O()(O()({},E()(n,["vision"])),{},{model_type:a,llm_factory:i}),console.info(r),null==t||t(r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,R.jsx)(B.Z,{title:o("addLlmTitle",{name:i}),open:n,onOk:d,onCancel:a,okButtonProps:{loading:r},confirmLoading:r,children:(0,R.jsxs)(N.Z,{name:"basic",style:{maxWidth:600},autoComplete:"off",layout:"vertical",form:s,children:[(0,R.jsx)(N.Z.Item,{label:o("addHunyuanSID"),name:"hunyuan_sid",rules:[{required:!0,message:o("HunyuanSIDMessage")}],children:(0,R.jsx)(z.Z,{placeholder:o("HunyuanSIDMessage")})}),(0,R.jsx)(N.Z.Item,{label:o("addHunyuanSK"),name:"hunyuan_sk",rules:[{required:!0,message:o("HunyuanSKMessage")}],children:(0,R.jsx)(z.Z,{placeholder:o("HunyuanSKMessage")})})]})})}),ce="modelWrapper___yEYPC",ue="modelContainer___4mtpv",me="factoryOperationWrapper___a81tC",pe="llmList___HikAV",he="toBeAddedCard___GDSNv",ge="addButton___svc17",xe="toBeAddedCardDark___jzF6r",fe="addedCard___Rpr3p",ye="addedCardDark___v7dR4",ve="modelDivider___tQvoh",ke="modelTags___jMkaX",je=G.Z.Option,be={Ollama:"https://github.com/infiniflow/ragflow/blob/main/docs/guides/deploy_local_llm.mdx",Xinference:"https://inference.readthedocs.io/en/latest/user_guide",LocalAI:"https://localai.io/docs/getting-started/models/","LM-Studio":"https://lmstudio.ai/docs/basics","OpenAI-API-Compatible":"https://platform.openai.com/docs/models/gpt-4",TogetherAI:"https://docs.together.ai/docs/deployment-options",Replicate:"https://replicate.com/docs/topics/deployments",OpenRouter:"https://openrouter.ai/docs",HuggingFace:"https://huggingface.co/docs/text-embeddings-inference/quick_tour",GPUStack:"https://docs.gpustack.ai/latest/quickstart"},Me=function(e){var n,a=e.visible,t=e.hideModal,r=e.onOk,i=e.loading,l=e.llmFactory,s=N.Z.useForm(),o=D()(s,1)[0],d=(0,m.qM)("setting").t,c=function(){var e=V()(C()().mark((function e(){var n,a,t;return C()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.validateFields();case 2:n=e.sent,a="chat"===n.model_type&&n.vision?"image2text":n.model_type,t=O()(O()({},E()(n,["vision"])),{},{model_type:a,llm_factory:l,max_tokens:n.max_tokens}),console.info(t),null==r||r(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=be[l]||"https://github.com/infiniflow/ragflow/blob/main/docs/guides/deploy_local_llm.mdx",p={HuggingFace:[{value:"embedding",label:"embedding"},{value:"chat",label:"chat"}],Xinference:[{value:"chat",label:"chat"},{value:"embedding",label:"embedding"},{value:"rerank",label:"rerank"},{value:"image2text",label:"image2text"},{value:"speech2text",label:"sequence2text"},{value:"tts",label:"tts"}],GPUStack:[{value:"chat",label:"chat"},{value:"embedding",label:"embedding"},{value:"rerank",label:"rerank"},{value:"speech2text",label:"sequence2text"},{value:"tts",label:"tts"}],Default:[{value:"chat",label:"chat"},{value:"embedding",label:"embedding"},{value:"rerank",label:"rerank"},{value:"image2text",label:"image2text"}]};return(0,R.jsx)(B.Z,{title:d("addLlmTitle",{name:l}),open:a,onOk:c,onCancel:t,okButtonProps:{loading:i},footer:function(e){return(0,R.jsxs)(j.Z,{justify:"space-between",children:[(0,R.jsx)("a",{href:u,target:"_blank",rel:"noreferrer",children:d("ollamaLink",{name:l})}),(0,R.jsx)(b.Z,{children:e})]})},children:(0,R.jsxs)(N.Z,{name:"basic",style:{maxWidth:600},autoComplete:"off",layout:"vertical",form:o,children:[(0,R.jsx)(N.Z.Item,{label:d("modelType"),name:"model_type",initialValue:"embedding",rules:[{required:!0,message:d("modelTypeMessage")}],children:(0,R.jsx)(G.Z,{placeholder:d("modelTypeMessage"),children:(n=l,p[n]||p.Default).map((function(e){return(0,R.jsx)(je,{value:e.value,children:e.label},e.value)}))})}),(0,R.jsx)(N.Z.Item,{label:d("Xinference"===l?"modelUid":"modelName"),name:"llm_name",rules:[{required:!0,message:d("modelNameMessage")}],children:(0,R.jsx)(z.Z,{placeholder:d("modelNameMessage")})}),(0,R.jsx)(N.Z.Item,{label:d("addLlmBaseUrl"),name:"api_base",rules:[{required:!0,message:d("baseUrlNameMessage")}],children:(0,R.jsx)(z.Z,{placeholder:d("baseUrlNameMessage")})}),(0,R.jsx)(N.Z.Item,{label:d("apiKey"),name:"api_key",rules:[{required:!1,message:d("apiKeyMessage")}],children:(0,R.jsx)(z.Z,{placeholder:d("apiKeyMessage")})}),(0,R.jsx)(N.Z.Item,{label:d("maxTokens"),name:"max_tokens",rules:[{required:!0,message:d("maxTokensMessage")},{type:"number",message:d("maxTokensInvalidMessage")},function(e){e.getFieldValue;return{validator:function(e,n){return n<0?Promise.reject(new Error(d("maxTokensMinMessage"))):Promise.resolve()}}}],children:(0,R.jsx)($.Z,{placeholder:d("maxTokensTip"),style:{width:"100%"}})}),(0,R.jsx)(N.Z.Item,{noStyle:!0,dependencies:["model_type"],children:function(e){return"chat"===(0,e.getFieldValue)("model_type")&&(0,R.jsx)(N.Z.Item,{label:d("vision"),valuePropName:"checked",name:"vision",children:(0,R.jsx)(Y.Z,{})})}})]})})},_e=G.Z.Option,Ze=function(e){var n=e.visible,a=e.hideModal,t=e.onOk,r=e.loading,i=e.llmFactory,l=N.Z.useForm(),s=D()(l,1)[0],o=(0,m.qM)("setting").t,d=function(){var e=V()(C()().mark((function e(){var n,a,r;return C()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.validateFields();case 2:n=e.sent,a="chat"===n.model_type&&n.vision?"image2text":n.model_type,r=O()(O()({},E()(n,["vision"])),{},{model_type:a,llm_factory:i,max_tokens:n.max_tokens}),console.info(r),null==t||t(r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,R.jsx)(B.Z,{title:o("addLlmTitle",{name:i}),open:n,onOk:d,onCancel:a,okButtonProps:{loading:r},confirmLoading:r,children:(0,R.jsxs)(N.Z,{name:"basic",style:{maxWidth:600},autoComplete:"off",layout:"vertical",form:s,children:[(0,R.jsx)(N.Z.Item,{label:o("modelType"),name:"model_type",initialValue:"chat",rules:[{required:!0,message:o("modelTypeMessage")}],children:(0,R.jsxs)(G.Z,{placeholder:o("modelTypeMessage"),children:[(0,R.jsx)(_e,{value:"chat",children:"chat"}),(0,R.jsx)(_e,{value:"tts",children:"tts"})]})}),(0,R.jsx)(N.Z.Item,{label:o("modelName"),name:"llm_name",rules:[{required:!0,message:o("SparkModelNameMessage")}],children:(0,R.jsx)(z.Z,{placeholder:o("modelNameMessage")})}),(0,R.jsx)(N.Z.Item,{noStyle:!0,dependencies:["model_type"],children:function(e){return"chat"===(0,e.getFieldValue)("model_type")&&(0,R.jsx)(N.Z.Item,{label:o("addSparkAPIPassword"),name:"spark_api_password",rules:[{required:!0,message:o("SparkAPIPasswordMessage")}],children:(0,R.jsx)(z.Z,{placeholder:o("SparkAPIPasswordMessage")})})}}),(0,R.jsx)(N.Z.Item,{noStyle:!0,dependencies:["model_type"],children:function(e){return"tts"===(0,e.getFieldValue)("model_type")&&(0,R.jsx)(N.Z.Item,{label:o("addSparkAPPID"),name:"spark_app_id",rules:[{required:!0,message:o("SparkAPPIDMessage")}],children:(0,R.jsx)(z.Z,{placeholder:o("SparkAPPIDMessage")})})}}),(0,R.jsx)(N.Z.Item,{noStyle:!0,dependencies:["model_type"],children:function(e){return"tts"===(0,e.getFieldValue)("model_type")&&(0,R.jsx)(N.Z.Item,{label:o("addSparkAPISecret"),name:"spark_api_secret",rules:[{required:!0,message:o("SparkAPISecretMessage")}],children:(0,R.jsx)(z.Z,{placeholder:o("SparkAPISecretMessage")})})}}),(0,R.jsx)(N.Z.Item,{noStyle:!0,dependencies:["model_type"],children:function(e){return"tts"===(0,e.getFieldValue)("model_type")&&(0,R.jsx)(N.Z.Item,{label:o("addSparkAPIKey"),name:"spark_api_key",rules:[{required:!0,message:o("SparkAPIKeyMessage")}],children:(0,R.jsx)(z.Z,{placeholder:o("SparkAPIKeyMessage")})})}}),(0,R.jsx)(N.Z.Item,{label:o("maxTokens"),name:"max_tokens",rules:[{required:!0,message:o("maxTokensMessage")},{type:"number",message:o("maxTokensInvalidMessage")},function(e){e.getFieldValue;return{validator:function(e,n){return n<0?Promise.reject(new Error(o("maxTokensMinMessage"))):Promise.resolve()}}}],children:(0,R.jsx)($.Z,{placeholder:o("maxTokensTip"),style:{width:"100%"}})})]})})},Ae=a(19632),we=a.n(Ae),Ie=a(96330),Te=function(e){var n=e.visible,a=e.hideModal,r=e.onOk,i=e.loading,l=N.Z.useForm(),s=D()(l,1)[0],o={systemSetting:(0,oe.fS)().data,allOptions:(0,p.hl)()},d=o.systemSetting,c=o.allOptions,u=(0,m.qM)("setting").t,h=function(){var e=V()(C()().mark((function e(){var n,a,t,i,l;return C()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.validateFields();case 2:l=e.sent,r(O()(O()({},l),{},{asr_id:null!==(n=l.asr_id)&&void 0!==n?n:"",embd_id:null!==(a=l.embd_id)&&void 0!==a?a:"",img2txt_id:null!==(t=l.img2txt_id)&&void 0!==t?t:"",llm_id:null!==(i=l.llm_id)&&void 0!==i?i:""}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){n&&s.setFieldsValue(d)}),[s,d,n]);return(0,R.jsx)(B.Z,{title:u("systemModelSettings"),open:n,onOk:h,onCancel:a,okButtonProps:{loading:i},confirmLoading:i,children:(0,R.jsxs)(N.Z,{form:s,onValuesChange:function(){},layout:"vertical",children:[(0,R.jsx)(N.Z.Item,{label:u("chatModel"),name:"llm_id",tooltip:u("chatModelTip"),children:(0,R.jsx)(G.Z,{options:[].concat(we()(c[Ie.Vr.Chat]),we()(c[Ie.Vr.Image2text])),allowClear:!0})}),(0,R.jsx)(N.Z.Item,{label:u("embeddingModel"),name:"embd_id",tooltip:u("embeddingModelTip"),children:(0,R.jsx)(G.Z,{options:c[Ie.Vr.Embedding],allowClear:!0})}),(0,R.jsx)(N.Z.Item,{label:u("img2txtModel"),name:"img2txt_id",tooltip:u("img2txtModelTip"),children:(0,R.jsx)(G.Z,{options:c[Ie.Vr.Image2text],allowClear:!0})}),(0,R.jsx)(N.Z.Item,{label:u("sequence2txtModel"),name:"asr_id",tooltip:u("sequence2txtModelTip"),children:(0,R.jsx)(G.Z,{options:c[Ie.Vr.Speech2text],allowClear:!0})}),(0,R.jsx)(N.Z.Item,{label:u("rerankModel"),name:"rerank_id",tooltip:u("rerankModelTip"),children:(0,R.jsx)(G.Z,{options:c[Ie.Vr.Rerank],allowClear:!0})}),(0,R.jsx)(N.Z.Item,{label:u("ttsModel"),name:"tts_id",tooltip:u("ttsModelTip"),children:(0,R.jsx)(G.Z,{options:c[Ie.Vr.TTS],allowClear:!0})})]})})},Fe=G.Z.Option,Le=function(e){var n=e.visible,a=e.hideModal,t=e.onOk,r=e.loading,i=e.llmFactory,l=N.Z.useForm(),s=D()(l,1)[0],o=(0,m.qM)("setting").t,d=function(){var e=V()(C()().mark((function e(){var n,a,r;return C()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.validateFields();case 2:n=e.sent,a="chat"===n.model_type&&n.vision?"image2text":n.model_type,r=O()(O()({},E()(n,["vision"])),{},{model_type:a,llm_factory:i,max_tokens:n.max_tokens}),console.info(r),null==t||t(r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,R.jsx)(B.Z,{title:o("addLlmTitle",{name:i}),open:n,onOk:d,onCancel:a,okButtonProps:{loading:r},footer:function(e){return(0,R.jsxs)(j.Z,{justify:"space-between",children:[(0,R.jsx)("a",{href:"https://www.volcengine.com/docs/82379/1302008",target:"_blank",rel:"noreferrer",children:o("ollamaLink",{name:i})}),(0,R.jsx)(b.Z,{children:e})]})},children:(0,R.jsxs)(N.Z,{name:"basic",style:{maxWidth:600},autoComplete:"off",layout:"vertical",form:s,children:[(0,R.jsx)(N.Z.Item,{label:o("modelType"),name:"model_type",initialValue:"chat",rules:[{required:!0,message:o("modelTypeMessage")}],children:(0,R.jsxs)(G.Z,{placeholder:o("modelTypeMessage"),children:[(0,R.jsx)(Fe,{value:"chat",children:"chat"}),(0,R.jsx)(Fe,{value:"embedding",children:"embedding"})]})}),(0,R.jsx)(N.Z.Item,{label:o("modelName"),name:"llm_name",rules:[{required:!0,message:o("volcModelNameMessage")}],children:(0,R.jsx)(z.Z,{placeholder:o("volcModelNameMessage")})}),(0,R.jsx)(N.Z.Item,{label:o("addEndpointID"),name:"endpoint_id",rules:[{required:!0,message:o("endpointIDMessage")}],children:(0,R.jsx)(z.Z,{placeholder:o("endpointIDMessage")})}),(0,R.jsx)(N.Z.Item,{label:o("addArkApiKey"),name:"ark_api_key",rules:[{required:!0,message:o("ArkApiKeyMessage")}],children:(0,R.jsx)(z.Z,{placeholder:o("ArkApiKeyMessage")})}),(0,R.jsx)(N.Z.Item,{label:o("maxTokens"),name:"max_tokens",rules:[{required:!0,message:o("maxTokensMessage")},{type:"number",message:o("maxTokensInvalidMessage")},function(e){e.getFieldValue;return{validator:function(e,n){return n<0?Promise.reject(new Error(o("maxTokensMinMessage"))):Promise.resolve()}}}],children:(0,R.jsx)($.Z,{placeholder:o("maxTokensTip"),style:{width:"100%"}})})]})})},Se=G.Z.Option,Ce=function(e){var n=e.visible,a=e.hideModal,t=e.onOk,r=e.loading,i=e.llmFactory,l=N.Z.useForm(),s=D()(l,1)[0],o=(0,m.qM)("setting").t,d=function(){var e=V()(C()().mark((function e(){var n,a,r;return C()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.validateFields();case 2:n=e.sent,a="chat"===n.model_type&&n.vision?"image2text":n.model_type,r=O()(O()({},E()(n,["vision"])),{},{model_type:a,llm_factory:i,max_tokens:n.max_tokens}),console.info(r),null==t||t(r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,R.jsx)(B.Z,{title:o("addLlmTitle",{name:i}),open:n,onOk:d,onCancel:a,okButtonProps:{loading:r},confirmLoading:r,children:(0,R.jsxs)(N.Z,{name:"basic",style:{maxWidth:600},autoComplete:"off",layout:"vertical",form:s,children:[(0,R.jsx)(N.Z.Item,{label:o("modelType"),name:"model_type",initialValue:"chat",rules:[{required:!0,message:o("modelTypeMessage")}],children:(0,R.jsxs)(G.Z,{placeholder:o("modelTypeMessage"),children:[(0,R.jsx)(Se,{value:"chat",children:"chat"}),(0,R.jsx)(Se,{value:"embedding",children:"embedding"}),(0,R.jsx)(Se,{value:"rerank",children:"rerank"})]})}),(0,R.jsx)(N.Z.Item,{label:o("modelName"),name:"llm_name",rules:[{required:!0,message:o("yiyanModelNameMessage")}],children:(0,R.jsx)(z.Z,{placeholder:o("yiyanModelNameMessage")})}),(0,R.jsx)(N.Z.Item,{label:o("addyiyanAK"),name:"yiyan_ak",rules:[{required:!0,message:o("yiyanAKMessage")}],children:(0,R.jsx)(z.Z,{placeholder:o("yiyanAKMessage")})}),(0,R.jsx)(N.Z.Item,{label:o("addyiyanSK"),name:"yiyan_sk",rules:[{required:!0,message:o("yiyanSKMessage")}],children:(0,R.jsx)(z.Z,{placeholder:o("yiyanSKMessage")})}),(0,R.jsx)(N.Z.Item,{label:o("maxTokens"),name:"max_tokens",rules:[{required:!0,message:o("maxTokensMessage")},{type:"number",message:o("maxTokensInvalidMessage")},function(e){e.getFieldValue;return{validator:function(e,n){return n<0?Promise.reject(new Error(o("maxTokensMinMessage"))):Promise.resolve()}}}],children:(0,R.jsx)($.Z,{placeholder:o("maxTokensTip"),style:{width:"100%"}})})]})})},qe=x.Z.Text,Oe=function(e){var n,a,t,r=e.item,i=e.clickApiKey,l=(0,m.pG)(),s=l.visible,o=l.switchVisible,x=(0,m.qM)("setting").t,A=(0,u.Fg)().theme,w=(n=r.name,a=(0,p.Ju)().deleteLlm,t=(0,m.I3)(),{handleDeleteLlm:function(e){return function(){var r;t({onOk:(r=V()(C()().mark((function t(){return C()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({llm_factory:n,llm_name:e});case 1:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)})})}}}),I=w.handleDeleteLlm,T=function(e){var n=(0,p.X7)().deleteFactory,a=(0,m.I3)();return{handleDeleteFactory:function(){var t;a({onOk:(t=V()(C()().mark((function a(){return C()().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n({llm_factory:e});case 1:case"end":return a.stop()}}),a)}))),function(){return t.apply(this,arguments)})})}}}(r.name),F=T.handleDeleteFactory;return(0,R.jsx)(f.Z.Item,{children:(0,R.jsxs)(y.Z,{className:"dark"===A?ye:fe,children:[(0,R.jsxs)(v.Z,{align:"middle",children:[(0,R.jsx)(k.Z,{span:12,children:(0,R.jsxs)(j.Z,{gap:"middle",align:"center",children:[(0,R.jsx)(c.$,{name:r.name}),(0,R.jsxs)(j.Z,{vertical:!0,gap:"small",children:[(0,R.jsx)("b",{children:r.name}),(0,R.jsx)(qe,{children:r.tags})]})]})}),(0,R.jsx)(k.Z,{span:12,className:me,children:(0,R.jsxs)(b.Z,{size:"middle",children:[(0,R.jsx)(M.ZP,{onClick:function(){i(r.name)},children:(0,R.jsxs)(j.Z,{align:"center",gap:4,children:[L(r.name)||"VolcEngine"===r.name||"Tencent Hunyuan"===r.name||"XunFei Spark"===r.name||"BaiduYiyan"===r.name||"Fish Audio"===r.name||"Tencent Cloud"===r.name||"Google Cloud"===r.name||"Azure OpenAI"===r.name?x("addTheModel"):"API-Key",(0,R.jsx)(h.Z,{})]})}),(0,R.jsx)(M.ZP,{onClick:function(){o()},children:(0,R.jsxs)(j.Z,{align:"center",gap:4,children:[x("showMoreModels"),(0,R.jsx)(d,{})]})}),(0,R.jsx)(M.ZP,{type:"text",onClick:F,children:(0,R.jsx)(j.Z,{align:"center",children:(0,R.jsx)(g.Z,{style:{color:"#D92D20"}})})})]})})]}),s&&(0,R.jsx)(f.Z,{size:"small",dataSource:r.llm,className:pe,renderItem:function(e){return(0,R.jsx)(f.Z.Item,{children:(0,R.jsxs)(b.Z,{children:[e.name," ",(0,R.jsx)(_.Z,{color:"#b8b8b8",children:e.type}),(0,R.jsx)(Z.Z,{title:x("delete",{keyPrefix:"common"}),children:(0,R.jsx)(M.ZP,{type:"text",onClick:I(e.name),children:(0,R.jsx)(g.Z,{style:{color:"#D92D20"}})})})]})})}})]})})},Pe=function(){var e=(0,p.DC)(),n=e.factoryList,a=e.myLlmList,r=e.loading,i=(0,u.Fg)().theme,l=function(){var e=(0,t.useState)({}),n=D()(e,2),a=n[0],r=n[1],i=(0,p.ux)(),l=i.saveApiKey,s=i.loading,o=(0,m.pG)(),d=o.visible,c=o.hideModal,u=o.showModal,h=(0,t.useCallback)(function(){var e=V()(C()().mark((function e(n){return C()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(O()(O()({},a),n));case 2:0===e.sent&&c();case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[c,l,a]),g=(0,t.useCallback)((function(e){r(e),u()}),[u,r]);return{saveApiKeyLoading:s,initialApiKey:"",llmFactory:a.llm_factory,onApiKeySavingOk:h,apiKeyVisible:d,hideApiKeyModal:c,showApiKeyModal:g}}(),s=l.saveApiKeyLoading,o=l.initialApiKey,d=l.llmFactory,h=l.onApiKeySavingOk,g=l.apiKeyVisible,x=l.hideApiKeyModal,v=l.showApiKeyModal,k=function(){var e=(0,oe.fS)().data,n=(0,p.OR)(),a=n.saveTenantInfo,r=n.loading,i=(0,m.pG)(),l=i.visible,s=i.hideModal,o=i.showModal,d=(0,t.useCallback)(function(){var n=V()(C()().mark((function n(t){return C()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a(O()({tenant_id:e.tenant_id,name:e.name},t));case 2:0===n.sent&&s();case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[s,a,e]);return{saveSystemModelSettingLoading:r,onSystemSettingSavingOk:d,systemSettingVisible:l,hideSystemSettingModal:s,showSystemSettingModal:o}}(),b=k.saveSystemModelSettingLoading,_=k.onSystemSettingSavingOk,Z=k.systemSettingVisible,F=k.hideSystemSettingModal,S=k.showSystemSettingModal,q=(0,m.qM)("setting").t,P=function(){var e=(0,t.useState)(""),n=D()(e,2),a=n[0],r=n[1],i=(0,p.uZ)(),l=i.addLlm,s=i.loading,o=(0,m.pG)(),d=o.visible,c=o.hideModal,u=o.showModal,h=(0,t.useCallback)(function(){var e=V()(C()().mark((function e(n){return C()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(n);case 2:0===e.sent&&c();case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[c,l]);return{llmAddingLoading:s,onLlmAddingOk:h,llmAddingVisible:d,hideLlmAddingModal:c,showLlmAddingModal:function(e){r(e),u()},selectedLlmFactory:a}}(),K=P.llmAddingVisible,G=P.hideLlmAddingModal,N=P.showLlmAddingModal,B=P.onLlmAddingOk,z=P.llmAddingLoading,H=P.selectedLlmFactory,E=function(){var e=(0,p.uZ)(),n=e.addLlm,a=e.loading,r=(0,m.pG)(),i=r.visible,l=r.hideModal,s=r.showModal,o=(0,t.useCallback)(function(){var e=V()(C()().mark((function e(a){return C()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(a);case 2:0===e.sent&&l();case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[l,n]);return{volcAddingLoading:a,onVolcAddingOk:o,volcAddingVisible:i,hideVolcAddingModal:l,showVolcAddingModal:s}}(),W=E.volcAddingVisible,Q=E.hideVolcAddingModal,$=E.showVolcAddingModal,Y=E.onVolcAddingOk,J=E.volcAddingLoading,ne=function(){var e=(0,p.uZ)(),n=e.addLlm,a=e.loading,r=(0,m.pG)(),i=r.visible,l=r.hideModal,s=r.showModal,o=(0,t.useCallback)(function(){var e=V()(C()().mark((function e(a){return C()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(a);case 2:0===e.sent&&l();case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[l,n]);return{HunyuanAddingLoading:a,onHunyuanAddingOk:o,HunyuanAddingVisible:i,hideHunyuanAddingModal:l,showHunyuanAddingModal:s}}(),ae=ne.HunyuanAddingVisible,re=ne.hideHunyuanAddingModal,le=ne.showHunyuanAddingModal,me=ne.onHunyuanAddingOk,pe=ne.HunyuanAddingLoading,fe=function(){var e=(0,p.uZ)(),n=e.addLlm,a=e.loading,r=(0,m.pG)(),i=r.visible,l=r.hideModal,s=r.showModal,o=(0,t.useCallback)(function(){var e=V()(C()().mark((function e(a){return C()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(a);case 2:0===e.sent&&l();case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[l,n]);return{GoogleAddingLoading:a,onGoogleAddingOk:o,GoogleAddingVisible:i,hideGoogleAddingModal:l,showGoogleAddingModal:s}}(),ye=fe.GoogleAddingVisible,je=fe.hideGoogleAddingModal,be=fe.showGoogleAddingModal,_e=fe.onGoogleAddingOk,Ae=fe.GoogleAddingLoading,we=function(){var e=(0,p.uZ)(),n=e.addLlm,a=e.loading,r=(0,m.pG)(),i=r.visible,l=r.hideModal,s=r.showModal,o=(0,t.useCallback)(function(){var e=V()(C()().mark((function e(a){return C()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(a);case 2:0===e.sent&&l();case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[l,n]);return{TencentCloudAddingLoading:a,onTencentCloudAddingOk:o,TencentCloudAddingVisible:i,hideTencentCloudAddingModal:l,showTencentCloudAddingModal:s}}(),Ie=we.TencentCloudAddingVisible,Fe=we.hideTencentCloudAddingModal,Se=we.showTencentCloudAddingModal,Pe=we.onTencentCloudAddingOk,Ve=we.TencentCloudAddingLoading,Ke=function(){var e=(0,p.uZ)(),n=e.addLlm,a=e.loading,r=(0,m.pG)(),i=r.visible,l=r.hideModal,s=r.showModal,o=(0,t.useCallback)(function(){var e=V()(C()().mark((function e(a){return C()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(a);case 2:0===e.sent&&l();case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[l,n]);return{SparkAddingLoading:a,onSparkAddingOk:o,SparkAddingVisible:i,hideSparkAddingModal:l,showSparkAddingModal:s}}(),De=Ke.SparkAddingVisible,Ge=Ke.hideSparkAddingModal,Ne=Ke.showSparkAddingModal,Be=Ke.onSparkAddingOk,ze=Ke.SparkAddingLoading,He=function(){var e=(0,p.uZ)(),n=e.addLlm,a=e.loading,r=(0,m.pG)(),i=r.visible,l=r.hideModal,s=r.showModal,o=(0,t.useCallback)(function(){var e=V()(C()().mark((function e(a){return C()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(a);case 2:0===e.sent&&l();case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[l,n]);return{yiyanAddingLoading:a,onyiyanAddingOk:o,yiyanAddingVisible:i,hideyiyanAddingModal:l,showyiyanAddingModal:s}}(),Ee=He.yiyanAddingVisible,Re=He.hideyiyanAddingModal,We=He.showyiyanAddingModal,Ue=He.onyiyanAddingOk,Qe=He.yiyanAddingLoading,Xe=function(){var e=(0,p.uZ)(),n=e.addLlm,a=e.loading,r=(0,m.pG)(),i=r.visible,l=r.hideModal,s=r.showModal,o=(0,t.useCallback)(function(){var e=V()(C()().mark((function e(a){return C()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(a);case 2:0===e.sent&&l();case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[l,n]);return{FishAudioAddingLoading:a,onFishAudioAddingOk:o,FishAudioAddingVisible:i,hideFishAudioAddingModal:l,showFishAudioAddingModal:s}}(),$e=Xe.FishAudioAddingVisible,Ye=Xe.hideFishAudioAddingModal,Je=Xe.showFishAudioAddingModal,en=Xe.onFishAudioAddingOk,nn=Xe.FishAudioAddingLoading,an=function(){var e=(0,p.uZ)(),n=e.addLlm,a=e.loading,r=(0,m.pG)(),i=r.visible,l=r.hideModal,s=r.showModal,o=(0,t.useCallback)(function(){var e=V()(C()().mark((function e(a){return C()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(a);case 2:0===e.sent&&l();case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[l,n]);return{bedrockAddingLoading:a,onBedrockAddingOk:o,bedrockAddingVisible:i,hideBedrockAddingModal:l,showBedrockAddingModal:s}}(),tn=an.bedrockAddingLoading,rn=an.onBedrockAddingOk,ln=an.bedrockAddingVisible,sn=an.hideBedrockAddingModal,on=an.showBedrockAddingModal,dn=function(){var e=(0,p.uZ)(),n=e.addLlm,a=e.loading,r=(0,m.pG)(),i=r.visible,l=r.hideModal,s=r.showModal,o=(0,t.useCallback)(function(){var e=V()(C()().mark((function e(a){return C()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(a);case 2:0===e.sent&&l();case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[l,n]);return{AzureAddingLoading:a,onAzureAddingOk:o,AzureAddingVisible:i,hideAzureAddingModal:l,showAzureAddingModal:s}}(),cn=dn.AzureAddingVisible,un=dn.hideAzureAddingModal,mn=dn.showAzureAddingModal,pn=dn.onAzureAddingOk,hn=dn.AzureAddingLoading,gn=(0,t.useMemo)((function(){return{Bedrock:on,VolcEngine:$,"Tencent Hunyuan":le,"XunFei Spark":Ne,BaiduYiyan:We,"Fish Audio":Je,"Tencent Cloud":Se,"Google Cloud":be,"Azure-OpenAI":mn}}),[on,$,le,Se,Ne,We,Je,be,mn]),xn=(0,t.useCallback)((function(e){L(e)?N(e):e in gn?gn[e]():v({llm_factory:e})}),[v,N,gn]),fn=[{key:"1",label:q("addedModels"),children:(0,R.jsx)(f.Z,{grid:{gutter:16,column:1},dataSource:a,renderItem:function(e){return(0,R.jsx)(Oe,{item:e,clickApiKey:xn})}})},{key:"2",label:q("modelsToBeAdded"),children:(0,R.jsx)(f.Z,{grid:{gutter:{xs:8,sm:10,md:12,lg:16,xl:20,xxl:24},xs:1,sm:1,md:2,lg:3,xl:4,xxl:8},dataSource:n,renderItem:function(e){return(0,R.jsx)(f.Z.Item,{children:(0,R.jsxs)(y.Z,{className:"dark"===i?xe:he,children:[(0,R.jsxs)(j.Z,{vertical:!0,gap:"middle",children:[(0,R.jsx)(c.$,{name:e.name}),(0,R.jsxs)(j.Z,{vertical:!0,gap:"middle",children:[(0,R.jsx)("b",{children:(0,R.jsx)(qe,{ellipsis:{tooltip:e.name},children:e.name})}),(0,R.jsx)(qe,{className:ke,children:e.tags})]})]}),(0,R.jsx)(A.Z,{className:ve}),(0,R.jsx)(M.ZP,{type:"link",onClick:function(){return xn(e.name)},className:ge,children:q("addTheModel")})]})})}})}];return(0,R.jsxs)("section",{id:"xx",className:ce,children:[(0,R.jsx)(w.Z,{spinning:r,children:(0,R.jsxs)("section",{className:ue,children:[(0,R.jsx)(T.Z,{title:q("model"),description:q("modelDescription"),showRightButton:!0,clickButton:S}),(0,R.jsx)(A.Z,{}),(0,R.jsx)(I.Z,{defaultActiveKey:["1","2"],ghost:!0,items:fn})]})}),(0,R.jsx)(X,{visible:g,hideModal:x,loading:s,initialValue:o,onOk:h,llmFactory:d}),Z&&(0,R.jsx)(Te,{visible:Z,onOk:_,hideModal:F,loading:b}),(0,R.jsx)(Me,{visible:K,hideModal:G,onOk:B,loading:z,llmFactory:H}),(0,R.jsx)(Le,{visible:W,hideModal:Q,onOk:Y,loading:J,llmFactory:"VolcEngine"}),(0,R.jsx)(de,{visible:ae,hideModal:re,onOk:me,loading:pe,llmFactory:"Tencent Hunyuan"}),(0,R.jsx)(se,{visible:ye,hideModal:je,onOk:_e,loading:Ae,llmFactory:"Google Cloud"}),(0,R.jsx)(U,{visible:Ie,hideModal:Fe,onOk:Pe,loading:Ve,llmFactory:"Tencent Cloud"}),(0,R.jsx)(Ze,{visible:De,hideModal:Ge,onOk:Be,loading:ze,llmFactory:"XunFei Spark"}),(0,R.jsx)(Ce,{visible:Ee,hideModal:Re,onOk:Ue,loading:Qe,llmFactory:"BaiduYiyan"}),(0,R.jsx)(ie,{visible:$e,hideModal:Ye,onOk:en,loading:nn,llmFactory:"Fish Audio"}),(0,R.jsx)(te,{visible:ln,hideModal:sn,onOk:rn,loading:tn,llmFactory:"Bedrock"}),(0,R.jsx)(ee,{visible:cn,hideModal:un,onOk:pn,loading:hn,llmFactory:"Azure-OpenAI"})]})}}}]);
//# sourceMappingURL=p__user-setting__setting-model__index.a91f9436.async.js.map